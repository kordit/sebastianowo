[2025-05-18 19:07:11] [INFO] Sprawdzanie dialogu
[2025-05-18 19:07:11] [DATA] Array
(
    [acf_fc_layout] => condition_task
    [condition] => is_not
    [mission_id] => 339
    [task_id] => jak-poruszac-sie-po-grze_0
    [status] => completed
)

[2025-05-18 19:10:18] [INFO] Sprawdzanie dialogu
[2025-05-18 19:10:18] [DATA] Array
(
    [dialog_id] => brak id
    [answers_count] => 1
)

[2025-05-18 19:10:18] [INFO] Sprawdzanie dialogu
[2025-05-18 19:10:18] [DATA] Array
(
    [dialog_id] => brak id
    [answers_count] => 2
)

[2025-05-18 19:10:18] [INFO] Filtrowanie anwsers dla dialogu
[2025-05-18 19:10:18] [DATA] Array
(
    [dialog_id] => brak id
    [anwsers_count_before] => 2
)

[2025-05-18 19:10:18] [INFO] Warunek dla odpowiedzi
[2025-05-18 19:10:18] [DATA] Array
(
    [answer_text] => Jak poruszać się po grze?
    [condition] => Array
        (
            [acf_fc_layout] => condition_task
            [condition] => is_not
            [mission_id] => 339
            [task_id] => jak-poruszac-sie-po-grze_0
            [status] => completed
        )

)

[2025-05-18 19:10:18] [INFO] Odpowiedź nie spełnia warunku
[2025-05-18 19:10:18] [DATA] Array
(
    [answer_text] => Jak poruszać się po grze?
    [condition] => Array
        (
            [acf_fc_layout] => condition_task
            [condition] => is_not
            [mission_id] => 339
            [task_id] => jak-poruszac-sie-po-grze_0
            [status] => completed
        )

    [result] => 
)

[2025-05-18 19:10:18] [INFO] Po filtrowaniu anwsers
[2025-05-18 19:10:18] [DATA] Array
(
    [dialog_id] => brak id
    [anwsers_count_after] => 1
    [anwsers_texts] => Array
        (
            [1] => test
        )

)

[2025-05-18 19:10:28] [INFO] Sprawdzanie dialogu
[2025-05-18 19:10:28] [DATA] Array
(
    [dialog_id] => brak id
    [answers_count] => 1
)

[2025-05-18 19:10:28] [INFO] Filtrowanie anwsers dla dialogu
[2025-05-18 19:10:28] [DATA] Array
(
    [dialog_id] => brak id
    [anwsers_count_before] => 1
)

[2025-05-18 19:10:28] [INFO] Warunek dla odpowiedzi
[2025-05-18 19:10:28] [DATA] Array
(
    [answer_text] => Jak się w to w ogóle gra?
    [condition] => Array
        (
            [acf_fc_layout] => condition_npc_relation
            [condition] => is_not_known
            [npc_id] => 449
            [relation_value] => 50
        )

)

[2025-05-18 19:10:28] [INFO] Po filtrowaniu anwsers
[2025-05-18 19:10:28] [DATA] Array
(
    [dialog_id] => brak id
    [anwsers_count_after] => 1
    [anwsers_texts] => Array
        (
            [0] => Jak się w to w ogóle gra?
        )

)

[2025-05-18 19:10:29] [INFO] WSZYSTKIE DANE ŻĄDANIA:
[2025-05-18 19:10:29] [DATA] Array
(
    [page_data] => Array
        (
        )

    [npc_id] => 449
    [dialog_id] => jak-sie-w-to-gra
    [current_url] => http://seb.soeasy.it/tereny/park/
    [user_id] => 1
    [answer_id] => answer-0
    [answer_index] => 0
    [current_dialog_id] => przy-wiezieniu
)

[2025-05-18 19:10:29] [INFO] Wyodrębnione dane lokalizacji:
[2025-05-18 19:10:29] [DATA] Array
(
    [location] => Array
        (
            [area_slug] => park
            [area_name] => Park
            [area_id] => 207
        )

    [type_page] => 
    [location_value] => 
)

[2025-05-18 19:10:29] [DEBUG] ROZPOCZYNAM PRZETWARZANIE PRZYCISKÓW ODPOWIEDZI
[2025-05-18 19:10:29] [DEBUG] Znaleziono dialog o ID: przy-wiezieniu
[2025-05-18 19:10:29] [DEBUG] Znaleziono poprzedni dialog ID: przy-wiezieniu
[2025-05-18 19:10:29] [INFO] Pełne dane dialogu:
[2025-05-18 19:10:29] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => condition_task
                            [condition] => is_not
                            [mission_id] => 339
                            [task_id] => jak-poruszac-sie-po-grze_0
                            [status] => completed
                        )

                )

        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => przy-wiezieniu
    [question] => <p>– No to jesteśmy &#8211; z celi wyszedłeś, <strong>ale do świata Sebastianowa dopiero wchodzisz.</strong><br />
Może Ci się wydaje, że jesteś kimś, że Twoja historia się liczy, że coś ci się należy &#8211; bo miałeś ciężko. To posłuchaj uważnie, zanim się zgubisz między trzepakiem a meliną: <strong>Jesteś jednym z wielu</strong>, co myślą, że jak przetrwali jedną noc na dołku, to teraz świat ich powita z otwartymi ramionami.</p>
<p>Jestem Papuga. To ja otworzyłem ci drzwi. Nie z litości, nie z sympatii. Chcę po prostu zobaczyć, co zrobisz, kiedy w końcu przestanie być łatwo.</p>
<p>Bo w Sebastianowie nic nie jest za darmo. Respekt buduje się decyzjami. A każda z nich zostawia ślad – na tobie albo na kimś innym. <strong>Masz pytania? Pytaj – zanim przestanie to być możliwe.</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_npc_relation
                                            [condition] => is_not_known
                                            [npc_id] => 449
                                            [relation_value] => 50
                                        )

                                )

                        )

                    [anwser_text] => Jak się w to w ogóle gra?
                    [type_anwser] => 
                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-18 19:10:29] [INFO] Odpowiedzi w dialogu:
[2025-05-18 19:10:29] [DATA] Array
(
    [0] => Array
        (
            [acf_fc_layout] => anwser
            [layout_settings] => Array
                (
                    [visibility_tab] => 
                    [logic_operator] => and
                    [visibility_settings] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => condition_npc_relation
                                    [condition] => is_not_known
                                    [npc_id] => 449
                                    [relation_value] => 50
                                )

                        )

                )

            [anwser_text] => Jak się w to w ogóle gra?
            [type_anwser] => 
            [go_to_id] => jak-sie-w-to-gra
        )

)

[2025-05-18 19:10:29] [DEBUG] Znaleziono odpowiedź o indeksie: 0
[2025-05-18 19:10:29] [INFO] Dane odpowiedzi:
[2025-05-18 19:10:29] [DATA] Array
(
    [acf_fc_layout] => anwser
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => condition_npc_relation
                            [condition] => is_not_known
                            [npc_id] => 449
                            [relation_value] => 50
                        )

                )

        )

    [anwser_text] => Jak się w to w ogóle gra?
    [type_anwser] => 
    [go_to_id] => jak-sie-w-to-gra
)

[2025-05-18 19:10:29] [DEBUG] Odpowiedź NIE zawiera akcji type_anwser lub jest pusta
[2025-05-18 19:10:29] [INFO] DialogManager: Rozpoczynam filtrowanie odpowiedzi.
[2025-05-18 19:10:29] [DATA] Array
(
    [count_answers_before] => 7
    [context] => Array
        (
            [type_page] => 
            [location] => 
            [user_id] => 1
            [npc_id] => 449
        )

)

[2025-05-18 19:10:29] [INFO] DialogManager: Sprawdzanie odpowiedzi: acf_fc_layout
[2025-05-18 19:10:29] [DATA] Array
(
    [answer_data] => question
)

[2025-05-18 19:10:29] [DEBUG] DialogManager: Odpowiedź (acf_fc_layout) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 19:10:29] [INFO] DialogManager: Sprawdzanie odpowiedzi: layout_settings
[2025-05-18 19:10:29] [DATA] Array
(
    [answer_data] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

)

[2025-05-18 19:10:29] [DEBUG] DialogManager: Odpowiedź (layout_settings) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 19:10:29] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_toggle
[2025-05-18 19:10:29] [DATA] Array
(
    [answer_data] => 
)

[2025-05-18 19:10:29] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_toggle) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 19:10:29] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_layout_title
[2025-05-18 19:10:29] [DATA] Array
(
    [answer_data] => Dialog
)

[2025-05-18 19:10:29] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_layout_title) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 19:10:29] [INFO] DialogManager: Sprawdzanie odpowiedzi: id_pola
[2025-05-18 19:10:29] [DATA] Array
(
    [answer_data] => jak-sie-w-to-gra
)

[2025-05-18 19:10:29] [DEBUG] DialogManager: Odpowiedź (id_pola) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 19:10:29] [INFO] DialogManager: Sprawdzanie odpowiedzi: question
[2025-05-18 19:10:29] [DATA] Array
(
    [answer_data] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

)

[2025-05-18 19:10:29] [DEBUG] DialogManager: Odpowiedź (question) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 19:10:29] [INFO] DialogManager: Sprawdzanie odpowiedzi: anwsers
[2025-05-18 19:10:29] [DATA] Array
(
    [answer_data] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_task
                                            [condition] => is_not
                                            [mission_id] => 339
                                            [task_id] => jak-poruszac-sie-po-grze_0
                                            [status] => completed
                                        )

                                )

                        )

                    [anwser_text] => Jak poruszać się po grze?
                    [type_anwser] => 
                    [go_to_id] => jak-poruszac-sie-po-grze
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => test
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-18 19:10:29] [DEBUG] DialogManager: Odpowiedź (anwsers) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 19:10:29] [INFO] DialogManager: Zakończono filtrowanie odpowiedzi.
[2025-05-18 19:10:29] [DATA] Array
(
    [count_answers_after] => 7
)

[2025-05-18 19:10:29] [INFO] Dialog po filtrowaniu:
[2025-05-18 19:10:29] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-sie-w-to-gra
    [question] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_task
                                            [condition] => is_not
                                            [mission_id] => 339
                                            [task_id] => jak-poruszac-sie-po-grze_0
                                            [status] => completed
                                        )

                                )

                        )

                    [anwser_text] => Jak poruszać się po grze?
                    [type_anwser] => 
                    [go_to_id] => jak-poruszac-sie-po-grze
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => test
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-18 19:10:29] [INFO] Dane odpowiedzi:
[2025-05-18 19:10:29] [DATA] Array
(
    [success] => 1
    [dialog] => Array
        (
            [id] => jak-sie-w-to-gra
            [text] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

            [answers] => Array
                (
                    [0] => Array
                        (
                            [id] => 
                            [text] => Jak poruszać się po grze?
                            [next_dialog] => jak-poruszac-sie-po-grze
                        )

                    [1] => Array
                        (
                            [id] => 
                            [text] => test
                            [next_dialog] => 0
                        )

                )

        )

    [npc] => Array
        (
            [id] => 449
            [name] => Papuga
            [image] => http://seb.soeasy.it/wp-content/uploads/2025/05/papuga_new.png
        )

)

[2025-05-18 19:10:29] [DEBUG] ===== ZAKOŃCZENIE PRZETWARZANIA ŻĄDANIA DIALOGU =====
[2025-05-18 19:10:30] [INFO] WSZYSTKIE DANE ŻĄDANIA:
[2025-05-18 19:10:30] [DATA] Array
(
    [page_data] => Array
        (
        )

    [npc_id] => 449
    [dialog_id] => jak-poruszac-sie-po-grze
    [current_url] => http://seb.soeasy.it/tereny/park/
    [user_id] => 1
    [answer_id] => answer-0
    [answer_index] => 0
    [current_dialog_id] => jak-sie-w-to-gra
)

[2025-05-18 19:10:30] [INFO] Wyodrębnione dane lokalizacji:
[2025-05-18 19:10:30] [DATA] Array
(
    [location] => Array
        (
            [area_slug] => park
            [area_name] => Park
            [area_id] => 207
        )

    [type_page] => 
    [location_value] => 
)

[2025-05-18 19:10:30] [DEBUG] ROZPOCZYNAM PRZETWARZANIE PRZYCISKÓW ODPOWIEDZI
[2025-05-18 19:10:30] [DEBUG] Znaleziono dialog o ID: jak-sie-w-to-gra
[2025-05-18 19:10:30] [DEBUG] Znaleziono poprzedni dialog ID: jak-sie-w-to-gra
[2025-05-18 19:10:30] [INFO] Pełne dane dialogu:
[2025-05-18 19:10:30] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-sie-w-to-gra
    [question] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_task
                                            [condition] => is_not
                                            [mission_id] => 339
                                            [task_id] => jak-poruszac-sie-po-grze_0
                                            [status] => completed
                                        )

                                )

                        )

                    [anwser_text] => Jak poruszać się po grze?
                    [type_anwser] => 
                    [go_to_id] => jak-poruszac-sie-po-grze
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => test
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-18 19:10:30] [INFO] Odpowiedzi w dialogu:
[2025-05-18 19:10:30] [DATA] Array
(
    [0] => Array
        (
            [acf_fc_layout] => anwser
            [layout_settings] => Array
                (
                    [visibility_tab] => 
                    [logic_operator] => and
                    [visibility_settings] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => condition_task
                                    [condition] => is_not
                                    [mission_id] => 339
                                    [task_id] => jak-poruszac-sie-po-grze_0
                                    [status] => completed
                                )

                        )

                )

            [anwser_text] => Jak poruszać się po grze?
            [type_anwser] => 
            [go_to_id] => jak-poruszac-sie-po-grze
        )

    [1] => Array
        (
            [acf_fc_layout] => anwser
            [layout_settings] => Array
                (
                    [visibility_tab] => 
                    [logic_operator] => and
                    [visibility_settings] => 
                )

            [anwser_text] => test
            [type_anwser] => 
            [go_to_id] => 0
        )

)

[2025-05-18 19:10:30] [DEBUG] Znaleziono odpowiedź o indeksie: 0
[2025-05-18 19:10:30] [INFO] Dane odpowiedzi:
[2025-05-18 19:10:30] [DATA] Array
(
    [acf_fc_layout] => anwser
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => condition_task
                            [condition] => is_not
                            [mission_id] => 339
                            [task_id] => jak-poruszac-sie-po-grze_0
                            [status] => completed
                        )

                )

        )

    [anwser_text] => Jak poruszać się po grze?
    [type_anwser] => 
    [go_to_id] => jak-poruszac-sie-po-grze
)

[2025-05-18 19:10:30] [DEBUG] Odpowiedź NIE zawiera akcji type_anwser lub jest pusta
[2025-05-18 19:10:30] [INFO] DialogManager: Rozpoczynam filtrowanie odpowiedzi.
[2025-05-18 19:10:30] [DATA] Array
(
    [count_answers_before] => 7
    [context] => Array
        (
            [type_page] => 
            [location] => 
            [user_id] => 1
            [npc_id] => 449
        )

)

[2025-05-18 19:10:30] [INFO] DialogManager: Sprawdzanie odpowiedzi: acf_fc_layout
[2025-05-18 19:10:30] [DATA] Array
(
    [answer_data] => question
)

[2025-05-18 19:10:30] [DEBUG] DialogManager: Odpowiedź (acf_fc_layout) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 19:10:30] [INFO] DialogManager: Sprawdzanie odpowiedzi: layout_settings
[2025-05-18 19:10:30] [DATA] Array
(
    [answer_data] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

)

[2025-05-18 19:10:30] [DEBUG] DialogManager: Odpowiedź (layout_settings) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 19:10:30] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_toggle
[2025-05-18 19:10:30] [DATA] Array
(
    [answer_data] => 
)

[2025-05-18 19:10:30] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_toggle) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 19:10:30] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_layout_title
[2025-05-18 19:10:30] [DATA] Array
(
    [answer_data] => Dialog
)

[2025-05-18 19:10:30] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_layout_title) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 19:10:30] [INFO] DialogManager: Sprawdzanie odpowiedzi: id_pola
[2025-05-18 19:10:30] [DATA] Array
(
    [answer_data] => jak-poruszac-sie-po-grze
)

[2025-05-18 19:10:30] [DEBUG] DialogManager: Odpowiedź (id_pola) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 19:10:30] [INFO] DialogManager: Sprawdzanie odpowiedzi: question
[2025-05-18 19:10:30] [DATA] Array
(
    [answer_data] => <p><strong>Każda scena to jeden widok – jak kadr z życia</strong>. Na nim są miejsca, osoby i przedmioty, z którymi możesz wejść w interakcję. Biały kolor oznacza przejście do innej sceny. Możesz przejść z bramy na klatkę, z meliny do sklepu, z podwórka do innej dzielnicy. Te przejścia nie kosztują Cię nic energii.</p>
<p><strong>Niebieski kolor to akcje z otoczeniem. </strong>Grzebanie w śmietniku, kontenerze na ubrania, zaglądanie do kiosku, przeszukiwanie bagażnika, otwieranie skrytki – tutaj każda akcja kosztuje pewną ilość energii. <strong>Postacie mają kolorowe obwódki. Klikasz – zaczyna się rozmowa.</strong></p>
<ul>
<li>Zielony – lubią cię.</li>
<li>Czerwony – nie cierpią.</li>
<li>Pomarańczowy – neutralni, jeszcze nie wiedzą, co o tobie sądzić.</li>
</ul>
<p>Każda rozmowa może Ci coś dać – albo zabrać. Zależy, jak się zachowasz.</p>
<p>Czasem znajdziesz coś cennego. Czasem coś obrzydliwego. A czasem kogoś obudzisz. <strong>Pamiętaj – nie każde poruszanie się między widokami zużywa energę. </strong>Dopiero konkretne działania albo spacery po dzielnicach zabierają energię</p>

)

[2025-05-18 19:10:30] [DEBUG] DialogManager: Odpowiedź (question) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 19:10:30] [INFO] DialogManager: Sprawdzanie odpowiedzi: anwsers
[2025-05-18 19:10:30] [DATA] Array
(
    [answer_data] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => Okej, załapałem jak się poruszać
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => mission
                                    [acfe_flexible_toggle] => 
                                    [mission_id] => 339
                                    [mission_status] => in_progress
                                    [mission_task_id] => jak-poruszac-sie-po-grze_0
                                    [mission_task_status] => completed
                                )

                        )

                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-18 19:10:30] [DEBUG] DialogManager: Odpowiedź (anwsers) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 19:10:30] [INFO] DialogManager: Zakończono filtrowanie odpowiedzi.
[2025-05-18 19:10:30] [DATA] Array
(
    [count_answers_after] => 7
)

[2025-05-18 19:10:30] [INFO] Dialog po filtrowaniu:
[2025-05-18 19:10:30] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-poruszac-sie-po-grze
    [question] => <p><strong>Każda scena to jeden widok – jak kadr z życia</strong>. Na nim są miejsca, osoby i przedmioty, z którymi możesz wejść w interakcję. Biały kolor oznacza przejście do innej sceny. Możesz przejść z bramy na klatkę, z meliny do sklepu, z podwórka do innej dzielnicy. Te przejścia nie kosztują Cię nic energii.</p>
<p><strong>Niebieski kolor to akcje z otoczeniem. </strong>Grzebanie w śmietniku, kontenerze na ubrania, zaglądanie do kiosku, przeszukiwanie bagażnika, otwieranie skrytki – tutaj każda akcja kosztuje pewną ilość energii. <strong>Postacie mają kolorowe obwódki. Klikasz – zaczyna się rozmowa.</strong></p>
<ul>
<li>Zielony – lubią cię.</li>
<li>Czerwony – nie cierpią.</li>
<li>Pomarańczowy – neutralni, jeszcze nie wiedzą, co o tobie sądzić.</li>
</ul>
<p>Każda rozmowa może Ci coś dać – albo zabrać. Zależy, jak się zachowasz.</p>
<p>Czasem znajdziesz coś cennego. Czasem coś obrzydliwego. A czasem kogoś obudzisz. <strong>Pamiętaj – nie każde poruszanie się między widokami zużywa energę. </strong>Dopiero konkretne działania albo spacery po dzielnicach zabierają energię</p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => Okej, załapałem jak się poruszać
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => mission
                                    [acfe_flexible_toggle] => 
                                    [mission_id] => 339
                                    [mission_status] => in_progress
                                    [mission_task_id] => jak-poruszac-sie-po-grze_0
                                    [mission_task_status] => completed
                                )

                        )

                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-18 19:10:30] [INFO] Dane odpowiedzi:
[2025-05-18 19:10:30] [DATA] Array
(
    [success] => 1
    [dialog] => Array
        (
            [id] => jak-poruszac-sie-po-grze
            [text] => <p><strong>Każda scena to jeden widok – jak kadr z życia</strong>. Na nim są miejsca, osoby i przedmioty, z którymi możesz wejść w interakcję. Biały kolor oznacza przejście do innej sceny. Możesz przejść z bramy na klatkę, z meliny do sklepu, z podwórka do innej dzielnicy. Te przejścia nie kosztują Cię nic energii.</p>
<p><strong>Niebieski kolor to akcje z otoczeniem. </strong>Grzebanie w śmietniku, kontenerze na ubrania, zaglądanie do kiosku, przeszukiwanie bagażnika, otwieranie skrytki – tutaj każda akcja kosztuje pewną ilość energii. <strong>Postacie mają kolorowe obwódki. Klikasz – zaczyna się rozmowa.</strong></p>
<ul>
<li>Zielony – lubią cię.</li>
<li>Czerwony – nie cierpią.</li>
<li>Pomarańczowy – neutralni, jeszcze nie wiedzą, co o tobie sądzić.</li>
</ul>
<p>Każda rozmowa może Ci coś dać – albo zabrać. Zależy, jak się zachowasz.</p>
<p>Czasem znajdziesz coś cennego. Czasem coś obrzydliwego. A czasem kogoś obudzisz. <strong>Pamiętaj – nie każde poruszanie się między widokami zużywa energę. </strong>Dopiero konkretne działania albo spacery po dzielnicach zabierają energię</p>

            [answers] => Array
                (
                    [0] => Array
                        (
                            [id] => 
                            [text] => Okej, załapałem jak się poruszać
                            [next_dialog] => jak-sie-w-to-gra
                        )

                )

        )

    [npc] => Array
        (
            [id] => 449
            [name] => Papuga
            [image] => http://seb.soeasy.it/wp-content/uploads/2025/05/papuga_new.png
        )

)

[2025-05-18 19:10:30] [DEBUG] ===== ZAKOŃCZENIE PRZETWARZANIA ŻĄDANIA DIALOGU =====
[2025-05-18 19:10:32] [INFO] WSZYSTKIE DANE ŻĄDANIA:
[2025-05-18 19:10:32] [DATA] Array
(
    [page_data] => Array
        (
        )

    [npc_id] => 449
    [dialog_id] => jak-sie-w-to-gra
    [current_url] => http://seb.soeasy.it/tereny/park/
    [user_id] => 1
    [answer_id] => answer-0
    [answer_index] => 0
    [current_dialog_id] => jak-poruszac-sie-po-grze
)

[2025-05-18 19:10:32] [INFO] Wyodrębnione dane lokalizacji:
[2025-05-18 19:10:32] [DATA] Array
(
    [location] => Array
        (
            [area_slug] => park
            [area_name] => Park
            [area_id] => 207
        )

    [type_page] => 
    [location_value] => 
)

[2025-05-18 19:10:32] [DEBUG] ROZPOCZYNAM PRZETWARZANIE PRZYCISKÓW ODPOWIEDZI
[2025-05-18 19:10:32] [DEBUG] Znaleziono dialog o ID: jak-poruszac-sie-po-grze
[2025-05-18 19:10:32] [DEBUG] Znaleziono poprzedni dialog ID: jak-poruszac-sie-po-grze
[2025-05-18 19:10:32] [INFO] Pełne dane dialogu:
[2025-05-18 19:10:32] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-poruszac-sie-po-grze
    [question] => <p><strong>Każda scena to jeden widok – jak kadr z życia</strong>. Na nim są miejsca, osoby i przedmioty, z którymi możesz wejść w interakcję. Biały kolor oznacza przejście do innej sceny. Możesz przejść z bramy na klatkę, z meliny do sklepu, z podwórka do innej dzielnicy. Te przejścia nie kosztują Cię nic energii.</p>
<p><strong>Niebieski kolor to akcje z otoczeniem. </strong>Grzebanie w śmietniku, kontenerze na ubrania, zaglądanie do kiosku, przeszukiwanie bagażnika, otwieranie skrytki – tutaj każda akcja kosztuje pewną ilość energii. <strong>Postacie mają kolorowe obwódki. Klikasz – zaczyna się rozmowa.</strong></p>
<ul>
<li>Zielony – lubią cię.</li>
<li>Czerwony – nie cierpią.</li>
<li>Pomarańczowy – neutralni, jeszcze nie wiedzą, co o tobie sądzić.</li>
</ul>
<p>Każda rozmowa może Ci coś dać – albo zabrać. Zależy, jak się zachowasz.</p>
<p>Czasem znajdziesz coś cennego. Czasem coś obrzydliwego. A czasem kogoś obudzisz. <strong>Pamiętaj – nie każde poruszanie się między widokami zużywa energę. </strong>Dopiero konkretne działania albo spacery po dzielnicach zabierają energię</p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => Okej, załapałem jak się poruszać
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => mission
                                    [acfe_flexible_toggle] => 
                                    [mission_id] => 339
                                    [mission_status] => in_progress
                                    [mission_task_id] => jak-poruszac-sie-po-grze_0
                                    [mission_task_status] => completed
                                )

                        )

                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-18 19:10:32] [INFO] Odpowiedzi w dialogu:
[2025-05-18 19:10:32] [DATA] Array
(
    [0] => Array
        (
            [acf_fc_layout] => anwser
            [layout_settings] => Array
                (
                    [visibility_tab] => 
                    [logic_operator] => and
                    [visibility_settings] => 
                )

            [anwser_text] => Okej, załapałem jak się poruszać
            [type_anwser] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => mission
                            [acfe_flexible_toggle] => 
                            [mission_id] => 339
                            [mission_status] => in_progress
                            [mission_task_id] => jak-poruszac-sie-po-grze_0
                            [mission_task_status] => completed
                        )

                )

            [go_to_id] => jak-sie-w-to-gra
        )

)

[2025-05-18 19:10:32] [DEBUG] Znaleziono odpowiedź o indeksie: 0
[2025-05-18 19:10:32] [INFO] Dane odpowiedzi:
[2025-05-18 19:10:32] [DATA] Array
(
    [acf_fc_layout] => anwser
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [anwser_text] => Okej, załapałem jak się poruszać
    [type_anwser] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => mission
                    [acfe_flexible_toggle] => 
                    [mission_id] => 339
                    [mission_status] => in_progress
                    [mission_task_id] => jak-poruszac-sie-po-grze_0
                    [mission_task_status] => completed
                )

        )

    [go_to_id] => jak-sie-w-to-gra
)

[2025-05-18 19:10:32] [INFO] Odpowiedź zawiera akcje do wykonania:
[2025-05-18 19:10:32] [DATA] Array
(
    [0] => Array
        (
            [acf_fc_layout] => mission
            [acfe_flexible_toggle] => 
            [mission_id] => 339
            [mission_status] => in_progress
            [mission_task_id] => jak-poruszac-sie-po-grze_0
            [mission_task_status] => completed
        )

)

[2025-05-18 19:10:32] [INFO] Weryfikacja akcji:
[2025-05-18 19:10:32] [DATA] Array
(
    [acf_fc_layout] => mission
    [acfe_flexible_toggle] => 
    [mission_id] => 339
    [mission_status] => in_progress
    [mission_task_id] => jak-poruszac-sie-po-grze_0
    [mission_task_status] => completed
)

[2025-05-18 19:10:32] [DEBUG] WSZYSTKIE AKCJE SĄ WYKONALNE, PRZYSTĘPUJĘ DO ICH REALIZACJI
[2025-05-18 19:10:32] [INFO] Przetwarzanie akcji:
[2025-05-18 19:10:32] [DATA] Array
(
    [acf_fc_layout] => mission
    [acfe_flexible_toggle] => 
    [mission_id] => 339
    [mission_status] => in_progress
    [mission_task_id] => jak-poruszac-sie-po-grze_0
    [mission_task_status] => completed
)

[2025-05-18 19:10:32] [DEBUG] Typ akcji: mission
[2025-05-18 19:10:32] [DEBUG] Wykonuję akcję misji: mission_id=339, status=in_progress, task_id=jak-poruszac-sie-po-grze_0, task_status=completed, npc_id=449
[2025-05-18 19:10:32] [INFO] Aktualny stan misji użytkownika:
[2025-05-18 19:10:32] [DATA] Array
(
    [status] => not_started
    [assigned_date] => 2025-04-29 18:04:25
    [completion_date] => 2025-05-15 18:20:13
    [tasks] => Array
        (
            [jak-poruszac-sie-po-grze_0] => not_started
            [jak-sie-tu-poruszac_1] => not_started
        )

)

[2025-05-18 19:10:32] [DEBUG] Zaktualizowano status misji 'Przejdź samouczek' z 'not_started' na 'in_progress'
[2025-05-18 19:10:32] [DEBUG] Zaktualizowano status standardowego zadania 'jak-poruszac-sie-po-grze_0' z 'not_started' na 'completed'
[2025-05-18 19:10:32] [DEBUG] Rezultat update_field dla misji mission_339: BŁĄD
[2025-05-18 19:10:32] [INFO] Stan misji po aktualizacji:
[2025-05-18 19:10:32] [DATA] Array
(
    [status] => in_progress
    [assigned_date] => 2025-04-29 18:04:25
    [completion_date] => 2025-05-15 18:20:13
    [tasks] => Array
        (
            [jak-poruszac-sie-po-grze_0] => completed
            [jak-sie-tu-poruszac_1] => not_started
        )

)

[2025-05-18 19:10:32] [INFO] Utworzono powiadomienie dla misji:
[2025-05-18 19:10:32] [DATA] Array
(
    [message] => Ukończono zadanie: "Jak poruszać się po grze?"
    [status] => success
)

[2025-05-18 19:10:32] [INFO] DialogManager: Rozpoczynam filtrowanie odpowiedzi.
[2025-05-18 19:10:32] [DATA] Array
(
    [count_answers_before] => 7
    [context] => Array
        (
            [type_page] => 
            [location] => 
            [user_id] => 1
            [npc_id] => 449
        )

)

[2025-05-18 19:10:32] [INFO] DialogManager: Sprawdzanie odpowiedzi: acf_fc_layout
[2025-05-18 19:10:32] [DATA] Array
(
    [answer_data] => question
)

[2025-05-18 19:10:32] [DEBUG] DialogManager: Odpowiedź (acf_fc_layout) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 19:10:32] [INFO] DialogManager: Sprawdzanie odpowiedzi: layout_settings
[2025-05-18 19:10:32] [DATA] Array
(
    [answer_data] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

)

[2025-05-18 19:10:32] [DEBUG] DialogManager: Odpowiedź (layout_settings) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 19:10:32] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_toggle
[2025-05-18 19:10:32] [DATA] Array
(
    [answer_data] => 
)

[2025-05-18 19:10:32] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_toggle) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 19:10:32] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_layout_title
[2025-05-18 19:10:32] [DATA] Array
(
    [answer_data] => Dialog
)

[2025-05-18 19:10:32] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_layout_title) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 19:10:32] [INFO] DialogManager: Sprawdzanie odpowiedzi: id_pola
[2025-05-18 19:10:32] [DATA] Array
(
    [answer_data] => jak-sie-w-to-gra
)

[2025-05-18 19:10:32] [DEBUG] DialogManager: Odpowiedź (id_pola) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 19:10:32] [INFO] DialogManager: Sprawdzanie odpowiedzi: question
[2025-05-18 19:10:32] [DATA] Array
(
    [answer_data] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

)

[2025-05-18 19:10:32] [DEBUG] DialogManager: Odpowiedź (question) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 19:10:32] [INFO] DialogManager: Sprawdzanie odpowiedzi: anwsers
[2025-05-18 19:10:32] [DATA] Array
(
    [answer_data] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_task
                                            [condition] => is_not
                                            [mission_id] => 339
                                            [task_id] => jak-poruszac-sie-po-grze_0
                                            [status] => completed
                                        )

                                )

                        )

                    [anwser_text] => Jak poruszać się po grze?
                    [type_anwser] => 
                    [go_to_id] => jak-poruszac-sie-po-grze
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => test
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-18 19:10:32] [DEBUG] DialogManager: Odpowiedź (anwsers) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 19:10:32] [INFO] DialogManager: Zakończono filtrowanie odpowiedzi.
[2025-05-18 19:10:32] [DATA] Array
(
    [count_answers_after] => 7
)

[2025-05-18 19:10:32] [INFO] Dialog po filtrowaniu:
[2025-05-18 19:10:32] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-sie-w-to-gra
    [question] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_task
                                            [condition] => is_not
                                            [mission_id] => 339
                                            [task_id] => jak-poruszac-sie-po-grze_0
                                            [status] => completed
                                        )

                                )

                        )

                    [anwser_text] => Jak poruszać się po grze?
                    [type_anwser] => 
                    [go_to_id] => jak-poruszac-sie-po-grze
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => test
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-18 19:10:32] [INFO] Dodano powiadomienie do odpowiedzi:
[2025-05-18 19:10:32] [DATA] Array
(
    [message] => Ukończono zadanie: "Jak poruszać się po grze?"
    [status] => success
)

[2025-05-18 19:10:32] [INFO] Dane odpowiedzi:
[2025-05-18 19:10:32] [DATA] Array
(
    [success] => 1
    [dialog] => Array
        (
            [id] => jak-sie-w-to-gra
            [text] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

            [answers] => Array
                (
                    [0] => Array
                        (
                            [id] => 
                            [text] => Jak poruszać się po grze?
                            [next_dialog] => jak-poruszac-sie-po-grze
                        )

                    [1] => Array
                        (
                            [id] => 
                            [text] => test
                            [next_dialog] => 0
                        )

                )

        )

    [npc] => Array
        (
            [id] => 449
            [name] => Papuga
            [image] => http://seb.soeasy.it/wp-content/uploads/2025/05/papuga_new.png
        )

    [notification] => Array
        (
            [message] => Ukończono zadanie: "Jak poruszać się po grze?"
            [status] => success
        )

)

[2025-05-18 19:10:32] [DEBUG] ===== ZAKOŃCZENIE PRZETWARZANIA ŻĄDANIA DIALOGU =====
[2025-05-18 19:10:32] [DEBUG] Obsługa żądania danych użytkownika ID: 1
[2025-05-18 19:10:32] [INFO] Pobrano dane plecaka użytkownika:
[2025-05-18 19:10:32] [DATA] Array
(
    [gold] => 100
    [cigarettes] => 31
)

[2025-05-18 19:10:32] [INFO] Pobrano dane witalności użytkownika:
[2025-05-18 19:10:32] [DATA] Array
(
    [life] => 80
    [max_life] => 100
    [energy] => 70
    [max_energy] => 100
)

[2025-05-18 19:10:32] [INFO] Zwracam dane użytkownika:
[2025-05-18 19:10:32] [DATA] Array
(
    [success] => 1
    [message] => Dane użytkownika pobrane pomyślnie
    [data] => Array
        (
            [backpack] => Array
                (
                    [gold] => 100
                    [cigarettes] => 31
                )

            [vitality] => Array
                (
                    [life] => 80
                    [max_life] => 100
                    [energy] => 70
                    [max_energy] => 100
                )

        )

)

[2025-05-18 19:17:29] [INFO] Sprawdzanie dialogu
[2025-05-18 19:17:29] [DATA] Array
(
    [dialog_id] => brak id
    [answers_count] => 1
)

[2025-05-18 19:17:29] [INFO] Sprawdzanie dialogu
[2025-05-18 19:17:29] [DATA] Array
(
    [dialog_id] => brak id
    [answers_count] => 2
)

[2025-05-18 19:17:29] [INFO] Filtrowanie anwsers dla dialogu
[2025-05-18 19:17:29] [DATA] Array
(
    [dialog_id] => brak id
    [anwsers_count_before] => 2
)

[2025-05-18 19:17:29] [INFO] Warunek dla odpowiedzi
[2025-05-18 19:17:29] [DATA] Array
(
    [answer_text] => Jak poruszać się po grze?
    [condition] => Array
        (
            [acf_fc_layout] => condition_task
            [condition] => is_not
            [mission_id] => 339
            [task_id] => jak-poruszac-sie-po-grze_0
            [status] => completed
        )

)

[2025-05-18 19:17:29] [INFO] Odpowiedź nie spełnia warunku
[2025-05-18 19:17:29] [DATA] Array
(
    [answer_text] => Jak poruszać się po grze?
    [condition] => Array
        (
            [acf_fc_layout] => condition_task
            [condition] => is_not
            [mission_id] => 339
            [task_id] => jak-poruszac-sie-po-grze_0
            [status] => completed
        )

    [result] => 
)

[2025-05-18 19:17:29] [INFO] Po filtrowaniu anwsers
[2025-05-18 19:17:29] [DATA] Array
(
    [dialog_id] => brak id
    [anwsers_count_after] => 1
    [anwsers_texts] => Array
        (
            [1] => test
        )

)

[2025-05-18 19:17:36] [INFO] Sprawdzanie dialogu
[2025-05-18 19:17:36] [DATA] Array
(
    [dialog_id] => brak id
    [answers_count] => 1
)

[2025-05-18 19:17:36] [INFO] Filtrowanie anwsers dla dialogu
[2025-05-18 19:17:36] [DATA] Array
(
    [dialog_id] => brak id
    [anwsers_count_before] => 1
)

[2025-05-18 19:17:36] [INFO] Warunek dla odpowiedzi
[2025-05-18 19:17:36] [DATA] Array
(
    [answer_text] => Jak się w to w ogóle gra?
    [condition] => Array
        (
            [acf_fc_layout] => condition_npc_relation
            [condition] => is_not_known
            [npc_id] => 449
            [relation_value] => 50
        )

)

[2025-05-18 19:17:36] [INFO] Po filtrowaniu anwsers
[2025-05-18 19:17:36] [DATA] Array
(
    [dialog_id] => brak id
    [anwsers_count_after] => 1
    [anwsers_texts] => Array
        (
            [0] => Jak się w to w ogóle gra?
        )

)

[2025-05-18 19:17:37] [INFO] WSZYSTKIE DANE ŻĄDANIA:
[2025-05-18 19:17:37] [DATA] Array
(
    [page_data] => Array
        (
        )

    [npc_id] => 449
    [dialog_id] => jak-sie-w-to-gra
    [current_url] => http://seb.soeasy.it/tereny/park/
    [user_id] => 1
    [answer_id] => answer-0
    [answer_index] => 0
    [current_dialog_id] => przy-wiezieniu
)

[2025-05-18 19:17:37] [INFO] Wyodrębnione dane lokalizacji:
[2025-05-18 19:17:37] [DATA] Array
(
    [location] => Array
        (
            [area_slug] => park
            [area_name] => Park
            [area_id] => 207
        )

    [type_page] => 
    [location_value] => 
)

[2025-05-18 19:17:37] [DEBUG] ROZPOCZYNAM PRZETWARZANIE PRZYCISKÓW ODPOWIEDZI
[2025-05-18 19:17:37] [DEBUG] Znaleziono dialog o ID: przy-wiezieniu
[2025-05-18 19:17:37] [DEBUG] Znaleziono poprzedni dialog ID: przy-wiezieniu
[2025-05-18 19:17:37] [INFO] Pełne dane dialogu:
[2025-05-18 19:17:37] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => condition_task
                            [condition] => is_not
                            [mission_id] => 339
                            [task_id] => jak-poruszac-sie-po-grze_0
                            [status] => completed
                        )

                )

        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => przy-wiezieniu
    [question] => <p>– No to jesteśmy &#8211; z celi wyszedłeś, <strong>ale do świata Sebastianowa dopiero wchodzisz.</strong><br />
Może Ci się wydaje, że jesteś kimś, że Twoja historia się liczy, że coś ci się należy &#8211; bo miałeś ciężko. To posłuchaj uważnie, zanim się zgubisz między trzepakiem a meliną: <strong>Jesteś jednym z wielu</strong>, co myślą, że jak przetrwali jedną noc na dołku, to teraz świat ich powita z otwartymi ramionami.</p>
<p>Jestem Papuga. To ja otworzyłem ci drzwi. Nie z litości, nie z sympatii. Chcę po prostu zobaczyć, co zrobisz, kiedy w końcu przestanie być łatwo.</p>
<p>Bo w Sebastianowie nic nie jest za darmo. Respekt buduje się decyzjami. A każda z nich zostawia ślad – na tobie albo na kimś innym. <strong>Masz pytania? Pytaj – zanim przestanie to być możliwe.</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_npc_relation
                                            [condition] => is_not_known
                                            [npc_id] => 449
                                            [relation_value] => 50
                                        )

                                )

                        )

                    [anwser_text] => Jak się w to w ogóle gra?
                    [type_anwser] => 
                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-18 19:17:37] [INFO] Odpowiedzi w dialogu:
[2025-05-18 19:17:37] [DATA] Array
(
    [0] => Array
        (
            [acf_fc_layout] => anwser
            [layout_settings] => Array
                (
                    [visibility_tab] => 
                    [logic_operator] => and
                    [visibility_settings] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => condition_npc_relation
                                    [condition] => is_not_known
                                    [npc_id] => 449
                                    [relation_value] => 50
                                )

                        )

                )

            [anwser_text] => Jak się w to w ogóle gra?
            [type_anwser] => 
            [go_to_id] => jak-sie-w-to-gra
        )

)

[2025-05-18 19:17:37] [DEBUG] Znaleziono odpowiedź o indeksie: 0
[2025-05-18 19:17:37] [INFO] Dane odpowiedzi:
[2025-05-18 19:17:37] [DATA] Array
(
    [acf_fc_layout] => anwser
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => condition_npc_relation
                            [condition] => is_not_known
                            [npc_id] => 449
                            [relation_value] => 50
                        )

                )

        )

    [anwser_text] => Jak się w to w ogóle gra?
    [type_anwser] => 
    [go_to_id] => jak-sie-w-to-gra
)

[2025-05-18 19:17:37] [DEBUG] Odpowiedź NIE zawiera akcji type_anwser lub jest pusta
[2025-05-18 19:17:37] [INFO] Sprawdzanie dialogu
[2025-05-18 19:17:37] [DATA] Array
(
    [dialog_id] => brak id
    [answers_count] => 2
)

[2025-05-18 19:17:37] [INFO] Filtrowanie anwsers dla dialogu
[2025-05-18 19:17:37] [DATA] Array
(
    [dialog_id] => brak id
    [anwsers_count_before] => 2
)

[2025-05-18 19:17:37] [INFO] Warunek dla odpowiedzi
[2025-05-18 19:17:37] [DATA] Array
(
    [answer_text] => Jak poruszać się po grze?
    [condition] => Array
        (
            [acf_fc_layout] => condition_task
            [condition] => is_not
            [mission_id] => 339
            [task_id] => jak-poruszac-sie-po-grze_0
            [status] => completed
        )

)

[2025-05-18 19:17:37] [INFO] Po filtrowaniu anwsers
[2025-05-18 19:17:37] [DATA] Array
(
    [dialog_id] => brak id
    [anwsers_count_after] => 2
    [anwsers_texts] => Array
        (
            [0] => Jak poruszać się po grze?
            [1] => test
        )

)

[2025-05-18 19:17:37] [INFO] Dialog po filtrowaniu:
[2025-05-18 19:17:37] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-sie-w-to-gra
    [question] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_task
                                            [condition] => is_not
                                            [mission_id] => 339
                                            [task_id] => jak-poruszac-sie-po-grze_0
                                            [status] => completed
                                        )

                                )

                        )

                    [anwser_text] => Jak poruszać się po grze?
                    [type_anwser] => 
                    [go_to_id] => jak-poruszac-sie-po-grze
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => test
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-18 19:17:37] [INFO] Dane odpowiedzi:
[2025-05-18 19:17:37] [DATA] Array
(
    [success] => 1
    [dialog] => Array
        (
            [id] => jak-sie-w-to-gra
            [text] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

            [answers] => Array
                (
                    [0] => Array
                        (
                            [id] => 
                            [text] => Jak poruszać się po grze?
                            [next_dialog] => jak-poruszac-sie-po-grze
                        )

                    [1] => Array
                        (
                            [id] => 
                            [text] => test
                            [next_dialog] => 0
                        )

                )

        )

    [npc] => Array
        (
            [id] => 449
            [name] => Papuga
            [image] => http://seb.soeasy.it/wp-content/uploads/2025/05/papuga_new.png
        )

)

[2025-05-18 19:17:37] [DEBUG] ===== ZAKOŃCZENIE PRZETWARZANIA ŻĄDANIA DIALOGU =====
[2025-05-18 19:17:38] [INFO] WSZYSTKIE DANE ŻĄDANIA:
[2025-05-18 19:17:38] [DATA] Array
(
    [page_data] => Array
        (
        )

    [npc_id] => 449
    [dialog_id] => jak-poruszac-sie-po-grze
    [current_url] => http://seb.soeasy.it/tereny/park/
    [user_id] => 1
    [answer_id] => answer-0
    [answer_index] => 0
    [current_dialog_id] => jak-sie-w-to-gra
)

[2025-05-18 19:17:38] [INFO] Wyodrębnione dane lokalizacji:
[2025-05-18 19:17:38] [DATA] Array
(
    [location] => Array
        (
            [area_slug] => park
            [area_name] => Park
            [area_id] => 207
        )

    [type_page] => 
    [location_value] => 
)

[2025-05-18 19:17:38] [DEBUG] ROZPOCZYNAM PRZETWARZANIE PRZYCISKÓW ODPOWIEDZI
[2025-05-18 19:17:38] [DEBUG] Znaleziono dialog o ID: jak-sie-w-to-gra
[2025-05-18 19:17:38] [DEBUG] Znaleziono poprzedni dialog ID: jak-sie-w-to-gra
[2025-05-18 19:17:38] [INFO] Pełne dane dialogu:
[2025-05-18 19:17:38] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-sie-w-to-gra
    [question] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_task
                                            [condition] => is_not
                                            [mission_id] => 339
                                            [task_id] => jak-poruszac-sie-po-grze_0
                                            [status] => completed
                                        )

                                )

                        )

                    [anwser_text] => Jak poruszać się po grze?
                    [type_anwser] => 
                    [go_to_id] => jak-poruszac-sie-po-grze
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => test
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-18 19:17:38] [INFO] Odpowiedzi w dialogu:
[2025-05-18 19:17:38] [DATA] Array
(
    [0] => Array
        (
            [acf_fc_layout] => anwser
            [layout_settings] => Array
                (
                    [visibility_tab] => 
                    [logic_operator] => and
                    [visibility_settings] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => condition_task
                                    [condition] => is_not
                                    [mission_id] => 339
                                    [task_id] => jak-poruszac-sie-po-grze_0
                                    [status] => completed
                                )

                        )

                )

            [anwser_text] => Jak poruszać się po grze?
            [type_anwser] => 
            [go_to_id] => jak-poruszac-sie-po-grze
        )

    [1] => Array
        (
            [acf_fc_layout] => anwser
            [layout_settings] => Array
                (
                    [visibility_tab] => 
                    [logic_operator] => and
                    [visibility_settings] => 
                )

            [anwser_text] => test
            [type_anwser] => 
            [go_to_id] => 0
        )

)

[2025-05-18 19:17:38] [DEBUG] Znaleziono odpowiedź o indeksie: 0
[2025-05-18 19:17:38] [INFO] Dane odpowiedzi:
[2025-05-18 19:17:38] [DATA] Array
(
    [acf_fc_layout] => anwser
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => condition_task
                            [condition] => is_not
                            [mission_id] => 339
                            [task_id] => jak-poruszac-sie-po-grze_0
                            [status] => completed
                        )

                )

        )

    [anwser_text] => Jak poruszać się po grze?
    [type_anwser] => 
    [go_to_id] => jak-poruszac-sie-po-grze
)

[2025-05-18 19:17:38] [DEBUG] Odpowiedź NIE zawiera akcji type_anwser lub jest pusta
[2025-05-18 19:17:38] [INFO] Sprawdzanie dialogu
[2025-05-18 19:17:38] [DATA] Array
(
    [dialog_id] => brak id
    [answers_count] => 1
)

[2025-05-18 19:17:38] [INFO] Filtrowanie anwsers dla dialogu
[2025-05-18 19:17:38] [DATA] Array
(
    [dialog_id] => brak id
    [anwsers_count_before] => 1
)

[2025-05-18 19:17:38] [INFO] Po filtrowaniu anwsers
[2025-05-18 19:17:38] [DATA] Array
(
    [dialog_id] => brak id
    [anwsers_count_after] => 1
    [anwsers_texts] => Array
        (
            [0] => Okej, załapałem jak się poruszać
        )

)

[2025-05-18 19:17:38] [INFO] Dialog po filtrowaniu:
[2025-05-18 19:17:38] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-poruszac-sie-po-grze
    [question] => <p><strong>Każda scena to jeden widok – jak kadr z życia</strong>. Na nim są miejsca, osoby i przedmioty, z którymi możesz wejść w interakcję. Biały kolor oznacza przejście do innej sceny. Możesz przejść z bramy na klatkę, z meliny do sklepu, z podwórka do innej dzielnicy. Te przejścia nie kosztują Cię nic energii.</p>
<p><strong>Niebieski kolor to akcje z otoczeniem. </strong>Grzebanie w śmietniku, kontenerze na ubrania, zaglądanie do kiosku, przeszukiwanie bagażnika, otwieranie skrytki – tutaj każda akcja kosztuje pewną ilość energii. <strong>Postacie mają kolorowe obwódki. Klikasz – zaczyna się rozmowa.</strong></p>
<ul>
<li>Zielony – lubią cię.</li>
<li>Czerwony – nie cierpią.</li>
<li>Pomarańczowy – neutralni, jeszcze nie wiedzą, co o tobie sądzić.</li>
</ul>
<p>Każda rozmowa może Ci coś dać – albo zabrać. Zależy, jak się zachowasz.</p>
<p>Czasem znajdziesz coś cennego. Czasem coś obrzydliwego. A czasem kogoś obudzisz. <strong>Pamiętaj – nie każde poruszanie się między widokami zużywa energę. </strong>Dopiero konkretne działania albo spacery po dzielnicach zabierają energię</p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => Okej, załapałem jak się poruszać
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => mission
                                    [acfe_flexible_toggle] => 
                                    [mission_id] => 339
                                    [mission_status] => in_progress
                                    [mission_task_id] => jak-poruszac-sie-po-grze_0
                                    [mission_task_status] => completed
                                )

                        )

                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-18 19:17:38] [INFO] Dane odpowiedzi:
[2025-05-18 19:17:38] [DATA] Array
(
    [success] => 1
    [dialog] => Array
        (
            [id] => jak-poruszac-sie-po-grze
            [text] => <p><strong>Każda scena to jeden widok – jak kadr z życia</strong>. Na nim są miejsca, osoby i przedmioty, z którymi możesz wejść w interakcję. Biały kolor oznacza przejście do innej sceny. Możesz przejść z bramy na klatkę, z meliny do sklepu, z podwórka do innej dzielnicy. Te przejścia nie kosztują Cię nic energii.</p>
<p><strong>Niebieski kolor to akcje z otoczeniem. </strong>Grzebanie w śmietniku, kontenerze na ubrania, zaglądanie do kiosku, przeszukiwanie bagażnika, otwieranie skrytki – tutaj każda akcja kosztuje pewną ilość energii. <strong>Postacie mają kolorowe obwódki. Klikasz – zaczyna się rozmowa.</strong></p>
<ul>
<li>Zielony – lubią cię.</li>
<li>Czerwony – nie cierpią.</li>
<li>Pomarańczowy – neutralni, jeszcze nie wiedzą, co o tobie sądzić.</li>
</ul>
<p>Każda rozmowa może Ci coś dać – albo zabrać. Zależy, jak się zachowasz.</p>
<p>Czasem znajdziesz coś cennego. Czasem coś obrzydliwego. A czasem kogoś obudzisz. <strong>Pamiętaj – nie każde poruszanie się między widokami zużywa energę. </strong>Dopiero konkretne działania albo spacery po dzielnicach zabierają energię</p>

            [answers] => Array
                (
                    [0] => Array
                        (
                            [id] => 
                            [text] => Okej, załapałem jak się poruszać
                            [next_dialog] => jak-sie-w-to-gra
                        )

                )

        )

    [npc] => Array
        (
            [id] => 449
            [name] => Papuga
            [image] => http://seb.soeasy.it/wp-content/uploads/2025/05/papuga_new.png
        )

)

[2025-05-18 19:17:38] [DEBUG] ===== ZAKOŃCZENIE PRZETWARZANIA ŻĄDANIA DIALOGU =====
[2025-05-18 19:17:40] [INFO] WSZYSTKIE DANE ŻĄDANIA:
[2025-05-18 19:17:40] [DATA] Array
(
    [page_data] => Array
        (
        )

    [npc_id] => 449
    [dialog_id] => jak-sie-w-to-gra
    [current_url] => http://seb.soeasy.it/tereny/park/
    [user_id] => 1
    [answer_id] => answer-0
    [answer_index] => 0
    [current_dialog_id] => jak-poruszac-sie-po-grze
)

[2025-05-18 19:17:40] [INFO] Wyodrębnione dane lokalizacji:
[2025-05-18 19:17:40] [DATA] Array
(
    [location] => Array
        (
            [area_slug] => park
            [area_name] => Park
            [area_id] => 207
        )

    [type_page] => 
    [location_value] => 
)

[2025-05-18 19:17:40] [DEBUG] ROZPOCZYNAM PRZETWARZANIE PRZYCISKÓW ODPOWIEDZI
[2025-05-18 19:17:40] [DEBUG] Znaleziono dialog o ID: jak-poruszac-sie-po-grze
[2025-05-18 19:17:40] [DEBUG] Znaleziono poprzedni dialog ID: jak-poruszac-sie-po-grze
[2025-05-18 19:17:40] [INFO] Pełne dane dialogu:
[2025-05-18 19:17:40] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-poruszac-sie-po-grze
    [question] => <p><strong>Każda scena to jeden widok – jak kadr z życia</strong>. Na nim są miejsca, osoby i przedmioty, z którymi możesz wejść w interakcję. Biały kolor oznacza przejście do innej sceny. Możesz przejść z bramy na klatkę, z meliny do sklepu, z podwórka do innej dzielnicy. Te przejścia nie kosztują Cię nic energii.</p>
<p><strong>Niebieski kolor to akcje z otoczeniem. </strong>Grzebanie w śmietniku, kontenerze na ubrania, zaglądanie do kiosku, przeszukiwanie bagażnika, otwieranie skrytki – tutaj każda akcja kosztuje pewną ilość energii. <strong>Postacie mają kolorowe obwódki. Klikasz – zaczyna się rozmowa.</strong></p>
<ul>
<li>Zielony – lubią cię.</li>
<li>Czerwony – nie cierpią.</li>
<li>Pomarańczowy – neutralni, jeszcze nie wiedzą, co o tobie sądzić.</li>
</ul>
<p>Każda rozmowa może Ci coś dać – albo zabrać. Zależy, jak się zachowasz.</p>
<p>Czasem znajdziesz coś cennego. Czasem coś obrzydliwego. A czasem kogoś obudzisz. <strong>Pamiętaj – nie każde poruszanie się między widokami zużywa energę. </strong>Dopiero konkretne działania albo spacery po dzielnicach zabierają energię</p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => Okej, załapałem jak się poruszać
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => mission
                                    [acfe_flexible_toggle] => 
                                    [mission_id] => 339
                                    [mission_status] => in_progress
                                    [mission_task_id] => jak-poruszac-sie-po-grze_0
                                    [mission_task_status] => completed
                                )

                        )

                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-18 19:17:40] [INFO] Odpowiedzi w dialogu:
[2025-05-18 19:17:40] [DATA] Array
(
    [0] => Array
        (
            [acf_fc_layout] => anwser
            [layout_settings] => Array
                (
                    [visibility_tab] => 
                    [logic_operator] => and
                    [visibility_settings] => 
                )

            [anwser_text] => Okej, załapałem jak się poruszać
            [type_anwser] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => mission
                            [acfe_flexible_toggle] => 
                            [mission_id] => 339
                            [mission_status] => in_progress
                            [mission_task_id] => jak-poruszac-sie-po-grze_0
                            [mission_task_status] => completed
                        )

                )

            [go_to_id] => jak-sie-w-to-gra
        )

)

[2025-05-18 19:17:40] [DEBUG] Znaleziono odpowiedź o indeksie: 0
[2025-05-18 19:17:40] [INFO] Dane odpowiedzi:
[2025-05-18 19:17:40] [DATA] Array
(
    [acf_fc_layout] => anwser
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [anwser_text] => Okej, załapałem jak się poruszać
    [type_anwser] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => mission
                    [acfe_flexible_toggle] => 
                    [mission_id] => 339
                    [mission_status] => in_progress
                    [mission_task_id] => jak-poruszac-sie-po-grze_0
                    [mission_task_status] => completed
                )

        )

    [go_to_id] => jak-sie-w-to-gra
)

[2025-05-18 19:17:40] [INFO] Odpowiedź zawiera akcje do wykonania:
[2025-05-18 19:17:40] [DATA] Array
(
    [0] => Array
        (
            [acf_fc_layout] => mission
            [acfe_flexible_toggle] => 
            [mission_id] => 339
            [mission_status] => in_progress
            [mission_task_id] => jak-poruszac-sie-po-grze_0
            [mission_task_status] => completed
        )

)

[2025-05-18 19:17:40] [INFO] Weryfikacja akcji:
[2025-05-18 19:17:40] [DATA] Array
(
    [acf_fc_layout] => mission
    [acfe_flexible_toggle] => 
    [mission_id] => 339
    [mission_status] => in_progress
    [mission_task_id] => jak-poruszac-sie-po-grze_0
    [mission_task_status] => completed
)

[2025-05-18 19:17:40] [DEBUG] WSZYSTKIE AKCJE SĄ WYKONALNE, PRZYSTĘPUJĘ DO ICH REALIZACJI
[2025-05-18 19:17:40] [INFO] Przetwarzanie akcji:
[2025-05-18 19:17:40] [DATA] Array
(
    [acf_fc_layout] => mission
    [acfe_flexible_toggle] => 
    [mission_id] => 339
    [mission_status] => in_progress
    [mission_task_id] => jak-poruszac-sie-po-grze_0
    [mission_task_status] => completed
)

[2025-05-18 19:17:40] [DEBUG] Typ akcji: mission
[2025-05-18 19:17:40] [DEBUG] Wykonuję akcję misji: mission_id=339, status=in_progress, task_id=jak-poruszac-sie-po-grze_0, task_status=completed, npc_id=449
[2025-05-18 19:17:40] [INFO] Aktualny stan misji użytkownika:
[2025-05-18 19:17:40] [DATA] Array
(
    [status] => not_started
    [assigned_date] => 2025-04-29 18:04:25
    [completion_date] => 2025-05-15 18:20:13
    [tasks] => Array
        (
            [jak-poruszac-sie-po-grze_0] => not_started
            [jak-sie-tu-poruszac_1] => not_started
        )

)

[2025-05-18 19:17:40] [DEBUG] Zaktualizowano status misji 'Przejdź samouczek' z 'not_started' na 'in_progress'
[2025-05-18 19:17:40] [DEBUG] Zaktualizowano status standardowego zadania 'jak-poruszac-sie-po-grze_0' z 'not_started' na 'completed'
[2025-05-18 19:17:40] [DEBUG] Rezultat update_field dla misji mission_339: BŁĄD
[2025-05-18 19:17:40] [INFO] Stan misji po aktualizacji:
[2025-05-18 19:17:40] [DATA] Array
(
    [status] => in_progress
    [assigned_date] => 2025-04-29 18:04:25
    [completion_date] => 2025-05-15 18:20:13
    [tasks] => Array
        (
            [jak-poruszac-sie-po-grze_0] => completed
            [jak-sie-tu-poruszac_1] => not_started
        )

)

[2025-05-18 19:17:40] [INFO] Utworzono powiadomienie dla misji:
[2025-05-18 19:17:40] [DATA] Array
(
    [message] => Ukończono zadanie: "Jak poruszać się po grze?"
    [status] => success
)

[2025-05-18 19:17:40] [INFO] Sprawdzanie dialogu
[2025-05-18 19:17:40] [DATA] Array
(
    [dialog_id] => brak id
    [answers_count] => 2
)

[2025-05-18 19:17:40] [INFO] Filtrowanie anwsers dla dialogu
[2025-05-18 19:17:40] [DATA] Array
(
    [dialog_id] => brak id
    [anwsers_count_before] => 2
)

[2025-05-18 19:17:40] [INFO] Warunek dla odpowiedzi
[2025-05-18 19:17:40] [DATA] Array
(
    [answer_text] => Jak poruszać się po grze?
    [condition] => Array
        (
            [acf_fc_layout] => condition_task
            [condition] => is_not
            [mission_id] => 339
            [task_id] => jak-poruszac-sie-po-grze_0
            [status] => completed
        )

)

[2025-05-18 19:17:40] [INFO] Odpowiedź nie spełnia warunku
[2025-05-18 19:17:40] [DATA] Array
(
    [answer_text] => Jak poruszać się po grze?
    [condition] => Array
        (
            [acf_fc_layout] => condition_task
            [condition] => is_not
            [mission_id] => 339
            [task_id] => jak-poruszac-sie-po-grze_0
            [status] => completed
        )

    [result] => 
)

[2025-05-18 19:17:40] [INFO] Po filtrowaniu anwsers
[2025-05-18 19:17:40] [DATA] Array
(
    [dialog_id] => brak id
    [anwsers_count_after] => 1
    [anwsers_texts] => Array
        (
            [1] => test
        )

)

[2025-05-18 19:17:40] [INFO] Dialog po filtrowaniu:
[2025-05-18 19:17:40] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-sie-w-to-gra
    [question] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

    [anwsers] => Array
        (
            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => test
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-18 19:17:40] [INFO] Dodano powiadomienie do odpowiedzi:
[2025-05-18 19:17:40] [DATA] Array
(
    [message] => Ukończono zadanie: "Jak poruszać się po grze?"
    [status] => success
)

[2025-05-18 19:17:40] [INFO] Dane odpowiedzi:
[2025-05-18 19:17:40] [DATA] Array
(
    [success] => 1
    [dialog] => Array
        (
            [id] => jak-sie-w-to-gra
            [text] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

            [answers] => Array
                (
                    [0] => Array
                        (
                            [id] => 
                            [text] => test
                            [next_dialog] => 0
                        )

                )

        )

    [npc] => Array
        (
            [id] => 449
            [name] => Papuga
            [image] => http://seb.soeasy.it/wp-content/uploads/2025/05/papuga_new.png
        )

    [notification] => Array
        (
            [message] => Ukończono zadanie: "Jak poruszać się po grze?"
            [status] => success
        )

)

[2025-05-18 19:17:40] [DEBUG] ===== ZAKOŃCZENIE PRZETWARZANIA ŻĄDANIA DIALOGU =====
[2025-05-18 19:17:40] [DEBUG] Obsługa żądania danych użytkownika ID: 1
[2025-05-18 19:17:40] [INFO] Pobrano dane plecaka użytkownika:
[2025-05-18 19:17:40] [DATA] Array
(
    [gold] => 100
    [cigarettes] => 31
)

[2025-05-18 19:17:40] [INFO] Pobrano dane witalności użytkownika:
[2025-05-18 19:17:40] [DATA] Array
(
    [life] => 80
    [max_life] => 100
    [energy] => 70
    [max_energy] => 100
)

[2025-05-18 19:17:40] [INFO] Zwracam dane użytkownika:
[2025-05-18 19:17:40] [DATA] Array
(
    [success] => 1
    [message] => Dane użytkownika pobrane pomyślnie
    [data] => Array
        (
            [backpack] => Array
                (
                    [gold] => 100
                    [cigarettes] => 31
                )

            [vitality] => Array
                (
                    [life] => 80
                    [max_life] => 100
                    [energy] => 70
                    [max_energy] => 100
                )

        )

)

[2025-05-18 19:17:43] [DEBUG] Obsługa żądania danych użytkownika ID: 1
[2025-05-18 19:17:43] [INFO] Pobrano dane plecaka użytkownika:
[2025-05-18 19:17:43] [DATA] Array
(
    [gold] => 100
    [cigarettes] => 31
)

[2025-05-18 19:17:43] [INFO] Pobrano dane witalności użytkownika:
[2025-05-18 19:17:43] [DATA] Array
(
    [life] => 80
    [max_life] => 100
    [energy] => 70
    [max_energy] => 100
)

[2025-05-18 19:17:43] [INFO] Zwracam dane użytkownika:
[2025-05-18 19:17:43] [DATA] Array
(
    [success] => 1
    [message] => Dane użytkownika pobrane pomyślnie
    [data] => Array
        (
            [backpack] => Array
                (
                    [gold] => 100
                    [cigarettes] => 31
                )

            [vitality] => Array
                (
                    [life] => 80
                    [max_life] => 100
                    [energy] => 70
                    [max_energy] => 100
                )

        )

)

[2025-05-18 19:17:44] [INFO] Sprawdzanie dialogu
[2025-05-18 19:17:44] [DATA] Array
(
    [dialog_id] => brak id
    [answers_count] => 1
)

[2025-05-18 19:17:44] [INFO] Sprawdzanie dialogu
[2025-05-18 19:17:44] [DATA] Array
(
    [dialog_id] => brak id
    [answers_count] => 2
)

[2025-05-18 19:17:44] [INFO] Filtrowanie anwsers dla dialogu
[2025-05-18 19:17:44] [DATA] Array
(
    [dialog_id] => brak id
    [anwsers_count_before] => 2
)

[2025-05-18 19:17:44] [INFO] Warunek dla odpowiedzi
[2025-05-18 19:17:44] [DATA] Array
(
    [answer_text] => Jak poruszać się po grze?
    [condition] => Array
        (
            [acf_fc_layout] => condition_task
            [condition] => is_not
            [mission_id] => 339
            [task_id] => jak-poruszac-sie-po-grze_0
            [status] => completed
        )

)

[2025-05-18 19:17:44] [INFO] Odpowiedź nie spełnia warunku
[2025-05-18 19:17:44] [DATA] Array
(
    [answer_text] => Jak poruszać się po grze?
    [condition] => Array
        (
            [acf_fc_layout] => condition_task
            [condition] => is_not
            [mission_id] => 339
            [task_id] => jak-poruszac-sie-po-grze_0
            [status] => completed
        )

    [result] => 
)

[2025-05-18 19:17:44] [INFO] Po filtrowaniu anwsers
[2025-05-18 19:17:44] [DATA] Array
(
    [dialog_id] => brak id
    [anwsers_count_after] => 1
    [anwsers_texts] => Array
        (
            [1] => test
        )

)

[2025-05-18 19:17:47] [DEBUG] Obsługa żądania danych użytkownika ID: 1
[2025-05-18 19:17:47] [INFO] Pobrano dane plecaka użytkownika:
[2025-05-18 19:17:47] [DATA] Array
(
    [gold] => 100
    [cigarettes] => 31
)

[2025-05-18 19:17:47] [INFO] Pobrano dane witalności użytkownika:
[2025-05-18 19:17:47] [DATA] Array
(
    [life] => 80
    [max_life] => 100
    [energy] => 70
    [max_energy] => 100
)

[2025-05-18 19:17:47] [INFO] Zwracam dane użytkownika:
[2025-05-18 19:17:47] [DATA] Array
(
    [success] => 1
    [message] => Dane użytkownika pobrane pomyślnie
    [data] => Array
        (
            [backpack] => Array
                (
                    [gold] => 100
                    [cigarettes] => 31
                )

            [vitality] => Array
                (
                    [life] => 80
                    [max_life] => 100
                    [energy] => 70
                    [max_energy] => 100
                )

        )

)

