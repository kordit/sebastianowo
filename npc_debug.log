[2025-05-16 16:46:30] [INFO] get_first_matching_dialog: Dialog nie spełnił warunków
[2025-05-16 16:46:30] [DATA] Array
(
    [dialog_id] => 
    [reasons] => Array
        (
            [0] => Array
                (
                    [dialog_id] => 
                    [condition] => Array
                        (
                            [acf_fc_layout] => condition_task
                            [condition] => is
                            [mission_id] => 339
                            [task_id] => jak-poruszac-sie-po-grze_0
                            [status] => completed
                        )

                    [context] => Array
                        (
                            [task] => Array
                                (
                                    [247] => Array
                                        (
                                            [zidentyfikuj-potencjalnych-klientow_0] => Array
                                                (
                                                    [status] => completed
                                                    [npc_target_449] => completed
                                                    [npc_449] => completed
                                                )

                                            [rozlicz-sie-z-irasem_1] => Array
                                                (
                                                    [status] => in_progress
                                                )

                                        )

                                    [339] => Array
                                        (
                                            [jak-poruszac-sie-po-grze_0] => Array
                                                (
                                                    [status] => completed
                                                )

                                            [jak-sie-tu-poruszac_1] => Array
                                                (
                                                    [status] => not_started
                                                )

                                        )

                                )

                        )

                    [reason] => Warunek nie został spełniony
                )

        )

    [dialog] => Array
        (
            [acf_fc_layout] => question
            [layout_settings] => Array
                (
                    [visibility_tab] => 
                    [logic_operator] => and
                    [visibility_settings] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => condition_task
                                    [condition] => is
                                    [mission_id] => 339
                                    [task_id] => jak-poruszac-sie-po-grze_0
                                    [status] => completed
                                )

                        )

                )

            [acfe_flexible_toggle] => 
            [acfe_flexible_layout_title] => Dialog
            [id_pola] => przy-wiezieniu
            [question] => <p>– No to jesteśmy &#8211; z celi wyszedłeś, <strong>ale do świata Sebastianowa dopiero wchodzisz.</strong><br />
Może Ci się wydaje, że jesteś kimś, że Twoja historia się liczy, że coś ci się należy &#8211; bo miałeś ciężko. To posłuchaj uważnie, zanim się zgubisz między trzepakiem a meliną: <strong>Jesteś jednym z wielu</strong>, co myślą, że jak przetrwali jedną noc na dołku, to teraz świat ich powita z otwartymi ramionami.</p>
<p>Jestem Papuga. To ja otworzyłem ci drzwi. Nie z litości, nie z sympatii. Chcę po prostu zobaczyć, co zrobisz, kiedy w końcu przestanie być łatwo.</p>
<p>Bo w Sebastianowie nic nie jest za darmo. Respekt buduje się decyzjami. A każda z nich zostawia ślad – na tobie albo na kimś innym. <strong>Masz pytania? Pytaj – zanim przestanie to być możliwe.</strong></p>

            [anwsers] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => anwser
                            [layout_settings] => Array
                                (
                                    [visibility_tab] => 
                                    [logic_operator] => and
                                    [visibility_settings] => 
                                )

                            [anwser_text] => Jak się w to w ogóle gra?
                            [type_anwser] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => relation
                                            [acfe_flexible_toggle] => 
                                            [npc] => 449
                                            [change_relation] => 1
                                            [poznaj] => 1
                                        )

                                )

                            [go_to_id] => jak-sie-w-to-gra
                        )

                    [1] => Array
                        (
                            [acf_fc_layout] => anwser
                            [layout_settings] => Array
                                (
                                    [visibility_tab] => 
                                    [logic_operator] => and
                                    [visibility_settings] => 
                                )

                            [anwser_text] => daj 10 golda
                            [type_anwser] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => transaction
                                            [acfe_flexible_toggle] => 
                                            [backpack] => gold
                                            [value] => 10
                                        )

                                )

                            [go_to_id] => przy-wiezieniu
                        )

                )

        )

)

[2025-05-16 16:46:30] [INFO] get_first_matching_dialog: Found matching dialog
[2025-05-16 16:46:30] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-sie-w-to-gra
    [question] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_task
                                            [condition] => is_not
                                            [mission_id] => 339
                                            [task_id] => jak-poruszac-sie-po-grze_0
                                            [status] => completed
                                        )

                                )

                        )

                    [anwser_text] => Jak poruszać się po grze?
                    [type_anwser] => 
                    [go_to_id] => jak-poruszac-sie-po-grze
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => test
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-16 16:46:30] [INFO] Filtered dialog
[2025-05-16 16:46:30] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-sie-w-to-gra
    [question] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_task
                                            [condition] => is_not
                                            [mission_id] => 339
                                            [task_id] => jak-poruszac-sie-po-grze_0
                                            [status] => completed
                                        )

                                )

                        )

                    [anwser_text] => Jak poruszać się po grze?
                    [type_anwser] => 
                    [go_to_id] => jak-poruszac-sie-po-grze
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => test
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-17 12:55:36] [DEBUG] Obsługa żądania danych użytkownika ID: 1
[2025-05-17 12:55:36] [INFO] Pobrano dane plecaka użytkownika:
[2025-05-17 12:55:36] [DATA] Array
(
    [gold] => 100
    [cigarettes] => 31
)

[2025-05-17 12:55:36] [INFO] Pobrano dane witalności użytkownika:
[2025-05-17 12:55:36] [DATA] Array
(
    [life] => 80
    [max_life] => 100
    [energy] => 70
    [max_energy] => 100
)

[2025-05-17 12:55:36] [INFO] Zwracam dane użytkownika:
[2025-05-17 12:55:36] [DATA] Array
(
    [success] => 1
    [message] => Dane użytkownika pobrane pomyślnie
    [data] => Array
        (
            [backpack] => Array
                (
                    [gold] => 100
                    [cigarettes] => 31
                )

            [vitality] => Array
                (
                    [life] => 80
                    [max_life] => 100
                    [energy] => 70
                    [max_energy] => 100
                )

        )

)

[2025-05-17 12:57:34] [INFO] get_first_matching_dialog: Found matching dialog
[2025-05-17 12:57:34] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => condition_task
                            [condition] => is
                            [mission_id] => 339
                            [task_id] => jak-poruszac-sie-po-grze_0
                            [status] => completed
                        )

                )

        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => przy-wiezieniu
    [question] => <p>– No to jesteśmy &#8211; z celi wyszedłeś, <strong>ale do świata Sebastianowa dopiero wchodzisz.</strong><br />
Może Ci się wydaje, że jesteś kimś, że Twoja historia się liczy, że coś ci się należy &#8211; bo miałeś ciężko. To posłuchaj uważnie, zanim się zgubisz między trzepakiem a meliną: <strong>Jesteś jednym z wielu</strong>, co myślą, że jak przetrwali jedną noc na dołku, to teraz świat ich powita z otwartymi ramionami.</p>
<p>Jestem Papuga. To ja otworzyłem ci drzwi. Nie z litości, nie z sympatii. Chcę po prostu zobaczyć, co zrobisz, kiedy w końcu przestanie być łatwo.</p>
<p>Bo w Sebastianowie nic nie jest za darmo. Respekt buduje się decyzjami. A każda z nich zostawia ślad – na tobie albo na kimś innym. <strong>Masz pytania? Pytaj – zanim przestanie to być możliwe.</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => Jak się w to w ogóle gra?
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => relation
                                    [acfe_flexible_toggle] => 
                                    [npc] => 449
                                    [change_relation] => 1
                                    [poznaj] => 1
                                )

                        )

                    [go_to_id] => jak-sie-w-to-gra
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => daj 10 golda
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => transaction
                                    [acfe_flexible_toggle] => 
                                    [backpack] => gold
                                    [value] => 10
                                )

                        )

                    [go_to_id] => przy-wiezieniu
                )

        )

)

[2025-05-17 12:57:34] [INFO] Filtered dialog
[2025-05-17 12:57:34] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => condition_task
                            [condition] => is
                            [mission_id] => 339
                            [task_id] => jak-poruszac-sie-po-grze_0
                            [status] => completed
                        )

                )

        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => przy-wiezieniu
    [question] => <p>– No to jesteśmy &#8211; z celi wyszedłeś, <strong>ale do świata Sebastianowa dopiero wchodzisz.</strong><br />
Może Ci się wydaje, że jesteś kimś, że Twoja historia się liczy, że coś ci się należy &#8211; bo miałeś ciężko. To posłuchaj uważnie, zanim się zgubisz między trzepakiem a meliną: <strong>Jesteś jednym z wielu</strong>, co myślą, że jak przetrwali jedną noc na dołku, to teraz świat ich powita z otwartymi ramionami.</p>
<p>Jestem Papuga. To ja otworzyłem ci drzwi. Nie z litości, nie z sympatii. Chcę po prostu zobaczyć, co zrobisz, kiedy w końcu przestanie być łatwo.</p>
<p>Bo w Sebastianowie nic nie jest za darmo. Respekt buduje się decyzjami. A każda z nich zostawia ślad – na tobie albo na kimś innym. <strong>Masz pytania? Pytaj – zanim przestanie to być możliwe.</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => Jak się w to w ogóle gra?
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => relation
                                    [acfe_flexible_toggle] => 
                                    [npc] => 449
                                    [change_relation] => 1
                                    [poznaj] => 1
                                )

                        )

                    [go_to_id] => jak-sie-w-to-gra
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => daj 10 golda
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => transaction
                                    [acfe_flexible_toggle] => 
                                    [backpack] => gold
                                    [value] => 10
                                )

                        )

                    [go_to_id] => przy-wiezieniu
                )

        )

)

[2025-05-17 12:57:36] [INFO] WSZYSTKIE DANE ŻĄDANIA:
[2025-05-17 12:57:36] [DATA] Array
(
    [page_data] => Array
        (
        )

    [npc_id] => 449
    [dialog_id] => jak-sie-w-to-gra
    [current_url] => http://seb.soeasy.it/tereny/park/
    [user_id] => 1
    [answer_id] => answer-0
    [answer_index] => 0
    [current_dialog_id] => przy-wiezieniu
)

[2025-05-17 12:57:36] [INFO] Wyodrębnione dane lokalizacji:
[2025-05-17 12:57:36] [DATA] Array
(
    [location] => Array
        (
            [area_slug] => park
            [area_name] => Park
            [area_id] => 207
        )

    [type_page] => 
    [location_value] => 
)

[2025-05-17 12:57:36] [DEBUG] ROZPOCZYNAM PRZETWARZANIE PRZYCISKÓW ODPOWIEDZI
[2025-05-17 12:57:36] [DEBUG] Znaleziono dialog o ID: przy-wiezieniu
[2025-05-17 12:57:36] [DEBUG] Znaleziono poprzedni dialog ID: przy-wiezieniu
[2025-05-17 12:57:36] [INFO] Pełne dane dialogu:
[2025-05-17 12:57:36] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => condition_task
                            [condition] => is
                            [mission_id] => 339
                            [task_id] => jak-poruszac-sie-po-grze_0
                            [status] => completed
                        )

                )

        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => przy-wiezieniu
    [question] => <p>– No to jesteśmy &#8211; z celi wyszedłeś, <strong>ale do świata Sebastianowa dopiero wchodzisz.</strong><br />
Może Ci się wydaje, że jesteś kimś, że Twoja historia się liczy, że coś ci się należy &#8211; bo miałeś ciężko. To posłuchaj uważnie, zanim się zgubisz między trzepakiem a meliną: <strong>Jesteś jednym z wielu</strong>, co myślą, że jak przetrwali jedną noc na dołku, to teraz świat ich powita z otwartymi ramionami.</p>
<p>Jestem Papuga. To ja otworzyłem ci drzwi. Nie z litości, nie z sympatii. Chcę po prostu zobaczyć, co zrobisz, kiedy w końcu przestanie być łatwo.</p>
<p>Bo w Sebastianowie nic nie jest za darmo. Respekt buduje się decyzjami. A każda z nich zostawia ślad – na tobie albo na kimś innym. <strong>Masz pytania? Pytaj – zanim przestanie to być możliwe.</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => Jak się w to w ogóle gra?
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => relation
                                    [acfe_flexible_toggle] => 
                                    [npc] => 449
                                    [change_relation] => 1
                                    [poznaj] => 1
                                )

                        )

                    [go_to_id] => jak-sie-w-to-gra
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => daj 10 golda
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => transaction
                                    [acfe_flexible_toggle] => 
                                    [backpack] => gold
                                    [value] => 10
                                )

                        )

                    [go_to_id] => przy-wiezieniu
                )

        )

)

[2025-05-17 12:57:36] [INFO] Odpowiedzi w dialogu:
[2025-05-17 12:57:36] [DATA] Array
(
    [0] => Array
        (
            [acf_fc_layout] => anwser
            [layout_settings] => Array
                (
                    [visibility_tab] => 
                    [logic_operator] => and
                    [visibility_settings] => 
                )

            [anwser_text] => Jak się w to w ogóle gra?
            [type_anwser] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => relation
                            [acfe_flexible_toggle] => 
                            [npc] => 449
                            [change_relation] => 1
                            [poznaj] => 1
                        )

                )

            [go_to_id] => jak-sie-w-to-gra
        )

    [1] => Array
        (
            [acf_fc_layout] => anwser
            [layout_settings] => Array
                (
                    [visibility_tab] => 
                    [logic_operator] => and
                    [visibility_settings] => 
                )

            [anwser_text] => daj 10 golda
            [type_anwser] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => transaction
                            [acfe_flexible_toggle] => 
                            [backpack] => gold
                            [value] => 10
                        )

                )

            [go_to_id] => przy-wiezieniu
        )

)

[2025-05-17 12:57:36] [DEBUG] Znaleziono odpowiedź o indeksie: 0
[2025-05-17 12:57:36] [INFO] Dane odpowiedzi:
[2025-05-17 12:57:36] [DATA] Array
(
    [acf_fc_layout] => anwser
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [anwser_text] => Jak się w to w ogóle gra?
    [type_anwser] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => relation
                    [acfe_flexible_toggle] => 
                    [npc] => 449
                    [change_relation] => 1
                    [poznaj] => 1
                )

        )

    [go_to_id] => jak-sie-w-to-gra
)

[2025-05-17 12:57:36] [INFO] Odpowiedź zawiera akcje do wykonania:
[2025-05-17 12:57:36] [DATA] Array
(
    [0] => Array
        (
            [acf_fc_layout] => relation
            [acfe_flexible_toggle] => 
            [npc] => 449
            [change_relation] => 1
            [poznaj] => 1
        )

)

[2025-05-17 12:57:36] [INFO] Weryfikacja akcji:
[2025-05-17 12:57:36] [DATA] Array
(
    [acf_fc_layout] => relation
    [acfe_flexible_toggle] => 
    [npc] => 449
    [change_relation] => 1
    [poznaj] => 1
)

[2025-05-17 12:57:36] [DEBUG] WSZYSTKIE AKCJE SĄ WYKONALNE, PRZYSTĘPUJĘ DO ICH REALIZACJI
[2025-05-17 12:57:36] [INFO] Przetwarzanie akcji:
[2025-05-17 12:57:36] [DATA] Array
(
    [acf_fc_layout] => relation
    [acfe_flexible_toggle] => 
    [npc] => 449
    [change_relation] => 1
    [poznaj] => 1
)

[2025-05-17 12:57:36] [DEBUG] Typ akcji: relation
[2025-05-17 12:57:36] [DEBUG] Wykonuję akcję relacji: npc_id=449, wartość=1, poznaj=tak
[2025-05-17 12:57:36] [DEBUG] Obecna relacja z NPC Papuga dla użytkownika 1: 30
[2025-05-17 12:57:36] [INFO] Aktualne dane relacji przed aktualizacją:
[2025-05-17 12:57:36] [DATA] Array
(
    [user_id] => 1
    [npc_id] => 449
    [npc_name] => Papuga
    [current_relation] => 30
    [value_to_add] => 1
    [new_relation] => 31
)

[2025-05-17 12:57:36] [DEBUG] Nazwa pola do update: npc-relation-449
[2025-05-17 12:57:36] [DEBUG] Rezultat update_field dla relacji z NPC: SUKCES
[2025-05-17 12:57:36] [DEBUG] Wartość relacji z NPC Papuga po aktualizacji: 31
[2025-05-17 12:57:36] [INFO] Utworzono powiadomienie dla zmiany relacji:
[2025-05-17 12:57:36] [DATA] Array
(
    [message] => Twoja relacja z Papuga uległa polepszeniu
    [status] => success
)

[2025-05-17 12:57:36] [DEBUG] Wykonano aktualizację relacji z NPC Papuga. Nowa wartość: 31
[2025-05-17 12:57:36] [INFO] DialogManager: Rozpoczynam filtrowanie odpowiedzi.
[2025-05-17 12:57:36] [DATA] Array
(
    [count_answers_before] => 7
    [context] => Array
        (
            [type_page] => 
            [location] => 
            [user_id] => 1
            [npc_id] => 449
        )

)

[2025-05-17 12:57:36] [INFO] DialogManager: Sprawdzanie odpowiedzi: acf_fc_layout
[2025-05-17 12:57:36] [DATA] Array
(
    [answer_data] => question
)

[2025-05-17 12:57:36] [DEBUG] DialogManager: Odpowiedź (acf_fc_layout) nie ma zdefiniowanych warunków widoczności.
[2025-05-17 12:57:36] [INFO] DialogManager: Sprawdzanie odpowiedzi: layout_settings
[2025-05-17 12:57:36] [DATA] Array
(
    [answer_data] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

)

[2025-05-17 12:57:36] [DEBUG] DialogManager: Odpowiedź (layout_settings) nie ma zdefiniowanych warunków widoczności.
[2025-05-17 12:57:36] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_toggle
[2025-05-17 12:57:36] [DATA] Array
(
    [answer_data] => 
)

[2025-05-17 12:57:36] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_toggle) nie ma zdefiniowanych warunków widoczności.
[2025-05-17 12:57:36] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_layout_title
[2025-05-17 12:57:36] [DATA] Array
(
    [answer_data] => Dialog
)

[2025-05-17 12:57:36] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_layout_title) nie ma zdefiniowanych warunków widoczności.
[2025-05-17 12:57:36] [INFO] DialogManager: Sprawdzanie odpowiedzi: id_pola
[2025-05-17 12:57:36] [DATA] Array
(
    [answer_data] => jak-sie-w-to-gra
)

[2025-05-17 12:57:36] [DEBUG] DialogManager: Odpowiedź (id_pola) nie ma zdefiniowanych warunków widoczności.
[2025-05-17 12:57:36] [INFO] DialogManager: Sprawdzanie odpowiedzi: question
[2025-05-17 12:57:36] [DATA] Array
(
    [answer_data] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

)

[2025-05-17 12:57:36] [DEBUG] DialogManager: Odpowiedź (question) nie ma zdefiniowanych warunków widoczności.
[2025-05-17 12:57:36] [INFO] DialogManager: Sprawdzanie odpowiedzi: anwsers
[2025-05-17 12:57:36] [DATA] Array
(
    [answer_data] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_task
                                            [condition] => is_not
                                            [mission_id] => 339
                                            [task_id] => jak-poruszac-sie-po-grze_0
                                            [status] => completed
                                        )

                                )

                        )

                    [anwser_text] => Jak poruszać się po grze?
                    [type_anwser] => 
                    [go_to_id] => jak-poruszac-sie-po-grze
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => test
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-17 12:57:36] [DEBUG] DialogManager: Odpowiedź (anwsers) nie ma zdefiniowanych warunków widoczności.
[2025-05-17 12:57:36] [INFO] DialogManager: Zakończono filtrowanie odpowiedzi.
[2025-05-17 12:57:36] [DATA] Array
(
    [count_answers_after] => 7
)

[2025-05-17 12:57:36] [INFO] Dialog po filtrowaniu:
[2025-05-17 12:57:36] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-sie-w-to-gra
    [question] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_task
                                            [condition] => is_not
                                            [mission_id] => 339
                                            [task_id] => jak-poruszac-sie-po-grze_0
                                            [status] => completed
                                        )

                                )

                        )

                    [anwser_text] => Jak poruszać się po grze?
                    [type_anwser] => 
                    [go_to_id] => jak-poruszac-sie-po-grze
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => test
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-17 12:57:36] [INFO] Dodano powiadomienie do odpowiedzi:
[2025-05-17 12:57:36] [DATA] Array
(
    [message] => Twoja relacja z Papuga uległa polepszeniu
    [status] => success
)

[2025-05-17 12:57:36] [INFO] Dane odpowiedzi:
[2025-05-17 12:57:36] [DATA] Array
(
    [success] => 1
    [dialog] => Array
        (
            [id] => jak-sie-w-to-gra
            [text] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

            [answers] => Array
                (
                    [0] => Array
                        (
                            [id] => 
                            [text] => Jak poruszać się po grze?
                            [next_dialog] => jak-poruszac-sie-po-grze
                        )

                    [1] => Array
                        (
                            [id] => 
                            [text] => test
                            [next_dialog] => 0
                        )

                )

        )

    [npc] => Array
        (
            [id] => 449
            [name] => Papuga
            [image] => http://seb.soeasy.it/wp-content/uploads/2025/05/papuga_new.png
        )

    [notification] => Array
        (
            [message] => Twoja relacja z Papuga uległa polepszeniu
            [status] => success
        )

)

[2025-05-17 12:57:36] [DEBUG] ===== ZAKOŃCZENIE PRZETWARZANIA ŻĄDANIA DIALOGU =====
[2025-05-17 12:57:36] [DEBUG] Obsługa żądania danych użytkownika ID: 1
[2025-05-17 12:57:36] [INFO] Pobrano dane plecaka użytkownika:
[2025-05-17 12:57:36] [DATA] Array
(
    [gold] => 100
    [cigarettes] => 31
)

[2025-05-17 12:57:36] [INFO] Pobrano dane witalności użytkownika:
[2025-05-17 12:57:36] [DATA] Array
(
    [life] => 80
    [max_life] => 100
    [energy] => 70
    [max_energy] => 100
)

[2025-05-17 12:57:36] [INFO] Zwracam dane użytkownika:
[2025-05-17 12:57:36] [DATA] Array
(
    [success] => 1
    [message] => Dane użytkownika pobrane pomyślnie
    [data] => Array
        (
            [backpack] => Array
                (
                    [gold] => 100
                    [cigarettes] => 31
                )

            [vitality] => Array
                (
                    [life] => 80
                    [max_life] => 100
                    [energy] => 70
                    [max_energy] => 100
                )

        )

)

[2025-05-17 12:58:06] [INFO] get_first_matching_dialog: Found matching dialog
[2025-05-17 12:58:06] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => condition_task
                            [condition] => is
                            [mission_id] => 339
                            [task_id] => jak-poruszac-sie-po-grze_0
                            [status] => completed
                        )

                )

        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => przy-wiezieniu
    [question] => <p>– No to jesteśmy &#8211; z celi wyszedłeś, <strong>ale do świata Sebastianowa dopiero wchodzisz.</strong><br />
Może Ci się wydaje, że jesteś kimś, że Twoja historia się liczy, że coś ci się należy &#8211; bo miałeś ciężko. To posłuchaj uważnie, zanim się zgubisz między trzepakiem a meliną: <strong>Jesteś jednym z wielu</strong>, co myślą, że jak przetrwali jedną noc na dołku, to teraz świat ich powita z otwartymi ramionami.</p>
<p>Jestem Papuga. To ja otworzyłem ci drzwi. Nie z litości, nie z sympatii. Chcę po prostu zobaczyć, co zrobisz, kiedy w końcu przestanie być łatwo.</p>
<p>Bo w Sebastianowie nic nie jest za darmo. Respekt buduje się decyzjami. A każda z nich zostawia ślad – na tobie albo na kimś innym. <strong>Masz pytania? Pytaj – zanim przestanie to być możliwe.</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => Jak się w to w ogóle gra?
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => relation
                                    [acfe_flexible_toggle] => 
                                    [npc] => 449
                                    [change_relation] => 1
                                    [poznaj] => 1
                                )

                        )

                    [go_to_id] => jak-sie-w-to-gra
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => daj 10 golda
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => transaction
                                    [acfe_flexible_toggle] => 
                                    [backpack] => gold
                                    [value] => 10
                                )

                        )

                    [go_to_id] => przy-wiezieniu
                )

        )

)

[2025-05-17 12:58:06] [INFO] Filtered dialog
[2025-05-17 12:58:06] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => condition_task
                            [condition] => is
                            [mission_id] => 339
                            [task_id] => jak-poruszac-sie-po-grze_0
                            [status] => completed
                        )

                )

        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => przy-wiezieniu
    [question] => <p>– No to jesteśmy &#8211; z celi wyszedłeś, <strong>ale do świata Sebastianowa dopiero wchodzisz.</strong><br />
Może Ci się wydaje, że jesteś kimś, że Twoja historia się liczy, że coś ci się należy &#8211; bo miałeś ciężko. To posłuchaj uważnie, zanim się zgubisz między trzepakiem a meliną: <strong>Jesteś jednym z wielu</strong>, co myślą, że jak przetrwali jedną noc na dołku, to teraz świat ich powita z otwartymi ramionami.</p>
<p>Jestem Papuga. To ja otworzyłem ci drzwi. Nie z litości, nie z sympatii. Chcę po prostu zobaczyć, co zrobisz, kiedy w końcu przestanie być łatwo.</p>
<p>Bo w Sebastianowie nic nie jest za darmo. Respekt buduje się decyzjami. A każda z nich zostawia ślad – na tobie albo na kimś innym. <strong>Masz pytania? Pytaj – zanim przestanie to być możliwe.</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => Jak się w to w ogóle gra?
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => relation
                                    [acfe_flexible_toggle] => 
                                    [npc] => 449
                                    [change_relation] => 1
                                    [poznaj] => 1
                                )

                        )

                    [go_to_id] => jak-sie-w-to-gra
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => daj 10 golda
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => transaction
                                    [acfe_flexible_toggle] => 
                                    [backpack] => gold
                                    [value] => 10
                                )

                        )

                    [go_to_id] => przy-wiezieniu
                )

        )

)

[2025-05-17 12:58:11] [INFO] WSZYSTKIE DANE ŻĄDANIA:
[2025-05-17 12:58:11] [DATA] Array
(
    [page_data] => Array
        (
        )

    [npc_id] => 449
    [dialog_id] => jak-sie-w-to-gra
    [current_url] => http://seb.soeasy.it/tereny/start/przed-wiezieniem/
    [user_id] => 1
    [answer_id] => answer-0
    [answer_index] => 0
    [current_dialog_id] => przy-wiezieniu
)

[2025-05-17 12:58:11] [INFO] Wyodrębnione dane lokalizacji:
[2025-05-17 12:58:11] [DATA] Array
(
    [location] => Array
        (
            [area_slug] => start/przed-wiezieniem
            [area_name] => 
            [area_id] => 0
        )

    [type_page] => 
    [location_value] => 
)

[2025-05-17 12:58:11] [DEBUG] ROZPOCZYNAM PRZETWARZANIE PRZYCISKÓW ODPOWIEDZI
[2025-05-17 12:58:11] [DEBUG] Znaleziono dialog o ID: przy-wiezieniu
[2025-05-17 12:58:11] [DEBUG] Znaleziono poprzedni dialog ID: przy-wiezieniu
[2025-05-17 12:58:11] [INFO] Pełne dane dialogu:
[2025-05-17 12:58:11] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => condition_task
                            [condition] => is
                            [mission_id] => 339
                            [task_id] => jak-poruszac-sie-po-grze_0
                            [status] => completed
                        )

                )

        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => przy-wiezieniu
    [question] => <p>– No to jesteśmy &#8211; z celi wyszedłeś, <strong>ale do świata Sebastianowa dopiero wchodzisz.</strong><br />
Może Ci się wydaje, że jesteś kimś, że Twoja historia się liczy, że coś ci się należy &#8211; bo miałeś ciężko. To posłuchaj uważnie, zanim się zgubisz między trzepakiem a meliną: <strong>Jesteś jednym z wielu</strong>, co myślą, że jak przetrwali jedną noc na dołku, to teraz świat ich powita z otwartymi ramionami.</p>
<p>Jestem Papuga. To ja otworzyłem ci drzwi. Nie z litości, nie z sympatii. Chcę po prostu zobaczyć, co zrobisz, kiedy w końcu przestanie być łatwo.</p>
<p>Bo w Sebastianowie nic nie jest za darmo. Respekt buduje się decyzjami. A każda z nich zostawia ślad – na tobie albo na kimś innym. <strong>Masz pytania? Pytaj – zanim przestanie to być możliwe.</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => Jak się w to w ogóle gra?
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => relation
                                    [acfe_flexible_toggle] => 
                                    [npc] => 449
                                    [change_relation] => 1
                                    [poznaj] => 1
                                )

                        )

                    [go_to_id] => jak-sie-w-to-gra
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => daj 10 golda
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => transaction
                                    [acfe_flexible_toggle] => 
                                    [backpack] => gold
                                    [value] => 10
                                )

                        )

                    [go_to_id] => przy-wiezieniu
                )

        )

)

[2025-05-17 12:58:11] [INFO] Odpowiedzi w dialogu:
[2025-05-17 12:58:11] [DATA] Array
(
    [0] => Array
        (
            [acf_fc_layout] => anwser
            [layout_settings] => Array
                (
                    [visibility_tab] => 
                    [logic_operator] => and
                    [visibility_settings] => 
                )

            [anwser_text] => Jak się w to w ogóle gra?
            [type_anwser] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => relation
                            [acfe_flexible_toggle] => 
                            [npc] => 449
                            [change_relation] => 1
                            [poznaj] => 1
                        )

                )

            [go_to_id] => jak-sie-w-to-gra
        )

    [1] => Array
        (
            [acf_fc_layout] => anwser
            [layout_settings] => Array
                (
                    [visibility_tab] => 
                    [logic_operator] => and
                    [visibility_settings] => 
                )

            [anwser_text] => daj 10 golda
            [type_anwser] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => transaction
                            [acfe_flexible_toggle] => 
                            [backpack] => gold
                            [value] => 10
                        )

                )

            [go_to_id] => przy-wiezieniu
        )

)

[2025-05-17 12:58:11] [DEBUG] Znaleziono odpowiedź o indeksie: 0
[2025-05-17 12:58:11] [INFO] Dane odpowiedzi:
[2025-05-17 12:58:11] [DATA] Array
(
    [acf_fc_layout] => anwser
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [anwser_text] => Jak się w to w ogóle gra?
    [type_anwser] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => relation
                    [acfe_flexible_toggle] => 
                    [npc] => 449
                    [change_relation] => 1
                    [poznaj] => 1
                )

        )

    [go_to_id] => jak-sie-w-to-gra
)

[2025-05-17 12:58:11] [INFO] Odpowiedź zawiera akcje do wykonania:
[2025-05-17 12:58:11] [DATA] Array
(
    [0] => Array
        (
            [acf_fc_layout] => relation
            [acfe_flexible_toggle] => 
            [npc] => 449
            [change_relation] => 1
            [poznaj] => 1
        )

)

[2025-05-17 12:58:11] [INFO] Weryfikacja akcji:
[2025-05-17 12:58:11] [DATA] Array
(
    [acf_fc_layout] => relation
    [acfe_flexible_toggle] => 
    [npc] => 449
    [change_relation] => 1
    [poznaj] => 1
)

[2025-05-17 12:58:11] [DEBUG] WSZYSTKIE AKCJE SĄ WYKONALNE, PRZYSTĘPUJĘ DO ICH REALIZACJI
[2025-05-17 12:58:11] [INFO] Przetwarzanie akcji:
[2025-05-17 12:58:11] [DATA] Array
(
    [acf_fc_layout] => relation
    [acfe_flexible_toggle] => 
    [npc] => 449
    [change_relation] => 1
    [poznaj] => 1
)

[2025-05-17 12:58:11] [DEBUG] Typ akcji: relation
[2025-05-17 12:58:11] [DEBUG] Wykonuję akcję relacji: npc_id=449, wartość=1, poznaj=tak
[2025-05-17 12:58:11] [DEBUG] Obecna relacja z NPC Papuga dla użytkownika 1: 31
[2025-05-17 12:58:11] [INFO] Aktualne dane relacji przed aktualizacją:
[2025-05-17 12:58:11] [DATA] Array
(
    [user_id] => 1
    [npc_id] => 449
    [npc_name] => Papuga
    [current_relation] => 31
    [value_to_add] => 1
    [new_relation] => 32
)

[2025-05-17 12:58:11] [DEBUG] Nazwa pola do update: npc-relation-449
[2025-05-17 12:58:11] [DEBUG] Rezultat update_field dla relacji z NPC: SUKCES
[2025-05-17 12:58:11] [DEBUG] Wartość relacji z NPC Papuga po aktualizacji: 32
[2025-05-17 12:58:11] [INFO] Utworzono powiadomienie dla zmiany relacji:
[2025-05-17 12:58:11] [DATA] Array
(
    [message] => Twoja relacja z Papuga uległa polepszeniu
    [status] => success
)

[2025-05-17 12:58:11] [DEBUG] Wykonano aktualizację relacji z NPC Papuga. Nowa wartość: 32
[2025-05-17 12:58:11] [INFO] DialogManager: Rozpoczynam filtrowanie odpowiedzi.
[2025-05-17 12:58:11] [DATA] Array
(
    [count_answers_before] => 7
    [context] => Array
        (
            [type_page] => 
            [location] => 
            [user_id] => 1
            [npc_id] => 449
        )

)

[2025-05-17 12:58:11] [INFO] DialogManager: Sprawdzanie odpowiedzi: acf_fc_layout
[2025-05-17 12:58:11] [DATA] Array
(
    [answer_data] => question
)

[2025-05-17 12:58:11] [DEBUG] DialogManager: Odpowiedź (acf_fc_layout) nie ma zdefiniowanych warunków widoczności.
[2025-05-17 12:58:11] [INFO] DialogManager: Sprawdzanie odpowiedzi: layout_settings
[2025-05-17 12:58:11] [DATA] Array
(
    [answer_data] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

)

[2025-05-17 12:58:11] [DEBUG] DialogManager: Odpowiedź (layout_settings) nie ma zdefiniowanych warunków widoczności.
[2025-05-17 12:58:11] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_toggle
[2025-05-17 12:58:11] [DATA] Array
(
    [answer_data] => 
)

[2025-05-17 12:58:11] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_toggle) nie ma zdefiniowanych warunków widoczności.
[2025-05-17 12:58:11] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_layout_title
[2025-05-17 12:58:11] [DATA] Array
(
    [answer_data] => Dialog
)

[2025-05-17 12:58:11] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_layout_title) nie ma zdefiniowanych warunków widoczności.
[2025-05-17 12:58:11] [INFO] DialogManager: Sprawdzanie odpowiedzi: id_pola
[2025-05-17 12:58:11] [DATA] Array
(
    [answer_data] => jak-sie-w-to-gra
)

[2025-05-17 12:58:11] [DEBUG] DialogManager: Odpowiedź (id_pola) nie ma zdefiniowanych warunków widoczności.
[2025-05-17 12:58:11] [INFO] DialogManager: Sprawdzanie odpowiedzi: question
[2025-05-17 12:58:11] [DATA] Array
(
    [answer_data] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

)

[2025-05-17 12:58:11] [DEBUG] DialogManager: Odpowiedź (question) nie ma zdefiniowanych warunków widoczności.
[2025-05-17 12:58:11] [INFO] DialogManager: Sprawdzanie odpowiedzi: anwsers
[2025-05-17 12:58:11] [DATA] Array
(
    [answer_data] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_task
                                            [condition] => is_not
                                            [mission_id] => 339
                                            [task_id] => jak-poruszac-sie-po-grze_0
                                            [status] => completed
                                        )

                                )

                        )

                    [anwser_text] => Jak poruszać się po grze?
                    [type_anwser] => 
                    [go_to_id] => jak-poruszac-sie-po-grze
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => test
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-17 12:58:11] [DEBUG] DialogManager: Odpowiedź (anwsers) nie ma zdefiniowanych warunków widoczności.
[2025-05-17 12:58:11] [INFO] DialogManager: Zakończono filtrowanie odpowiedzi.
[2025-05-17 12:58:11] [DATA] Array
(
    [count_answers_after] => 7
)

[2025-05-17 12:58:11] [INFO] Dialog po filtrowaniu:
[2025-05-17 12:58:11] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-sie-w-to-gra
    [question] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_task
                                            [condition] => is_not
                                            [mission_id] => 339
                                            [task_id] => jak-poruszac-sie-po-grze_0
                                            [status] => completed
                                        )

                                )

                        )

                    [anwser_text] => Jak poruszać się po grze?
                    [type_anwser] => 
                    [go_to_id] => jak-poruszac-sie-po-grze
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => test
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-17 12:58:11] [INFO] Dodano powiadomienie do odpowiedzi:
[2025-05-17 12:58:11] [DATA] Array
(
    [message] => Twoja relacja z Papuga uległa polepszeniu
    [status] => success
)

[2025-05-17 12:58:11] [INFO] Dane odpowiedzi:
[2025-05-17 12:58:11] [DATA] Array
(
    [success] => 1
    [dialog] => Array
        (
            [id] => jak-sie-w-to-gra
            [text] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

            [answers] => Array
                (
                    [0] => Array
                        (
                            [id] => 
                            [text] => Jak poruszać się po grze?
                            [next_dialog] => jak-poruszac-sie-po-grze
                        )

                    [1] => Array
                        (
                            [id] => 
                            [text] => test
                            [next_dialog] => 0
                        )

                )

        )

    [npc] => Array
        (
            [id] => 449
            [name] => Papuga
            [image] => http://seb.soeasy.it/wp-content/uploads/2025/05/papuga_new.png
        )

    [notification] => Array
        (
            [message] => Twoja relacja z Papuga uległa polepszeniu
            [status] => success
        )

)

[2025-05-17 12:58:11] [DEBUG] ===== ZAKOŃCZENIE PRZETWARZANIA ŻĄDANIA DIALOGU =====
[2025-05-17 12:58:11] [DEBUG] Obsługa żądania danych użytkownika ID: 1
[2025-05-17 12:58:11] [INFO] Pobrano dane plecaka użytkownika:
[2025-05-17 12:58:11] [DATA] Array
(
    [gold] => 100
    [cigarettes] => 31
)

[2025-05-17 12:58:11] [INFO] Pobrano dane witalności użytkownika:
[2025-05-17 12:58:11] [DATA] Array
(
    [life] => 80
    [max_life] => 100
    [energy] => 70
    [max_energy] => 100
)

[2025-05-17 12:58:11] [INFO] Zwracam dane użytkownika:
[2025-05-17 12:58:11] [DATA] Array
(
    [success] => 1
    [message] => Dane użytkownika pobrane pomyślnie
    [data] => Array
        (
            [backpack] => Array
                (
                    [gold] => 100
                    [cigarettes] => 31
                )

            [vitality] => Array
                (
                    [life] => 80
                    [max_life] => 100
                    [energy] => 70
                    [max_energy] => 100
                )

        )

)

[2025-05-17 12:58:13] [INFO] WSZYSTKIE DANE ŻĄDANIA:
[2025-05-17 12:58:13] [DATA] Array
(
    [page_data] => Array
        (
        )

    [npc_id] => 449
    [dialog_id] => jak-poruszac-sie-po-grze
    [current_url] => http://seb.soeasy.it/tereny/start/przed-wiezieniem/
    [user_id] => 1
    [answer_id] => answer-0
    [answer_index] => 0
    [current_dialog_id] => jak-sie-w-to-gra
)

[2025-05-17 12:58:13] [INFO] Wyodrębnione dane lokalizacji:
[2025-05-17 12:58:13] [DATA] Array
(
    [location] => Array
        (
            [area_slug] => start/przed-wiezieniem
            [area_name] => 
            [area_id] => 0
        )

    [type_page] => 
    [location_value] => 
)

[2025-05-17 12:58:13] [DEBUG] ROZPOCZYNAM PRZETWARZANIE PRZYCISKÓW ODPOWIEDZI
[2025-05-17 12:58:13] [DEBUG] Znaleziono dialog o ID: jak-sie-w-to-gra
[2025-05-17 12:58:13] [DEBUG] Znaleziono poprzedni dialog ID: jak-sie-w-to-gra
[2025-05-17 12:58:13] [INFO] Pełne dane dialogu:
[2025-05-17 12:58:13] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-sie-w-to-gra
    [question] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_task
                                            [condition] => is_not
                                            [mission_id] => 339
                                            [task_id] => jak-poruszac-sie-po-grze_0
                                            [status] => completed
                                        )

                                )

                        )

                    [anwser_text] => Jak poruszać się po grze?
                    [type_anwser] => 
                    [go_to_id] => jak-poruszac-sie-po-grze
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => test
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-17 12:58:13] [INFO] Odpowiedzi w dialogu:
[2025-05-17 12:58:13] [DATA] Array
(
    [0] => Array
        (
            [acf_fc_layout] => anwser
            [layout_settings] => Array
                (
                    [visibility_tab] => 
                    [logic_operator] => and
                    [visibility_settings] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => condition_task
                                    [condition] => is_not
                                    [mission_id] => 339
                                    [task_id] => jak-poruszac-sie-po-grze_0
                                    [status] => completed
                                )

                        )

                )

            [anwser_text] => Jak poruszać się po grze?
            [type_anwser] => 
            [go_to_id] => jak-poruszac-sie-po-grze
        )

    [1] => Array
        (
            [acf_fc_layout] => anwser
            [layout_settings] => Array
                (
                    [visibility_tab] => 
                    [logic_operator] => and
                    [visibility_settings] => 
                )

            [anwser_text] => test
            [type_anwser] => 
            [go_to_id] => 0
        )

)

[2025-05-17 12:58:13] [DEBUG] Znaleziono odpowiedź o indeksie: 0
[2025-05-17 12:58:13] [INFO] Dane odpowiedzi:
[2025-05-17 12:58:13] [DATA] Array
(
    [acf_fc_layout] => anwser
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => condition_task
                            [condition] => is_not
                            [mission_id] => 339
                            [task_id] => jak-poruszac-sie-po-grze_0
                            [status] => completed
                        )

                )

        )

    [anwser_text] => Jak poruszać się po grze?
    [type_anwser] => 
    [go_to_id] => jak-poruszac-sie-po-grze
)

[2025-05-17 12:58:13] [DEBUG] Odpowiedź NIE zawiera akcji type_anwser lub jest pusta
[2025-05-17 12:58:13] [INFO] DialogManager: Rozpoczynam filtrowanie odpowiedzi.
[2025-05-17 12:58:13] [DATA] Array
(
    [count_answers_before] => 7
    [context] => Array
        (
            [type_page] => 
            [location] => 
            [user_id] => 1
            [npc_id] => 449
        )

)

[2025-05-17 12:58:13] [INFO] DialogManager: Sprawdzanie odpowiedzi: acf_fc_layout
[2025-05-17 12:58:13] [DATA] Array
(
    [answer_data] => question
)

[2025-05-17 12:58:13] [DEBUG] DialogManager: Odpowiedź (acf_fc_layout) nie ma zdefiniowanych warunków widoczności.
[2025-05-17 12:58:13] [INFO] DialogManager: Sprawdzanie odpowiedzi: layout_settings
[2025-05-17 12:58:13] [DATA] Array
(
    [answer_data] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

)

[2025-05-17 12:58:13] [DEBUG] DialogManager: Odpowiedź (layout_settings) nie ma zdefiniowanych warunków widoczności.
[2025-05-17 12:58:13] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_toggle
[2025-05-17 12:58:13] [DATA] Array
(
    [answer_data] => 
)

[2025-05-17 12:58:13] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_toggle) nie ma zdefiniowanych warunków widoczności.
[2025-05-17 12:58:13] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_layout_title
[2025-05-17 12:58:13] [DATA] Array
(
    [answer_data] => Dialog
)

[2025-05-17 12:58:13] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_layout_title) nie ma zdefiniowanych warunków widoczności.
[2025-05-17 12:58:13] [INFO] DialogManager: Sprawdzanie odpowiedzi: id_pola
[2025-05-17 12:58:13] [DATA] Array
(
    [answer_data] => jak-poruszac-sie-po-grze
)

[2025-05-17 12:58:13] [DEBUG] DialogManager: Odpowiedź (id_pola) nie ma zdefiniowanych warunków widoczności.
[2025-05-17 12:58:13] [INFO] DialogManager: Sprawdzanie odpowiedzi: question
[2025-05-17 12:58:13] [DATA] Array
(
    [answer_data] => <p><strong>Każda scena to jeden widok – jak kadr z życia</strong>. Na nim są miejsca, osoby i przedmioty, z którymi możesz wejść w interakcję. Biały kolor oznacza przejście do innej sceny. Możesz przejść z bramy na klatkę, z meliny do sklepu, z podwórka do innej dzielnicy. Te przejścia nie kosztują Cię nic energii.</p>
<p><strong>Niebieski kolor to akcje z otoczeniem. </strong>Grzebanie w śmietniku, kontenerze na ubrania, zaglądanie do kiosku, przeszukiwanie bagażnika, otwieranie skrytki – tutaj każda akcja kosztuje pewną ilość energii. <strong>Postacie mają kolorowe obwódki. Klikasz – zaczyna się rozmowa.</strong></p>
<ul>
<li>Zielony – lubią cię.</li>
<li>Czerwony – nie cierpią.</li>
<li>Pomarańczowy – neutralni, jeszcze nie wiedzą, co o tobie sądzić.</li>
</ul>
<p>Każda rozmowa może Ci coś dać – albo zabrać. Zależy, jak się zachowasz.</p>
<p>Czasem znajdziesz coś cennego. Czasem coś obrzydliwego. A czasem kogoś obudzisz. <strong>Pamiętaj – nie każde poruszanie się między widokami zużywa energę. </strong>Dopiero konkretne działania albo spacery po dzielnicach zabierają energię</p>

)

[2025-05-17 12:58:13] [DEBUG] DialogManager: Odpowiedź (question) nie ma zdefiniowanych warunków widoczności.
[2025-05-17 12:58:13] [INFO] DialogManager: Sprawdzanie odpowiedzi: anwsers
[2025-05-17 12:58:13] [DATA] Array
(
    [answer_data] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => Okej, załapałem jak się poruszać
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => mission
                                    [acfe_flexible_toggle] => 
                                    [mission_id] => 339
                                    [mission_status] => in_progress
                                    [mission_task_id] => jak-poruszac-sie-po-grze_0
                                    [mission_task_status] => completed
                                )

                        )

                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-17 12:58:13] [DEBUG] DialogManager: Odpowiedź (anwsers) nie ma zdefiniowanych warunków widoczności.
[2025-05-17 12:58:13] [INFO] DialogManager: Zakończono filtrowanie odpowiedzi.
[2025-05-17 12:58:13] [DATA] Array
(
    [count_answers_after] => 7
)

[2025-05-17 12:58:13] [INFO] Dialog po filtrowaniu:
[2025-05-17 12:58:13] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-poruszac-sie-po-grze
    [question] => <p><strong>Każda scena to jeden widok – jak kadr z życia</strong>. Na nim są miejsca, osoby i przedmioty, z którymi możesz wejść w interakcję. Biały kolor oznacza przejście do innej sceny. Możesz przejść z bramy na klatkę, z meliny do sklepu, z podwórka do innej dzielnicy. Te przejścia nie kosztują Cię nic energii.</p>
<p><strong>Niebieski kolor to akcje z otoczeniem. </strong>Grzebanie w śmietniku, kontenerze na ubrania, zaglądanie do kiosku, przeszukiwanie bagażnika, otwieranie skrytki – tutaj każda akcja kosztuje pewną ilość energii. <strong>Postacie mają kolorowe obwódki. Klikasz – zaczyna się rozmowa.</strong></p>
<ul>
<li>Zielony – lubią cię.</li>
<li>Czerwony – nie cierpią.</li>
<li>Pomarańczowy – neutralni, jeszcze nie wiedzą, co o tobie sądzić.</li>
</ul>
<p>Każda rozmowa może Ci coś dać – albo zabrać. Zależy, jak się zachowasz.</p>
<p>Czasem znajdziesz coś cennego. Czasem coś obrzydliwego. A czasem kogoś obudzisz. <strong>Pamiętaj – nie każde poruszanie się między widokami zużywa energę. </strong>Dopiero konkretne działania albo spacery po dzielnicach zabierają energię</p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => Okej, załapałem jak się poruszać
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => mission
                                    [acfe_flexible_toggle] => 
                                    [mission_id] => 339
                                    [mission_status] => in_progress
                                    [mission_task_id] => jak-poruszac-sie-po-grze_0
                                    [mission_task_status] => completed
                                )

                        )

                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-17 12:58:13] [INFO] Dane odpowiedzi:
[2025-05-17 12:58:13] [DATA] Array
(
    [success] => 1
    [dialog] => Array
        (
            [id] => jak-poruszac-sie-po-grze
            [text] => <p><strong>Każda scena to jeden widok – jak kadr z życia</strong>. Na nim są miejsca, osoby i przedmioty, z którymi możesz wejść w interakcję. Biały kolor oznacza przejście do innej sceny. Możesz przejść z bramy na klatkę, z meliny do sklepu, z podwórka do innej dzielnicy. Te przejścia nie kosztują Cię nic energii.</p>
<p><strong>Niebieski kolor to akcje z otoczeniem. </strong>Grzebanie w śmietniku, kontenerze na ubrania, zaglądanie do kiosku, przeszukiwanie bagażnika, otwieranie skrytki – tutaj każda akcja kosztuje pewną ilość energii. <strong>Postacie mają kolorowe obwódki. Klikasz – zaczyna się rozmowa.</strong></p>
<ul>
<li>Zielony – lubią cię.</li>
<li>Czerwony – nie cierpią.</li>
<li>Pomarańczowy – neutralni, jeszcze nie wiedzą, co o tobie sądzić.</li>
</ul>
<p>Każda rozmowa może Ci coś dać – albo zabrać. Zależy, jak się zachowasz.</p>
<p>Czasem znajdziesz coś cennego. Czasem coś obrzydliwego. A czasem kogoś obudzisz. <strong>Pamiętaj – nie każde poruszanie się między widokami zużywa energę. </strong>Dopiero konkretne działania albo spacery po dzielnicach zabierają energię</p>

            [answers] => Array
                (
                    [0] => Array
                        (
                            [id] => 
                            [text] => Okej, załapałem jak się poruszać
                            [next_dialog] => jak-sie-w-to-gra
                        )

                )

        )

    [npc] => Array
        (
            [id] => 449
            [name] => Papuga
            [image] => http://seb.soeasy.it/wp-content/uploads/2025/05/papuga_new.png
        )

)

[2025-05-17 12:58:13] [DEBUG] ===== ZAKOŃCZENIE PRZETWARZANIA ŻĄDANIA DIALOGU =====
[2025-05-17 12:58:26] [INFO] WSZYSTKIE DANE ŻĄDANIA:
[2025-05-17 12:58:26] [DATA] Array
(
    [page_data] => Array
        (
        )

    [npc_id] => 449
    [dialog_id] => jak-sie-w-to-gra
    [current_url] => http://seb.soeasy.it/tereny/start/przed-wiezieniem/
    [user_id] => 1
    [answer_id] => answer-0
    [answer_index] => 0
    [current_dialog_id] => jak-poruszac-sie-po-grze
)

[2025-05-17 12:58:26] [INFO] Wyodrębnione dane lokalizacji:
[2025-05-17 12:58:26] [DATA] Array
(
    [location] => Array
        (
            [area_slug] => start/przed-wiezieniem
            [area_name] => 
            [area_id] => 0
        )

    [type_page] => 
    [location_value] => 
)

[2025-05-17 12:58:26] [DEBUG] ROZPOCZYNAM PRZETWARZANIE PRZYCISKÓW ODPOWIEDZI
[2025-05-17 12:58:26] [DEBUG] Znaleziono dialog o ID: jak-poruszac-sie-po-grze
[2025-05-17 12:58:26] [DEBUG] Znaleziono poprzedni dialog ID: jak-poruszac-sie-po-grze
[2025-05-17 12:58:26] [INFO] Pełne dane dialogu:
[2025-05-17 12:58:26] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-poruszac-sie-po-grze
    [question] => <p><strong>Każda scena to jeden widok – jak kadr z życia</strong>. Na nim są miejsca, osoby i przedmioty, z którymi możesz wejść w interakcję. Biały kolor oznacza przejście do innej sceny. Możesz przejść z bramy na klatkę, z meliny do sklepu, z podwórka do innej dzielnicy. Te przejścia nie kosztują Cię nic energii.</p>
<p><strong>Niebieski kolor to akcje z otoczeniem. </strong>Grzebanie w śmietniku, kontenerze na ubrania, zaglądanie do kiosku, przeszukiwanie bagażnika, otwieranie skrytki – tutaj każda akcja kosztuje pewną ilość energii. <strong>Postacie mają kolorowe obwódki. Klikasz – zaczyna się rozmowa.</strong></p>
<ul>
<li>Zielony – lubią cię.</li>
<li>Czerwony – nie cierpią.</li>
<li>Pomarańczowy – neutralni, jeszcze nie wiedzą, co o tobie sądzić.</li>
</ul>
<p>Każda rozmowa może Ci coś dać – albo zabrać. Zależy, jak się zachowasz.</p>
<p>Czasem znajdziesz coś cennego. Czasem coś obrzydliwego. A czasem kogoś obudzisz. <strong>Pamiętaj – nie każde poruszanie się między widokami zużywa energę. </strong>Dopiero konkretne działania albo spacery po dzielnicach zabierają energię</p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => Okej, załapałem jak się poruszać
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => mission
                                    [acfe_flexible_toggle] => 
                                    [mission_id] => 339
                                    [mission_status] => in_progress
                                    [mission_task_id] => jak-poruszac-sie-po-grze_0
                                    [mission_task_status] => completed
                                )

                        )

                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-17 12:58:26] [INFO] Odpowiedzi w dialogu:
[2025-05-17 12:58:26] [DATA] Array
(
    [0] => Array
        (
            [acf_fc_layout] => anwser
            [layout_settings] => Array
                (
                    [visibility_tab] => 
                    [logic_operator] => and
                    [visibility_settings] => 
                )

            [anwser_text] => Okej, załapałem jak się poruszać
            [type_anwser] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => mission
                            [acfe_flexible_toggle] => 
                            [mission_id] => 339
                            [mission_status] => in_progress
                            [mission_task_id] => jak-poruszac-sie-po-grze_0
                            [mission_task_status] => completed
                        )

                )

            [go_to_id] => jak-sie-w-to-gra
        )

)

[2025-05-17 12:58:26] [DEBUG] Znaleziono odpowiedź o indeksie: 0
[2025-05-17 12:58:26] [INFO] Dane odpowiedzi:
[2025-05-17 12:58:26] [DATA] Array
(
    [acf_fc_layout] => anwser
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [anwser_text] => Okej, załapałem jak się poruszać
    [type_anwser] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => mission
                    [acfe_flexible_toggle] => 
                    [mission_id] => 339
                    [mission_status] => in_progress
                    [mission_task_id] => jak-poruszac-sie-po-grze_0
                    [mission_task_status] => completed
                )

        )

    [go_to_id] => jak-sie-w-to-gra
)

[2025-05-17 12:58:26] [INFO] Odpowiedź zawiera akcje do wykonania:
[2025-05-17 12:58:26] [DATA] Array
(
    [0] => Array
        (
            [acf_fc_layout] => mission
            [acfe_flexible_toggle] => 
            [mission_id] => 339
            [mission_status] => in_progress
            [mission_task_id] => jak-poruszac-sie-po-grze_0
            [mission_task_status] => completed
        )

)

[2025-05-17 12:58:26] [INFO] Weryfikacja akcji:
[2025-05-17 12:58:26] [DATA] Array
(
    [acf_fc_layout] => mission
    [acfe_flexible_toggle] => 
    [mission_id] => 339
    [mission_status] => in_progress
    [mission_task_id] => jak-poruszac-sie-po-grze_0
    [mission_task_status] => completed
)

[2025-05-17 12:58:26] [DEBUG] WSZYSTKIE AKCJE SĄ WYKONALNE, PRZYSTĘPUJĘ DO ICH REALIZACJI
[2025-05-17 12:58:26] [INFO] Przetwarzanie akcji:
[2025-05-17 12:58:26] [DATA] Array
(
    [acf_fc_layout] => mission
    [acfe_flexible_toggle] => 
    [mission_id] => 339
    [mission_status] => in_progress
    [mission_task_id] => jak-poruszac-sie-po-grze_0
    [mission_task_status] => completed
)

[2025-05-17 12:58:26] [DEBUG] Typ akcji: mission
[2025-05-17 12:58:26] [DEBUG] Wykonuję akcję misji: mission_id=339, status=in_progress, task_id=jak-poruszac-sie-po-grze_0, task_status=completed, npc_id=449
[2025-05-17 12:58:26] [INFO] Aktualny stan misji użytkownika:
[2025-05-17 12:58:26] [DATA] Array
(
    [status] => in_progress
    [assigned_date] => 2025-04-29 18:04:25
    [completion_date] => 2025-05-15 18:20:13
    [tasks] => Array
        (
            [jak-poruszac-sie-po-grze_0] => completed
            [jak-sie-tu-poruszac_1] => not_started
        )

)

[2025-05-17 12:58:26] [DEBUG] Zaktualizowano status misji 'Przejdź samouczek' z 'in_progress' na 'in_progress'
[2025-05-17 12:58:26] [DEBUG] Zaktualizowano status standardowego zadania 'jak-poruszac-sie-po-grze_0' z 'completed' na 'completed'
[2025-05-17 12:58:26] [DEBUG] Misja nie wymaga aktualizacji - dane nie uległy zmianie
[2025-05-17 12:58:26] [INFO] Utworzono powiadomienie dla misji:
[2025-05-17 12:58:26] [DATA] Array
(
    [message] => Ukończono zadanie: jak-poruszac-sie-po-grze
    [status] => success
)

[2025-05-17 12:58:26] [INFO] DialogManager: Rozpoczynam filtrowanie odpowiedzi.
[2025-05-17 12:58:26] [DATA] Array
(
    [count_answers_before] => 7
    [context] => Array
        (
            [type_page] => 
            [location] => 
            [user_id] => 1
            [npc_id] => 449
        )

)

[2025-05-17 12:58:26] [INFO] DialogManager: Sprawdzanie odpowiedzi: acf_fc_layout
[2025-05-17 12:58:26] [DATA] Array
(
    [answer_data] => question
)

[2025-05-17 12:58:26] [DEBUG] DialogManager: Odpowiedź (acf_fc_layout) nie ma zdefiniowanych warunków widoczności.
[2025-05-17 12:58:26] [INFO] DialogManager: Sprawdzanie odpowiedzi: layout_settings
[2025-05-17 12:58:26] [DATA] Array
(
    [answer_data] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

)

[2025-05-17 12:58:26] [DEBUG] DialogManager: Odpowiedź (layout_settings) nie ma zdefiniowanych warunków widoczności.
[2025-05-17 12:58:26] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_toggle
[2025-05-17 12:58:26] [DATA] Array
(
    [answer_data] => 
)

[2025-05-17 12:58:26] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_toggle) nie ma zdefiniowanych warunków widoczności.
[2025-05-17 12:58:26] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_layout_title
[2025-05-17 12:58:26] [DATA] Array
(
    [answer_data] => Dialog
)

[2025-05-17 12:58:26] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_layout_title) nie ma zdefiniowanych warunków widoczności.
[2025-05-17 12:58:26] [INFO] DialogManager: Sprawdzanie odpowiedzi: id_pola
[2025-05-17 12:58:26] [DATA] Array
(
    [answer_data] => jak-sie-w-to-gra
)

[2025-05-17 12:58:26] [DEBUG] DialogManager: Odpowiedź (id_pola) nie ma zdefiniowanych warunków widoczności.
[2025-05-17 12:58:26] [INFO] DialogManager: Sprawdzanie odpowiedzi: question
[2025-05-17 12:58:26] [DATA] Array
(
    [answer_data] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

)

[2025-05-17 12:58:26] [DEBUG] DialogManager: Odpowiedź (question) nie ma zdefiniowanych warunków widoczności.
[2025-05-17 12:58:26] [INFO] DialogManager: Sprawdzanie odpowiedzi: anwsers
[2025-05-17 12:58:26] [DATA] Array
(
    [answer_data] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_task
                                            [condition] => is_not
                                            [mission_id] => 339
                                            [task_id] => jak-poruszac-sie-po-grze_0
                                            [status] => completed
                                        )

                                )

                        )

                    [anwser_text] => Jak poruszać się po grze?
                    [type_anwser] => 
                    [go_to_id] => jak-poruszac-sie-po-grze
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => test
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-17 12:58:26] [DEBUG] DialogManager: Odpowiedź (anwsers) nie ma zdefiniowanych warunków widoczności.
[2025-05-17 12:58:26] [INFO] DialogManager: Zakończono filtrowanie odpowiedzi.
[2025-05-17 12:58:26] [DATA] Array
(
    [count_answers_after] => 7
)

[2025-05-17 12:58:26] [INFO] Dialog po filtrowaniu:
[2025-05-17 12:58:26] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-sie-w-to-gra
    [question] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_task
                                            [condition] => is_not
                                            [mission_id] => 339
                                            [task_id] => jak-poruszac-sie-po-grze_0
                                            [status] => completed
                                        )

                                )

                        )

                    [anwser_text] => Jak poruszać się po grze?
                    [type_anwser] => 
                    [go_to_id] => jak-poruszac-sie-po-grze
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => test
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-17 12:58:26] [INFO] Dodano powiadomienie do odpowiedzi:
[2025-05-17 12:58:26] [DATA] Array
(
    [message] => Ukończono zadanie: jak-poruszac-sie-po-grze
    [status] => success
)

[2025-05-17 12:58:26] [INFO] Dane odpowiedzi:
[2025-05-17 12:58:26] [DATA] Array
(
    [success] => 1
    [dialog] => Array
        (
            [id] => jak-sie-w-to-gra
            [text] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

            [answers] => Array
                (
                    [0] => Array
                        (
                            [id] => 
                            [text] => Jak poruszać się po grze?
                            [next_dialog] => jak-poruszac-sie-po-grze
                        )

                    [1] => Array
                        (
                            [id] => 
                            [text] => test
                            [next_dialog] => 0
                        )

                )

        )

    [npc] => Array
        (
            [id] => 449
            [name] => Papuga
            [image] => http://seb.soeasy.it/wp-content/uploads/2025/05/papuga_new.png
        )

    [notification] => Array
        (
            [message] => Ukończono zadanie: jak-poruszac-sie-po-grze
            [status] => success
        )

)

[2025-05-17 12:58:26] [DEBUG] ===== ZAKOŃCZENIE PRZETWARZANIA ŻĄDANIA DIALOGU =====
[2025-05-17 12:58:26] [DEBUG] Obsługa żądania danych użytkownika ID: 1
[2025-05-17 12:58:26] [INFO] Pobrano dane plecaka użytkownika:
[2025-05-17 12:58:26] [DATA] Array
(
    [gold] => 100
    [cigarettes] => 31
)

[2025-05-17 12:58:26] [INFO] Pobrano dane witalności użytkownika:
[2025-05-17 12:58:26] [DATA] Array
(
    [life] => 80
    [max_life] => 100
    [energy] => 70
    [max_energy] => 100
)

[2025-05-17 12:58:26] [INFO] Zwracam dane użytkownika:
[2025-05-17 12:58:26] [DATA] Array
(
    [success] => 1
    [message] => Dane użytkownika pobrane pomyślnie
    [data] => Array
        (
            [backpack] => Array
                (
                    [gold] => 100
                    [cigarettes] => 31
                )

            [vitality] => Array
                (
                    [life] => 80
                    [max_life] => 100
                    [energy] => 70
                    [max_energy] => 100
                )

        )

)

[2025-05-17 13:01:56] [DEBUG] Obsługa żądania danych użytkownika ID: 1
[2025-05-17 13:01:56] [INFO] Pobrano dane plecaka użytkownika:
[2025-05-17 13:01:56] [DATA] Array
(
    [gold] => 100
    [cigarettes] => 31
)

[2025-05-17 13:01:56] [INFO] Pobrano dane witalności użytkownika:
[2025-05-17 13:01:56] [DATA] Array
(
    [life] => 80
    [max_life] => 100
    [energy] => 70
    [max_energy] => 100
)

[2025-05-17 13:01:56] [INFO] Zwracam dane użytkownika:
[2025-05-17 13:01:56] [DATA] Array
(
    [success] => 1
    [message] => Dane użytkownika pobrane pomyślnie
    [data] => Array
        (
            [backpack] => Array
                (
                    [gold] => 100
                    [cigarettes] => 31
                )

            [vitality] => Array
                (
                    [life] => 80
                    [max_life] => 100
                    [energy] => 70
                    [max_energy] => 100
                )

        )

)

[2025-05-17 13:04:59] [INFO] get_first_matching_dialog: Found matching dialog
[2025-05-17 13:04:59] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => siemanko
    [question] => <p>Siemanko, chcesz ode mnie bluzę?</p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => tak
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => item
                                    [acfe_flexible_toggle] => 
                                    [item_action] => give
                                    [item] => 124
                                    [quantity] => 1
                                )

                        )

                    [go_to_id] => tak
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => nie
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => relation
                                    [acfe_flexible_toggle] => 
                                    [npc] => 473
                                    [change_relation] => -21
                                    [poznaj] => 
                                )

                        )

                    [go_to_id] => nie
                )

        )

)

[2025-05-17 13:04:59] [INFO] Filtered dialog
[2025-05-17 13:04:59] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => siemanko
    [question] => <p>Siemanko, chcesz ode mnie bluzę?</p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => tak
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => item
                                    [acfe_flexible_toggle] => 
                                    [item_action] => give
                                    [item] => 124
                                    [quantity] => 1
                                )

                        )

                    [go_to_id] => tak
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => nie
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => relation
                                    [acfe_flexible_toggle] => 
                                    [npc] => 473
                                    [change_relation] => -21
                                    [poznaj] => 
                                )

                        )

                    [go_to_id] => nie
                )

        )

)

[2025-05-17 13:05:01] [INFO] WSZYSTKIE DANE ŻĄDANIA:
[2025-05-17 13:05:01] [DATA] Array
(
    [page_data] => Array
        (
        )

    [npc_id] => 473
    [dialog_id] => tak
    [current_url] => http://seb.soeasy.it/tereny/start/krzaki/
    [user_id] => 1
    [answer_id] => answer-0
    [answer_index] => 0
    [current_dialog_id] => siemanko
)

[2025-05-17 13:05:01] [INFO] Wyodrębnione dane lokalizacji:
[2025-05-17 13:05:01] [DATA] Array
(
    [location] => Array
        (
            [area_slug] => start/krzaki
            [area_name] => 
            [area_id] => 0
        )

    [type_page] => 
    [location_value] => 
)

[2025-05-17 13:05:01] [DEBUG] ROZPOCZYNAM PRZETWARZANIE PRZYCISKÓW ODPOWIEDZI
[2025-05-17 13:05:01] [DEBUG] Znaleziono dialog o ID: siemanko
[2025-05-17 13:05:01] [DEBUG] Znaleziono poprzedni dialog ID: siemanko
[2025-05-17 13:05:01] [INFO] Pełne dane dialogu:
[2025-05-17 13:05:01] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => siemanko
    [question] => <p>Siemanko, chcesz ode mnie bluzę?</p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => tak
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => item
                                    [acfe_flexible_toggle] => 
                                    [item_action] => give
                                    [item] => 124
                                    [quantity] => 1
                                )

                        )

                    [go_to_id] => tak
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => nie
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => relation
                                    [acfe_flexible_toggle] => 
                                    [npc] => 473
                                    [change_relation] => -21
                                    [poznaj] => 
                                )

                        )

                    [go_to_id] => nie
                )

        )

)

[2025-05-17 13:05:01] [INFO] Odpowiedzi w dialogu:
[2025-05-17 13:05:01] [DATA] Array
(
    [0] => Array
        (
            [acf_fc_layout] => anwser
            [layout_settings] => Array
                (
                    [visibility_tab] => 
                    [logic_operator] => and
                    [visibility_settings] => 
                )

            [anwser_text] => tak
            [type_anwser] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => item
                            [acfe_flexible_toggle] => 
                            [item_action] => give
                            [item] => 124
                            [quantity] => 1
                        )

                )

            [go_to_id] => tak
        )

    [1] => Array
        (
            [acf_fc_layout] => anwser
            [layout_settings] => Array
                (
                    [visibility_tab] => 
                    [logic_operator] => and
                    [visibility_settings] => 
                )

            [anwser_text] => nie
            [type_anwser] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => relation
                            [acfe_flexible_toggle] => 
                            [npc] => 473
                            [change_relation] => -21
                            [poznaj] => 
                        )

                )

            [go_to_id] => nie
        )

)

[2025-05-17 13:05:01] [DEBUG] Znaleziono odpowiedź o indeksie: 0
[2025-05-17 13:05:01] [INFO] Dane odpowiedzi:
[2025-05-17 13:05:01] [DATA] Array
(
    [acf_fc_layout] => anwser
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [anwser_text] => tak
    [type_anwser] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => item
                    [acfe_flexible_toggle] => 
                    [item_action] => give
                    [item] => 124
                    [quantity] => 1
                )

        )

    [go_to_id] => tak
)

[2025-05-17 13:05:01] [INFO] Odpowiedź zawiera akcje do wykonania:
[2025-05-17 13:05:01] [DATA] Array
(
    [0] => Array
        (
            [acf_fc_layout] => item
            [acfe_flexible_toggle] => 
            [item_action] => give
            [item] => 124
            [quantity] => 1
        )

)

[2025-05-17 13:05:01] [INFO] Weryfikacja akcji:
[2025-05-17 13:05:01] [DATA] Array
(
    [acf_fc_layout] => item
    [acfe_flexible_toggle] => 
    [item_action] => give
    [item] => 124
    [quantity] => 1
)

[2025-05-17 13:05:01] [DEBUG] WSZYSTKIE AKCJE SĄ WYKONALNE, PRZYSTĘPUJĘ DO ICH REALIZACJI
[2025-05-17 13:05:01] [INFO] Przetwarzanie akcji:
[2025-05-17 13:05:01] [DATA] Array
(
    [acf_fc_layout] => item
    [acfe_flexible_toggle] => 
    [item_action] => give
    [item] => 124
    [quantity] => 1
)

[2025-05-17 13:05:01] [DEBUG] Typ akcji: item
[2025-05-17 13:05:01] [DEBUG] Wykonuję akcję przedmiotu: give, ID: 124, ilość: 1
[2025-05-17 13:05:01] [INFO] Aktualny stan ekwipunku użytkownika:
[2025-05-17 13:05:01] [DATA] Array
(
    [0] => Array
        (
            [item] => 121
            [quantity] => 5
        )

    [1] => Array
        (
            [item] => 122
            [quantity] => 1
        )

    [2] => Array
        (
            [item] => 212
            [quantity] => 2
        )

    [3] => Array
        (
            [item] => 124
            [quantity] => 1
        )

    [4] => Array
        (
            [item] => 125
            [quantity] => 1
        )

    [5] => Array
        (
            [item] => 118
            [quantity] => 1
        )

)

[2025-05-17 13:05:01] [DEBUG] Dodano 1 x Bluza dresowa do ekwipunku. Nowy stan: 2
[2025-05-17 13:05:01] [INFO] DialogManager: Rozpoczynam filtrowanie odpowiedzi.
[2025-05-17 13:05:01] [DATA] Array
(
    [count_answers_before] => 7
    [context] => Array
        (
            [type_page] => 
            [location] => 
            [user_id] => 1
            [npc_id] => 473
        )

)

[2025-05-17 13:05:01] [INFO] DialogManager: Sprawdzanie odpowiedzi: acf_fc_layout
[2025-05-17 13:05:01] [DATA] Array
(
    [answer_data] => question
)

[2025-05-17 13:05:01] [DEBUG] DialogManager: Odpowiedź (acf_fc_layout) nie ma zdefiniowanych warunków widoczności.
[2025-05-17 13:05:01] [INFO] DialogManager: Sprawdzanie odpowiedzi: layout_settings
[2025-05-17 13:05:01] [DATA] Array
(
    [answer_data] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

)

[2025-05-17 13:05:01] [DEBUG] DialogManager: Odpowiedź (layout_settings) nie ma zdefiniowanych warunków widoczności.
[2025-05-17 13:05:01] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_toggle
[2025-05-17 13:05:01] [DATA] Array
(
    [answer_data] => 
)

[2025-05-17 13:05:01] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_toggle) nie ma zdefiniowanych warunków widoczności.
[2025-05-17 13:05:01] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_layout_title
[2025-05-17 13:05:01] [DATA] Array
(
    [answer_data] => Dialog
)

[2025-05-17 13:05:01] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_layout_title) nie ma zdefiniowanych warunków widoczności.
[2025-05-17 13:05:01] [INFO] DialogManager: Sprawdzanie odpowiedzi: id_pola
[2025-05-17 13:05:01] [DATA] Array
(
    [answer_data] => tak
)

[2025-05-17 13:05:01] [DEBUG] DialogManager: Odpowiedź (id_pola) nie ma zdefiniowanych warunków widoczności.
[2025-05-17 13:05:01] [INFO] DialogManager: Sprawdzanie odpowiedzi: question
[2025-05-17 13:05:01] [DATA] Array
(
    [answer_data] => <p>Trzymaj bluze mordeczko</p>

)

[2025-05-17 13:05:01] [DEBUG] DialogManager: Odpowiedź (question) nie ma zdefiniowanych warunków widoczności.
[2025-05-17 13:05:01] [INFO] DialogManager: Sprawdzanie odpowiedzi: anwsers
[2025-05-17 13:05:01] [DATA] Array
(
    [answer_data] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => dzieki
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-17 13:05:01] [DEBUG] DialogManager: Odpowiedź (anwsers) nie ma zdefiniowanych warunków widoczności.
[2025-05-17 13:05:01] [INFO] DialogManager: Zakończono filtrowanie odpowiedzi.
[2025-05-17 13:05:01] [DATA] Array
(
    [count_answers_after] => 7
)

[2025-05-17 13:05:01] [INFO] Dialog po filtrowaniu:
[2025-05-17 13:05:01] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => tak
    [question] => <p>Trzymaj bluze mordeczko</p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => dzieki
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-17 13:05:01] [INFO] Dodano powiadomienie do odpowiedzi:
[2025-05-17 13:05:01] [DATA] Array
(
    [message] => Otrzymano 1 x Bluza dresowa
    [status] => success
)

[2025-05-17 13:05:01] [INFO] Dane odpowiedzi:
[2025-05-17 13:05:01] [DATA] Array
(
    [success] => 1
    [dialog] => Array
        (
            [id] => tak
            [text] => <p>Trzymaj bluze mordeczko</p>

            [answers] => Array
                (
                    [0] => Array
                        (
                            [id] => 
                            [text] => dzieki
                            [next_dialog] => 0
                        )

                )

        )

    [npc] => Array
        (
            [id] => 473
            [name] => Młody
            [image] => http://seb.soeasy.it/wp-content/uploads/2025/04/New-Project-4.png
        )

    [notification] => Array
        (
            [message] => Otrzymano 1 x Bluza dresowa
            [status] => success
        )

)

[2025-05-17 13:05:01] [DEBUG] ===== ZAKOŃCZENIE PRZETWARZANIA ŻĄDANIA DIALOGU =====
[2025-05-17 13:05:01] [DEBUG] Obsługa żądania danych użytkownika ID: 1
[2025-05-17 13:05:01] [INFO] Pobrano dane plecaka użytkownika:
[2025-05-17 13:05:01] [DATA] Array
(
    [gold] => 100
    [cigarettes] => 31
)

[2025-05-17 13:05:01] [INFO] Pobrano dane witalności użytkownika:
[2025-05-17 13:05:01] [DATA] Array
(
    [life] => 80
    [max_life] => 100
    [energy] => 70
    [max_energy] => 100
)

[2025-05-17 13:05:01] [INFO] Zwracam dane użytkownika:
[2025-05-17 13:05:01] [DATA] Array
(
    [success] => 1
    [message] => Dane użytkownika pobrane pomyślnie
    [data] => Array
        (
            [backpack] => Array
                (
                    [gold] => 100
                    [cigarettes] => 31
                )

            [vitality] => Array
                (
                    [life] => 80
                    [max_life] => 100
                    [energy] => 70
                    [max_energy] => 100
                )

        )

)

[2025-05-17 13:05:03] [DEBUG] Obsługa żądania danych użytkownika ID: 1
[2025-05-17 13:05:03] [INFO] Pobrano dane plecaka użytkownika:
[2025-05-17 13:05:03] [DATA] Array
(
    [gold] => 100
    [cigarettes] => 31
)

[2025-05-17 13:05:03] [INFO] Pobrano dane witalności użytkownika:
[2025-05-17 13:05:03] [DATA] Array
(
    [life] => 80
    [max_life] => 100
    [energy] => 70
    [max_energy] => 100
)

[2025-05-17 13:05:03] [INFO] Zwracam dane użytkownika:
[2025-05-17 13:05:03] [DATA] Array
(
    [success] => 1
    [message] => Dane użytkownika pobrane pomyślnie
    [data] => Array
        (
            [backpack] => Array
                (
                    [gold] => 100
                    [cigarettes] => 31
                )

            [vitality] => Array
                (
                    [life] => 80
                    [max_life] => 100
                    [energy] => 70
                    [max_energy] => 100
                )

        )

)

[2025-05-17 13:05:04] [INFO] get_first_matching_dialog: Found matching dialog
[2025-05-17 13:05:04] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => siemanko
    [question] => <p>Siemanko, chcesz ode mnie bluzę?</p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => tak
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => item
                                    [acfe_flexible_toggle] => 
                                    [item_action] => give
                                    [item] => 124
                                    [quantity] => 1
                                )

                        )

                    [go_to_id] => tak
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => nie
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => relation
                                    [acfe_flexible_toggle] => 
                                    [npc] => 473
                                    [change_relation] => -21
                                    [poznaj] => 
                                )

                        )

                    [go_to_id] => nie
                )

        )

)

[2025-05-17 13:05:04] [INFO] Filtered dialog
[2025-05-17 13:05:04] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => siemanko
    [question] => <p>Siemanko, chcesz ode mnie bluzę?</p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => tak
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => item
                                    [acfe_flexible_toggle] => 
                                    [item_action] => give
                                    [item] => 124
                                    [quantity] => 1
                                )

                        )

                    [go_to_id] => tak
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => nie
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => relation
                                    [acfe_flexible_toggle] => 
                                    [npc] => 473
                                    [change_relation] => -21
                                    [poznaj] => 
                                )

                        )

                    [go_to_id] => nie
                )

        )

)

[2025-05-17 13:05:05] [INFO] WSZYSTKIE DANE ŻĄDANIA:
[2025-05-17 13:05:05] [DATA] Array
(
    [page_data] => Array
        (
        )

    [npc_id] => 473
    [dialog_id] => nie
    [current_url] => http://seb.soeasy.it/tereny/start/krzaki/
    [user_id] => 1
    [answer_id] => answer-1
    [answer_index] => 1
    [current_dialog_id] => siemanko
)

[2025-05-17 13:05:05] [INFO] Wyodrębnione dane lokalizacji:
[2025-05-17 13:05:05] [DATA] Array
(
    [location] => Array
        (
            [area_slug] => start/krzaki
            [area_name] => 
            [area_id] => 0
        )

    [type_page] => 
    [location_value] => 
)

[2025-05-17 13:05:05] [DEBUG] ROZPOCZYNAM PRZETWARZANIE PRZYCISKÓW ODPOWIEDZI
[2025-05-17 13:05:05] [DEBUG] Znaleziono dialog o ID: siemanko
[2025-05-17 13:05:05] [DEBUG] Znaleziono poprzedni dialog ID: siemanko
[2025-05-17 13:05:05] [INFO] Pełne dane dialogu:
[2025-05-17 13:05:05] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => siemanko
    [question] => <p>Siemanko, chcesz ode mnie bluzę?</p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => tak
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => item
                                    [acfe_flexible_toggle] => 
                                    [item_action] => give
                                    [item] => 124
                                    [quantity] => 1
                                )

                        )

                    [go_to_id] => tak
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => nie
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => relation
                                    [acfe_flexible_toggle] => 
                                    [npc] => 473
                                    [change_relation] => -21
                                    [poznaj] => 
                                )

                        )

                    [go_to_id] => nie
                )

        )

)

[2025-05-17 13:05:05] [INFO] Odpowiedzi w dialogu:
[2025-05-17 13:05:05] [DATA] Array
(
    [0] => Array
        (
            [acf_fc_layout] => anwser
            [layout_settings] => Array
                (
                    [visibility_tab] => 
                    [logic_operator] => and
                    [visibility_settings] => 
                )

            [anwser_text] => tak
            [type_anwser] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => item
                            [acfe_flexible_toggle] => 
                            [item_action] => give
                            [item] => 124
                            [quantity] => 1
                        )

                )

            [go_to_id] => tak
        )

    [1] => Array
        (
            [acf_fc_layout] => anwser
            [layout_settings] => Array
                (
                    [visibility_tab] => 
                    [logic_operator] => and
                    [visibility_settings] => 
                )

            [anwser_text] => nie
            [type_anwser] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => relation
                            [acfe_flexible_toggle] => 
                            [npc] => 473
                            [change_relation] => -21
                            [poznaj] => 
                        )

                )

            [go_to_id] => nie
        )

)

[2025-05-17 13:05:05] [DEBUG] Znaleziono odpowiedź o indeksie: 1
[2025-05-17 13:05:05] [INFO] Dane odpowiedzi:
[2025-05-17 13:05:05] [DATA] Array
(
    [acf_fc_layout] => anwser
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [anwser_text] => nie
    [type_anwser] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => relation
                    [acfe_flexible_toggle] => 
                    [npc] => 473
                    [change_relation] => -21
                    [poznaj] => 
                )

        )

    [go_to_id] => nie
)

[2025-05-17 13:05:05] [INFO] Odpowiedź zawiera akcje do wykonania:
[2025-05-17 13:05:05] [DATA] Array
(
    [0] => Array
        (
            [acf_fc_layout] => relation
            [acfe_flexible_toggle] => 
            [npc] => 473
            [change_relation] => -21
            [poznaj] => 
        )

)

[2025-05-17 13:05:05] [INFO] Weryfikacja akcji:
[2025-05-17 13:05:05] [DATA] Array
(
    [acf_fc_layout] => relation
    [acfe_flexible_toggle] => 
    [npc] => 473
    [change_relation] => -21
    [poznaj] => 
)

[2025-05-17 13:05:05] [DEBUG] WSZYSTKIE AKCJE SĄ WYKONALNE, PRZYSTĘPUJĘ DO ICH REALIZACJI
[2025-05-17 13:05:05] [INFO] Przetwarzanie akcji:
[2025-05-17 13:05:05] [DATA] Array
(
    [acf_fc_layout] => relation
    [acfe_flexible_toggle] => 
    [npc] => 473
    [change_relation] => -21
    [poznaj] => 
)

[2025-05-17 13:05:05] [DEBUG] Typ akcji: relation
[2025-05-17 13:05:05] [DEBUG] Wykonuję akcję relacji: npc_id=473, wartość=-21, poznaj=nie
[2025-05-17 13:05:05] [DEBUG] Obecna relacja z NPC Młody dla użytkownika 1: 0
[2025-05-17 13:05:05] [INFO] Aktualne dane relacji przed aktualizacją:
[2025-05-17 13:05:05] [DATA] Array
(
    [user_id] => 1
    [npc_id] => 473
    [npc_name] => Młody
    [current_relation] => 0
    [value_to_add] => -21
    [new_relation] => -21
)

[2025-05-17 13:05:05] [DEBUG] Nazwa pola do update: npc-relation-473
[2025-05-17 13:05:05] [DEBUG] Rezultat update_field dla relacji z NPC: SUKCES
[2025-05-17 13:05:05] [DEBUG] Wartość relacji z NPC Młody po aktualizacji: -21
[2025-05-17 13:05:05] [INFO] Utworzono powiadomienie dla zmiany relacji:
[2025-05-17 13:05:05] [DATA] Array
(
    [message] => Twoja relacja z Młody uległa pogorszeniu
    [status] => bad
)

[2025-05-17 13:05:05] [DEBUG] Wykonano aktualizację relacji z NPC Młody. Nowa wartość: -21
[2025-05-17 13:05:05] [INFO] DialogManager: Rozpoczynam filtrowanie odpowiedzi.
[2025-05-17 13:05:05] [DATA] Array
(
    [count_answers_before] => 7
    [context] => Array
        (
            [type_page] => 
            [location] => 
            [user_id] => 1
            [npc_id] => 473
        )

)

[2025-05-17 13:05:05] [INFO] DialogManager: Sprawdzanie odpowiedzi: acf_fc_layout
[2025-05-17 13:05:05] [DATA] Array
(
    [answer_data] => question
)

[2025-05-17 13:05:05] [DEBUG] DialogManager: Odpowiedź (acf_fc_layout) nie ma zdefiniowanych warunków widoczności.
[2025-05-17 13:05:05] [INFO] DialogManager: Sprawdzanie odpowiedzi: layout_settings
[2025-05-17 13:05:05] [DATA] Array
(
    [answer_data] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

)

[2025-05-17 13:05:05] [DEBUG] DialogManager: Odpowiedź (layout_settings) nie ma zdefiniowanych warunków widoczności.
[2025-05-17 13:05:05] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_toggle
[2025-05-17 13:05:05] [DATA] Array
(
    [answer_data] => 
)

[2025-05-17 13:05:05] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_toggle) nie ma zdefiniowanych warunków widoczności.
[2025-05-17 13:05:05] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_layout_title
[2025-05-17 13:05:05] [DATA] Array
(
    [answer_data] => Dialog
)

[2025-05-17 13:05:05] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_layout_title) nie ma zdefiniowanych warunków widoczności.
[2025-05-17 13:05:05] [INFO] DialogManager: Sprawdzanie odpowiedzi: id_pola
[2025-05-17 13:05:05] [DATA] Array
(
    [answer_data] => nie
)

[2025-05-17 13:05:05] [DEBUG] DialogManager: Odpowiedź (id_pola) nie ma zdefiniowanych warunków widoczności.
[2025-05-17 13:05:05] [INFO] DialogManager: Sprawdzanie odpowiedzi: question
[2025-05-17 13:05:05] [DATA] Array
(
    [answer_data] => <p>To na chuj pytasz</p>

)

[2025-05-17 13:05:05] [DEBUG] DialogManager: Odpowiedź (question) nie ma zdefiniowanych warunków widoczności.
[2025-05-17 13:05:05] [INFO] DialogManager: Sprawdzanie odpowiedzi: anwsers
[2025-05-17 13:05:05] [DATA] Array
(
    [answer_data] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => ok, elo
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-17 13:05:05] [DEBUG] DialogManager: Odpowiedź (anwsers) nie ma zdefiniowanych warunków widoczności.
[2025-05-17 13:05:05] [INFO] DialogManager: Zakończono filtrowanie odpowiedzi.
[2025-05-17 13:05:05] [DATA] Array
(
    [count_answers_after] => 7
)

[2025-05-17 13:05:05] [INFO] Dialog po filtrowaniu:
[2025-05-17 13:05:05] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => nie
    [question] => <p>To na chuj pytasz</p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => ok, elo
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-17 13:05:05] [INFO] Dodano powiadomienie do odpowiedzi:
[2025-05-17 13:05:05] [DATA] Array
(
    [message] => Twoja relacja z Młody uległa pogorszeniu
    [status] => bad
)

[2025-05-17 13:05:05] [INFO] Dane odpowiedzi:
[2025-05-17 13:05:05] [DATA] Array
(
    [success] => 1
    [dialog] => Array
        (
            [id] => nie
            [text] => <p>To na chuj pytasz</p>

            [answers] => Array
                (
                    [0] => Array
                        (
                            [id] => 
                            [text] => ok, elo
                            [next_dialog] => 0
                        )

                )

        )

    [npc] => Array
        (
            [id] => 473
            [name] => Młody
            [image] => http://seb.soeasy.it/wp-content/uploads/2025/04/New-Project-4.png
        )

    [notification] => Array
        (
            [message] => Twoja relacja z Młody uległa pogorszeniu
            [status] => bad
        )

)

[2025-05-17 13:05:05] [DEBUG] ===== ZAKOŃCZENIE PRZETWARZANIA ŻĄDANIA DIALOGU =====
[2025-05-17 13:05:05] [DEBUG] Obsługa żądania danych użytkownika ID: 1
[2025-05-17 13:05:05] [INFO] Pobrano dane plecaka użytkownika:
[2025-05-17 13:05:05] [DATA] Array
(
    [gold] => 100
    [cigarettes] => 31
)

[2025-05-17 13:05:05] [INFO] Pobrano dane witalności użytkownika:
[2025-05-17 13:05:05] [DATA] Array
(
    [life] => 80
    [max_life] => 100
    [energy] => 70
    [max_energy] => 100
)

[2025-05-17 13:05:05] [INFO] Zwracam dane użytkownika:
[2025-05-17 13:05:05] [DATA] Array
(
    [success] => 1
    [message] => Dane użytkownika pobrane pomyślnie
    [data] => Array
        (
            [backpack] => Array
                (
                    [gold] => 100
                    [cigarettes] => 31
                )

            [vitality] => Array
                (
                    [life] => 80
                    [max_life] => 100
                    [energy] => 70
                    [max_energy] => 100
                )

        )

)

[2025-05-17 13:05:08] [DEBUG] Obsługa żądania danych użytkownika ID: 1
[2025-05-17 13:05:08] [INFO] Pobrano dane plecaka użytkownika:
[2025-05-17 13:05:08] [DATA] Array
(
    [gold] => 100
    [cigarettes] => 31
)

[2025-05-17 13:05:08] [INFO] Pobrano dane witalności użytkownika:
[2025-05-17 13:05:08] [DATA] Array
(
    [life] => 80
    [max_life] => 100
    [energy] => 70
    [max_energy] => 100
)

[2025-05-17 13:05:08] [INFO] Zwracam dane użytkownika:
[2025-05-17 13:05:08] [DATA] Array
(
    [success] => 1
    [message] => Dane użytkownika pobrane pomyślnie
    [data] => Array
        (
            [backpack] => Array
                (
                    [gold] => 100
                    [cigarettes] => 31
                )

            [vitality] => Array
                (
                    [life] => 80
                    [max_life] => 100
                    [energy] => 70
                    [max_energy] => 100
                )

        )

)

[2025-05-17 19:28:15] [INFO] get_first_matching_dialog: Found matching dialog
[2025-05-17 19:28:15] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => siemanko
    [question] => <p>Siemanko, chcesz ode mnie bluzę?</p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => tak
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => item
                                    [acfe_flexible_toggle] => 
                                    [item_action] => give
                                    [item] => 124
                                    [quantity] => 1
                                )

                        )

                    [go_to_id] => tak
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => nie
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => relation
                                    [acfe_flexible_toggle] => 
                                    [npc] => 473
                                    [change_relation] => -21
                                    [poznaj] => 
                                )

                        )

                    [go_to_id] => nie
                )

        )

)

[2025-05-17 19:28:15] [INFO] Filtered dialog
[2025-05-17 19:28:15] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => siemanko
    [question] => <p>Siemanko, chcesz ode mnie bluzę?</p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => tak
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => item
                                    [acfe_flexible_toggle] => 
                                    [item_action] => give
                                    [item] => 124
                                    [quantity] => 1
                                )

                        )

                    [go_to_id] => tak
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => nie
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => relation
                                    [acfe_flexible_toggle] => 
                                    [npc] => 473
                                    [change_relation] => -21
                                    [poznaj] => 
                                )

                        )

                    [go_to_id] => nie
                )

        )

)

[2025-05-17 19:28:17] [INFO] WSZYSTKIE DANE ŻĄDANIA:
[2025-05-17 19:28:17] [DATA] Array
(
    [page_data] => Array
        (
        )

    [npc_id] => 473
    [dialog_id] => nie
    [current_url] => http://seb.soeasy.it/tereny/start/krzaki/
    [user_id] => 1
    [answer_id] => answer-1
    [answer_index] => 1
    [current_dialog_id] => siemanko
)

[2025-05-17 19:28:17] [INFO] Wyodrębnione dane lokalizacji:
[2025-05-17 19:28:17] [DATA] Array
(
    [location] => Array
        (
            [area_slug] => start/krzaki
            [area_name] => 
            [area_id] => 0
        )

    [type_page] => 
    [location_value] => 
)

[2025-05-17 19:28:17] [DEBUG] ROZPOCZYNAM PRZETWARZANIE PRZYCISKÓW ODPOWIEDZI
[2025-05-17 19:28:17] [DEBUG] Znaleziono dialog o ID: siemanko
[2025-05-17 19:28:17] [DEBUG] Znaleziono poprzedni dialog ID: siemanko
[2025-05-17 19:28:17] [INFO] Pełne dane dialogu:
[2025-05-17 19:28:17] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => siemanko
    [question] => <p>Siemanko, chcesz ode mnie bluzę?</p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => tak
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => item
                                    [acfe_flexible_toggle] => 
                                    [item_action] => give
                                    [item] => 124
                                    [quantity] => 1
                                )

                        )

                    [go_to_id] => tak
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => nie
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => relation
                                    [acfe_flexible_toggle] => 
                                    [npc] => 473
                                    [change_relation] => -21
                                    [poznaj] => 
                                )

                        )

                    [go_to_id] => nie
                )

        )

)

[2025-05-17 19:28:17] [INFO] Odpowiedzi w dialogu:
[2025-05-17 19:28:17] [DATA] Array
(
    [0] => Array
        (
            [acf_fc_layout] => anwser
            [layout_settings] => Array
                (
                    [visibility_tab] => 
                    [logic_operator] => and
                    [visibility_settings] => 
                )

            [anwser_text] => tak
            [type_anwser] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => item
                            [acfe_flexible_toggle] => 
                            [item_action] => give
                            [item] => 124
                            [quantity] => 1
                        )

                )

            [go_to_id] => tak
        )

    [1] => Array
        (
            [acf_fc_layout] => anwser
            [layout_settings] => Array
                (
                    [visibility_tab] => 
                    [logic_operator] => and
                    [visibility_settings] => 
                )

            [anwser_text] => nie
            [type_anwser] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => relation
                            [acfe_flexible_toggle] => 
                            [npc] => 473
                            [change_relation] => -21
                            [poznaj] => 
                        )

                )

            [go_to_id] => nie
        )

)

[2025-05-17 19:28:17] [DEBUG] Znaleziono odpowiedź o indeksie: 1
[2025-05-17 19:28:17] [INFO] Dane odpowiedzi:
[2025-05-17 19:28:17] [DATA] Array
(
    [acf_fc_layout] => anwser
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [anwser_text] => nie
    [type_anwser] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => relation
                    [acfe_flexible_toggle] => 
                    [npc] => 473
                    [change_relation] => -21
                    [poznaj] => 
                )

        )

    [go_to_id] => nie
)

[2025-05-17 19:28:17] [INFO] Odpowiedź zawiera akcje do wykonania:
[2025-05-17 19:28:17] [DATA] Array
(
    [0] => Array
        (
            [acf_fc_layout] => relation
            [acfe_flexible_toggle] => 
            [npc] => 473
            [change_relation] => -21
            [poznaj] => 
        )

)

[2025-05-17 19:28:17] [INFO] Weryfikacja akcji:
[2025-05-17 19:28:17] [DATA] Array
(
    [acf_fc_layout] => relation
    [acfe_flexible_toggle] => 
    [npc] => 473
    [change_relation] => -21
    [poznaj] => 
)

[2025-05-17 19:28:17] [DEBUG] WSZYSTKIE AKCJE SĄ WYKONALNE, PRZYSTĘPUJĘ DO ICH REALIZACJI
[2025-05-17 19:28:17] [INFO] Przetwarzanie akcji:
[2025-05-17 19:28:17] [DATA] Array
(
    [acf_fc_layout] => relation
    [acfe_flexible_toggle] => 
    [npc] => 473
    [change_relation] => -21
    [poznaj] => 
)

[2025-05-17 19:28:17] [DEBUG] Typ akcji: relation
[2025-05-17 19:28:17] [DEBUG] Wykonuję akcję relacji: npc_id=473, wartość=-21, poznaj=nie
[2025-05-17 19:28:17] [DEBUG] Obecna relacja z NPC Junior dla użytkownika 1: -21
[2025-05-17 19:28:17] [INFO] Aktualne dane relacji przed aktualizacją:
[2025-05-17 19:28:17] [DATA] Array
(
    [user_id] => 1
    [npc_id] => 473
    [npc_name] => Junior
    [current_relation] => -21
    [value_to_add] => -21
    [new_relation] => -42
)

[2025-05-17 19:28:17] [DEBUG] Nazwa pola do update: npc-relation-473
[2025-05-17 19:28:17] [DEBUG] Rezultat update_field dla relacji z NPC: SUKCES
[2025-05-17 19:28:17] [DEBUG] Wartość relacji z NPC Junior po aktualizacji: -42
[2025-05-17 19:28:17] [INFO] Utworzono powiadomienie dla zmiany relacji:
[2025-05-17 19:28:17] [DATA] Array
(
    [message] => Twoja relacja z Junior uległa pogorszeniu
    [status] => bad
)

[2025-05-17 19:28:17] [DEBUG] Wykonano aktualizację relacji z NPC Junior. Nowa wartość: -42
[2025-05-17 19:28:17] [INFO] DialogManager: Rozpoczynam filtrowanie odpowiedzi.
[2025-05-17 19:28:17] [DATA] Array
(
    [count_answers_before] => 7
    [context] => Array
        (
            [type_page] => 
            [location] => 
            [user_id] => 1
            [npc_id] => 473
        )

)

[2025-05-17 19:28:17] [INFO] DialogManager: Sprawdzanie odpowiedzi: acf_fc_layout
[2025-05-17 19:28:17] [DATA] Array
(
    [answer_data] => question
)

[2025-05-17 19:28:17] [DEBUG] DialogManager: Odpowiedź (acf_fc_layout) nie ma zdefiniowanych warunków widoczności.
[2025-05-17 19:28:17] [INFO] DialogManager: Sprawdzanie odpowiedzi: layout_settings
[2025-05-17 19:28:17] [DATA] Array
(
    [answer_data] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

)

[2025-05-17 19:28:17] [DEBUG] DialogManager: Odpowiedź (layout_settings) nie ma zdefiniowanych warunków widoczności.
[2025-05-17 19:28:17] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_toggle
[2025-05-17 19:28:17] [DATA] Array
(
    [answer_data] => 
)

[2025-05-17 19:28:17] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_toggle) nie ma zdefiniowanych warunków widoczności.
[2025-05-17 19:28:17] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_layout_title
[2025-05-17 19:28:17] [DATA] Array
(
    [answer_data] => Dialog
)

[2025-05-17 19:28:17] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_layout_title) nie ma zdefiniowanych warunków widoczności.
[2025-05-17 19:28:17] [INFO] DialogManager: Sprawdzanie odpowiedzi: id_pola
[2025-05-17 19:28:17] [DATA] Array
(
    [answer_data] => nie
)

[2025-05-17 19:28:17] [DEBUG] DialogManager: Odpowiedź (id_pola) nie ma zdefiniowanych warunków widoczności.
[2025-05-17 19:28:17] [INFO] DialogManager: Sprawdzanie odpowiedzi: question
[2025-05-17 19:28:17] [DATA] Array
(
    [answer_data] => <p>To na chuj pytasz</p>

)

[2025-05-17 19:28:17] [DEBUG] DialogManager: Odpowiedź (question) nie ma zdefiniowanych warunków widoczności.
[2025-05-17 19:28:17] [INFO] DialogManager: Sprawdzanie odpowiedzi: anwsers
[2025-05-17 19:28:17] [DATA] Array
(
    [answer_data] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => ok, elo
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-17 19:28:17] [DEBUG] DialogManager: Odpowiedź (anwsers) nie ma zdefiniowanych warunków widoczności.
[2025-05-17 19:28:17] [INFO] DialogManager: Zakończono filtrowanie odpowiedzi.
[2025-05-17 19:28:17] [DATA] Array
(
    [count_answers_after] => 7
)

[2025-05-17 19:28:17] [INFO] Dialog po filtrowaniu:
[2025-05-17 19:28:17] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => nie
    [question] => <p>To na chuj pytasz</p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => ok, elo
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-17 19:28:17] [INFO] Dodano powiadomienie do odpowiedzi:
[2025-05-17 19:28:17] [DATA] Array
(
    [message] => Twoja relacja z Junior uległa pogorszeniu
    [status] => bad
)

[2025-05-17 19:28:17] [INFO] Dane odpowiedzi:
[2025-05-17 19:28:17] [DATA] Array
(
    [success] => 1
    [dialog] => Array
        (
            [id] => nie
            [text] => <p>To na chuj pytasz</p>

            [answers] => Array
                (
                    [0] => Array
                        (
                            [id] => 
                            [text] => ok, elo
                            [next_dialog] => 0
                        )

                )

        )

    [npc] => Array
        (
            [id] => 473
            [name] => Junior
            [image] => http://seb.soeasy.it/wp-content/uploads/2025/04/New-Project-4.png
        )

    [notification] => Array
        (
            [message] => Twoja relacja z Junior uległa pogorszeniu
            [status] => bad
        )

)

[2025-05-17 19:28:17] [DEBUG] ===== ZAKOŃCZENIE PRZETWARZANIA ŻĄDANIA DIALOGU =====
[2025-05-17 19:28:17] [DEBUG] Obsługa żądania danych użytkownika ID: 1
[2025-05-17 19:28:17] [INFO] Pobrano dane plecaka użytkownika:
[2025-05-17 19:28:17] [DATA] Array
(
    [gold] => 100
    [cigarettes] => 31
)

[2025-05-17 19:28:17] [INFO] Pobrano dane witalności użytkownika:
[2025-05-17 19:28:17] [DATA] Array
(
    [life] => 80
    [max_life] => 100
    [energy] => 70
    [max_energy] => 100
)

[2025-05-17 19:28:17] [INFO] Zwracam dane użytkownika:
[2025-05-17 19:28:17] [DATA] Array
(
    [success] => 1
    [message] => Dane użytkownika pobrane pomyślnie
    [data] => Array
        (
            [backpack] => Array
                (
                    [gold] => 100
                    [cigarettes] => 31
                )

            [vitality] => Array
                (
                    [life] => 80
                    [max_life] => 100
                    [energy] => 70
                    [max_energy] => 100
                )

        )

)

[2025-05-17 19:28:19] [DEBUG] Obsługa żądania danych użytkownika ID: 1
[2025-05-17 19:28:19] [INFO] Pobrano dane plecaka użytkownika:
[2025-05-17 19:28:19] [DATA] Array
(
    [gold] => 100
    [cigarettes] => 31
)

[2025-05-17 19:28:19] [INFO] Pobrano dane witalności użytkownika:
[2025-05-17 19:28:19] [DATA] Array
(
    [life] => 80
    [max_life] => 100
    [energy] => 70
    [max_energy] => 100
)

[2025-05-17 19:28:19] [INFO] Zwracam dane użytkownika:
[2025-05-17 19:28:19] [DATA] Array
(
    [success] => 1
    [message] => Dane użytkownika pobrane pomyślnie
    [data] => Array
        (
            [backpack] => Array
                (
                    [gold] => 100
                    [cigarettes] => 31
                )

            [vitality] => Array
                (
                    [life] => 80
                    [max_life] => 100
                    [energy] => 70
                    [max_energy] => 100
                )

        )

)

[2025-05-18 17:45:49] [INFO] get_first_matching_dialog: Found matching dialog
[2025-05-18 17:45:49] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => condition_task
                            [condition] => is
                            [mission_id] => 339
                            [task_id] => jak-poruszac-sie-po-grze_0
                            [status] => completed
                        )

                )

        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => przy-wiezieniu
    [question] => <p>– No to jesteśmy &#8211; z celi wyszedłeś, <strong>ale do świata Sebastianowa dopiero wchodzisz.</strong><br />
Może Ci się wydaje, że jesteś kimś, że Twoja historia się liczy, że coś ci się należy &#8211; bo miałeś ciężko. To posłuchaj uważnie, zanim się zgubisz między trzepakiem a meliną: <strong>Jesteś jednym z wielu</strong>, co myślą, że jak przetrwali jedną noc na dołku, to teraz świat ich powita z otwartymi ramionami.</p>
<p>Jestem Papuga. To ja otworzyłem ci drzwi. Nie z litości, nie z sympatii. Chcę po prostu zobaczyć, co zrobisz, kiedy w końcu przestanie być łatwo.</p>
<p>Bo w Sebastianowie nic nie jest za darmo. Respekt buduje się decyzjami. A każda z nich zostawia ślad – na tobie albo na kimś innym. <strong>Masz pytania? Pytaj – zanim przestanie to być możliwe.</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => Jak się w to w ogóle gra?
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => relation
                                    [acfe_flexible_toggle] => 
                                    [npc] => 449
                                    [change_relation] => 1
                                    [poznaj] => 1
                                )

                        )

                    [go_to_id] => jak-sie-w-to-gra
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => daj 10 golda
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => transaction
                                    [acfe_flexible_toggle] => 
                                    [backpack] => gold
                                    [value] => 10
                                )

                        )

                    [go_to_id] => przy-wiezieniu
                )

        )

)

[2025-05-18 17:45:49] [INFO] Filtered dialog
[2025-05-18 17:45:49] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => condition_task
                            [condition] => is
                            [mission_id] => 339
                            [task_id] => jak-poruszac-sie-po-grze_0
                            [status] => completed
                        )

                )

        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => przy-wiezieniu
    [question] => <p>– No to jesteśmy &#8211; z celi wyszedłeś, <strong>ale do świata Sebastianowa dopiero wchodzisz.</strong><br />
Może Ci się wydaje, że jesteś kimś, że Twoja historia się liczy, że coś ci się należy &#8211; bo miałeś ciężko. To posłuchaj uważnie, zanim się zgubisz między trzepakiem a meliną: <strong>Jesteś jednym z wielu</strong>, co myślą, że jak przetrwali jedną noc na dołku, to teraz świat ich powita z otwartymi ramionami.</p>
<p>Jestem Papuga. To ja otworzyłem ci drzwi. Nie z litości, nie z sympatii. Chcę po prostu zobaczyć, co zrobisz, kiedy w końcu przestanie być łatwo.</p>
<p>Bo w Sebastianowie nic nie jest za darmo. Respekt buduje się decyzjami. A każda z nich zostawia ślad – na tobie albo na kimś innym. <strong>Masz pytania? Pytaj – zanim przestanie to być możliwe.</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => Jak się w to w ogóle gra?
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => relation
                                    [acfe_flexible_toggle] => 
                                    [npc] => 449
                                    [change_relation] => 1
                                    [poznaj] => 1
                                )

                        )

                    [go_to_id] => jak-sie-w-to-gra
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => daj 10 golda
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => transaction
                                    [acfe_flexible_toggle] => 
                                    [backpack] => gold
                                    [value] => 10
                                )

                        )

                    [go_to_id] => przy-wiezieniu
                )

        )

)

[2025-05-18 17:51:36] [INFO] get_first_matching_dialog: Found matching dialog
[2025-05-18 17:51:36] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => condition_task
                            [condition] => is
                            [mission_id] => 339
                            [task_id] => jak-poruszac-sie-po-grze_0
                            [status] => completed
                        )

                )

        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => przy-wiezieniu
    [question] => <p>– No to jesteśmy &#8211; z celi wyszedłeś, <strong>ale do świata Sebastianowa dopiero wchodzisz.</strong><br />
Może Ci się wydaje, że jesteś kimś, że Twoja historia się liczy, że coś ci się należy &#8211; bo miałeś ciężko. To posłuchaj uważnie, zanim się zgubisz między trzepakiem a meliną: <strong>Jesteś jednym z wielu</strong>, co myślą, że jak przetrwali jedną noc na dołku, to teraz świat ich powita z otwartymi ramionami.</p>
<p>Jestem Papuga. To ja otworzyłem ci drzwi. Nie z litości, nie z sympatii. Chcę po prostu zobaczyć, co zrobisz, kiedy w końcu przestanie być łatwo.</p>
<p>Bo w Sebastianowie nic nie jest za darmo. Respekt buduje się decyzjami. A każda z nich zostawia ślad – na tobie albo na kimś innym. <strong>Masz pytania? Pytaj – zanim przestanie to być możliwe.</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_npc_relation
                                            [condition] => is_not_known
                                            [npc_id] => 449
                                            [relation_value] => 50
                                        )

                                )

                        )

                    [anwser_text] => Jak się w to w ogóle gra?
                    [type_anwser] => 
                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-18 17:51:36] [INFO] Filtered dialog
[2025-05-18 17:51:36] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => condition_task
                            [condition] => is
                            [mission_id] => 339
                            [task_id] => jak-poruszac-sie-po-grze_0
                            [status] => completed
                        )

                )

        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => przy-wiezieniu
    [question] => <p>– No to jesteśmy &#8211; z celi wyszedłeś, <strong>ale do świata Sebastianowa dopiero wchodzisz.</strong><br />
Może Ci się wydaje, że jesteś kimś, że Twoja historia się liczy, że coś ci się należy &#8211; bo miałeś ciężko. To posłuchaj uważnie, zanim się zgubisz między trzepakiem a meliną: <strong>Jesteś jednym z wielu</strong>, co myślą, że jak przetrwali jedną noc na dołku, to teraz świat ich powita z otwartymi ramionami.</p>
<p>Jestem Papuga. To ja otworzyłem ci drzwi. Nie z litości, nie z sympatii. Chcę po prostu zobaczyć, co zrobisz, kiedy w końcu przestanie być łatwo.</p>
<p>Bo w Sebastianowie nic nie jest za darmo. Respekt buduje się decyzjami. A każda z nich zostawia ślad – na tobie albo na kimś innym. <strong>Masz pytania? Pytaj – zanim przestanie to być możliwe.</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_npc_relation
                                            [condition] => is_not_known
                                            [npc_id] => 449
                                            [relation_value] => 50
                                        )

                                )

                        )

                    [anwser_text] => Jak się w to w ogóle gra?
                    [type_anwser] => 
                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-18 17:51:38] [INFO] WSZYSTKIE DANE ŻĄDANIA:
[2025-05-18 17:51:38] [DATA] Array
(
    [page_data] => Array
        (
        )

    [npc_id] => 449
    [dialog_id] => jak-sie-w-to-gra
    [current_url] => http://seb.soeasy.it/tereny/park/
    [user_id] => 1
    [answer_id] => answer-0
    [answer_index] => 0
    [current_dialog_id] => przy-wiezieniu
)

[2025-05-18 17:51:38] [INFO] Wyodrębnione dane lokalizacji:
[2025-05-18 17:51:38] [DATA] Array
(
    [location] => Array
        (
            [area_slug] => park
            [area_name] => Park
            [area_id] => 207
        )

    [type_page] => 
    [location_value] => 
)

[2025-05-18 17:51:38] [DEBUG] ROZPOCZYNAM PRZETWARZANIE PRZYCISKÓW ODPOWIEDZI
[2025-05-18 17:51:38] [DEBUG] Znaleziono dialog o ID: przy-wiezieniu
[2025-05-18 17:51:38] [DEBUG] Znaleziono poprzedni dialog ID: przy-wiezieniu
[2025-05-18 17:51:38] [INFO] Pełne dane dialogu:
[2025-05-18 17:51:38] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => condition_task
                            [condition] => is
                            [mission_id] => 339
                            [task_id] => jak-poruszac-sie-po-grze_0
                            [status] => completed
                        )

                )

        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => przy-wiezieniu
    [question] => <p>– No to jesteśmy &#8211; z celi wyszedłeś, <strong>ale do świata Sebastianowa dopiero wchodzisz.</strong><br />
Może Ci się wydaje, że jesteś kimś, że Twoja historia się liczy, że coś ci się należy &#8211; bo miałeś ciężko. To posłuchaj uważnie, zanim się zgubisz między trzepakiem a meliną: <strong>Jesteś jednym z wielu</strong>, co myślą, że jak przetrwali jedną noc na dołku, to teraz świat ich powita z otwartymi ramionami.</p>
<p>Jestem Papuga. To ja otworzyłem ci drzwi. Nie z litości, nie z sympatii. Chcę po prostu zobaczyć, co zrobisz, kiedy w końcu przestanie być łatwo.</p>
<p>Bo w Sebastianowie nic nie jest za darmo. Respekt buduje się decyzjami. A każda z nich zostawia ślad – na tobie albo na kimś innym. <strong>Masz pytania? Pytaj – zanim przestanie to być możliwe.</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_npc_relation
                                            [condition] => is_not_known
                                            [npc_id] => 449
                                            [relation_value] => 50
                                        )

                                )

                        )

                    [anwser_text] => Jak się w to w ogóle gra?
                    [type_anwser] => 
                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-18 17:51:38] [INFO] Odpowiedzi w dialogu:
[2025-05-18 17:51:38] [DATA] Array
(
    [0] => Array
        (
            [acf_fc_layout] => anwser
            [layout_settings] => Array
                (
                    [visibility_tab] => 
                    [logic_operator] => and
                    [visibility_settings] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => condition_npc_relation
                                    [condition] => is_not_known
                                    [npc_id] => 449
                                    [relation_value] => 50
                                )

                        )

                )

            [anwser_text] => Jak się w to w ogóle gra?
            [type_anwser] => 
            [go_to_id] => jak-sie-w-to-gra
        )

)

[2025-05-18 17:51:38] [DEBUG] Znaleziono odpowiedź o indeksie: 0
[2025-05-18 17:51:38] [INFO] Dane odpowiedzi:
[2025-05-18 17:51:38] [DATA] Array
(
    [acf_fc_layout] => anwser
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => condition_npc_relation
                            [condition] => is_not_known
                            [npc_id] => 449
                            [relation_value] => 50
                        )

                )

        )

    [anwser_text] => Jak się w to w ogóle gra?
    [type_anwser] => 
    [go_to_id] => jak-sie-w-to-gra
)

[2025-05-18 17:51:38] [DEBUG] Odpowiedź NIE zawiera akcji type_anwser lub jest pusta
[2025-05-18 17:51:38] [INFO] DialogManager: Rozpoczynam filtrowanie odpowiedzi.
[2025-05-18 17:51:38] [DATA] Array
(
    [count_answers_before] => 7
    [context] => Array
        (
            [type_page] => 
            [location] => 
            [user_id] => 1
            [npc_id] => 449
        )

)

[2025-05-18 17:51:38] [INFO] DialogManager: Sprawdzanie odpowiedzi: acf_fc_layout
[2025-05-18 17:51:38] [DATA] Array
(
    [answer_data] => question
)

[2025-05-18 17:51:38] [DEBUG] DialogManager: Odpowiedź (acf_fc_layout) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:51:38] [INFO] DialogManager: Sprawdzanie odpowiedzi: layout_settings
[2025-05-18 17:51:38] [DATA] Array
(
    [answer_data] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

)

[2025-05-18 17:51:38] [DEBUG] DialogManager: Odpowiedź (layout_settings) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:51:38] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_toggle
[2025-05-18 17:51:38] [DATA] Array
(
    [answer_data] => 
)

[2025-05-18 17:51:38] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_toggle) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:51:38] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_layout_title
[2025-05-18 17:51:38] [DATA] Array
(
    [answer_data] => Dialog
)

[2025-05-18 17:51:38] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_layout_title) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:51:38] [INFO] DialogManager: Sprawdzanie odpowiedzi: id_pola
[2025-05-18 17:51:38] [DATA] Array
(
    [answer_data] => jak-sie-w-to-gra
)

[2025-05-18 17:51:38] [DEBUG] DialogManager: Odpowiedź (id_pola) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:51:38] [INFO] DialogManager: Sprawdzanie odpowiedzi: question
[2025-05-18 17:51:38] [DATA] Array
(
    [answer_data] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

)

[2025-05-18 17:51:38] [DEBUG] DialogManager: Odpowiedź (question) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:51:38] [INFO] DialogManager: Sprawdzanie odpowiedzi: anwsers
[2025-05-18 17:51:38] [DATA] Array
(
    [answer_data] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_task
                                            [condition] => is_not
                                            [mission_id] => 339
                                            [task_id] => jak-poruszac-sie-po-grze_0
                                            [status] => completed
                                        )

                                )

                        )

                    [anwser_text] => Jak poruszać się po grze?
                    [type_anwser] => 
                    [go_to_id] => jak-poruszac-sie-po-grze
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => test
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-18 17:51:38] [DEBUG] DialogManager: Odpowiedź (anwsers) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:51:38] [INFO] DialogManager: Zakończono filtrowanie odpowiedzi.
[2025-05-18 17:51:38] [DATA] Array
(
    [count_answers_after] => 7
)

[2025-05-18 17:51:38] [INFO] Dialog po filtrowaniu:
[2025-05-18 17:51:38] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-sie-w-to-gra
    [question] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_task
                                            [condition] => is_not
                                            [mission_id] => 339
                                            [task_id] => jak-poruszac-sie-po-grze_0
                                            [status] => completed
                                        )

                                )

                        )

                    [anwser_text] => Jak poruszać się po grze?
                    [type_anwser] => 
                    [go_to_id] => jak-poruszac-sie-po-grze
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => test
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-18 17:51:38] [INFO] Dane odpowiedzi:
[2025-05-18 17:51:38] [DATA] Array
(
    [success] => 1
    [dialog] => Array
        (
            [id] => jak-sie-w-to-gra
            [text] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

            [answers] => Array
                (
                    [0] => Array
                        (
                            [id] => 
                            [text] => Jak poruszać się po grze?
                            [next_dialog] => jak-poruszac-sie-po-grze
                        )

                    [1] => Array
                        (
                            [id] => 
                            [text] => test
                            [next_dialog] => 0
                        )

                )

        )

    [npc] => Array
        (
            [id] => 449
            [name] => Papuga
            [image] => http://seb.soeasy.it/wp-content/uploads/2025/05/papuga_new.png
        )

)

[2025-05-18 17:51:38] [DEBUG] ===== ZAKOŃCZENIE PRZETWARZANIA ŻĄDANIA DIALOGU =====
[2025-05-18 17:51:40] [INFO] WSZYSTKIE DANE ŻĄDANIA:
[2025-05-18 17:51:40] [DATA] Array
(
    [page_data] => Array
        (
        )

    [npc_id] => 449
    [dialog_id] => jak-poruszac-sie-po-grze
    [current_url] => http://seb.soeasy.it/tereny/park/
    [user_id] => 1
    [answer_id] => answer-0
    [answer_index] => 0
    [current_dialog_id] => jak-sie-w-to-gra
)

[2025-05-18 17:51:40] [INFO] Wyodrębnione dane lokalizacji:
[2025-05-18 17:51:40] [DATA] Array
(
    [location] => Array
        (
            [area_slug] => park
            [area_name] => Park
            [area_id] => 207
        )

    [type_page] => 
    [location_value] => 
)

[2025-05-18 17:51:40] [DEBUG] ROZPOCZYNAM PRZETWARZANIE PRZYCISKÓW ODPOWIEDZI
[2025-05-18 17:51:40] [DEBUG] Znaleziono dialog o ID: jak-sie-w-to-gra
[2025-05-18 17:51:40] [DEBUG] Znaleziono poprzedni dialog ID: jak-sie-w-to-gra
[2025-05-18 17:51:40] [INFO] Pełne dane dialogu:
[2025-05-18 17:51:40] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-sie-w-to-gra
    [question] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_task
                                            [condition] => is_not
                                            [mission_id] => 339
                                            [task_id] => jak-poruszac-sie-po-grze_0
                                            [status] => completed
                                        )

                                )

                        )

                    [anwser_text] => Jak poruszać się po grze?
                    [type_anwser] => 
                    [go_to_id] => jak-poruszac-sie-po-grze
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => test
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-18 17:51:40] [INFO] Odpowiedzi w dialogu:
[2025-05-18 17:51:40] [DATA] Array
(
    [0] => Array
        (
            [acf_fc_layout] => anwser
            [layout_settings] => Array
                (
                    [visibility_tab] => 
                    [logic_operator] => and
                    [visibility_settings] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => condition_task
                                    [condition] => is_not
                                    [mission_id] => 339
                                    [task_id] => jak-poruszac-sie-po-grze_0
                                    [status] => completed
                                )

                        )

                )

            [anwser_text] => Jak poruszać się po grze?
            [type_anwser] => 
            [go_to_id] => jak-poruszac-sie-po-grze
        )

    [1] => Array
        (
            [acf_fc_layout] => anwser
            [layout_settings] => Array
                (
                    [visibility_tab] => 
                    [logic_operator] => and
                    [visibility_settings] => 
                )

            [anwser_text] => test
            [type_anwser] => 
            [go_to_id] => 0
        )

)

[2025-05-18 17:51:40] [DEBUG] Znaleziono odpowiedź o indeksie: 0
[2025-05-18 17:51:40] [INFO] Dane odpowiedzi:
[2025-05-18 17:51:40] [DATA] Array
(
    [acf_fc_layout] => anwser
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => condition_task
                            [condition] => is_not
                            [mission_id] => 339
                            [task_id] => jak-poruszac-sie-po-grze_0
                            [status] => completed
                        )

                )

        )

    [anwser_text] => Jak poruszać się po grze?
    [type_anwser] => 
    [go_to_id] => jak-poruszac-sie-po-grze
)

[2025-05-18 17:51:40] [DEBUG] Odpowiedź NIE zawiera akcji type_anwser lub jest pusta
[2025-05-18 17:51:40] [INFO] DialogManager: Rozpoczynam filtrowanie odpowiedzi.
[2025-05-18 17:51:40] [DATA] Array
(
    [count_answers_before] => 7
    [context] => Array
        (
            [type_page] => 
            [location] => 
            [user_id] => 1
            [npc_id] => 449
        )

)

[2025-05-18 17:51:40] [INFO] DialogManager: Sprawdzanie odpowiedzi: acf_fc_layout
[2025-05-18 17:51:40] [DATA] Array
(
    [answer_data] => question
)

[2025-05-18 17:51:40] [DEBUG] DialogManager: Odpowiedź (acf_fc_layout) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:51:40] [INFO] DialogManager: Sprawdzanie odpowiedzi: layout_settings
[2025-05-18 17:51:40] [DATA] Array
(
    [answer_data] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

)

[2025-05-18 17:51:40] [DEBUG] DialogManager: Odpowiedź (layout_settings) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:51:40] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_toggle
[2025-05-18 17:51:40] [DATA] Array
(
    [answer_data] => 
)

[2025-05-18 17:51:40] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_toggle) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:51:40] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_layout_title
[2025-05-18 17:51:40] [DATA] Array
(
    [answer_data] => Dialog
)

[2025-05-18 17:51:40] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_layout_title) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:51:40] [INFO] DialogManager: Sprawdzanie odpowiedzi: id_pola
[2025-05-18 17:51:40] [DATA] Array
(
    [answer_data] => jak-poruszac-sie-po-grze
)

[2025-05-18 17:51:40] [DEBUG] DialogManager: Odpowiedź (id_pola) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:51:40] [INFO] DialogManager: Sprawdzanie odpowiedzi: question
[2025-05-18 17:51:40] [DATA] Array
(
    [answer_data] => <p><strong>Każda scena to jeden widok – jak kadr z życia</strong>. Na nim są miejsca, osoby i przedmioty, z którymi możesz wejść w interakcję. Biały kolor oznacza przejście do innej sceny. Możesz przejść z bramy na klatkę, z meliny do sklepu, z podwórka do innej dzielnicy. Te przejścia nie kosztują Cię nic energii.</p>
<p><strong>Niebieski kolor to akcje z otoczeniem. </strong>Grzebanie w śmietniku, kontenerze na ubrania, zaglądanie do kiosku, przeszukiwanie bagażnika, otwieranie skrytki – tutaj każda akcja kosztuje pewną ilość energii. <strong>Postacie mają kolorowe obwódki. Klikasz – zaczyna się rozmowa.</strong></p>
<ul>
<li>Zielony – lubią cię.</li>
<li>Czerwony – nie cierpią.</li>
<li>Pomarańczowy – neutralni, jeszcze nie wiedzą, co o tobie sądzić.</li>
</ul>
<p>Każda rozmowa może Ci coś dać – albo zabrać. Zależy, jak się zachowasz.</p>
<p>Czasem znajdziesz coś cennego. Czasem coś obrzydliwego. A czasem kogoś obudzisz. <strong>Pamiętaj – nie każde poruszanie się między widokami zużywa energę. </strong>Dopiero konkretne działania albo spacery po dzielnicach zabierają energię</p>

)

[2025-05-18 17:51:40] [DEBUG] DialogManager: Odpowiedź (question) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:51:40] [INFO] DialogManager: Sprawdzanie odpowiedzi: anwsers
[2025-05-18 17:51:40] [DATA] Array
(
    [answer_data] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => Okej, załapałem jak się poruszać
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => mission
                                    [acfe_flexible_toggle] => 
                                    [mission_id] => 339
                                    [mission_status] => in_progress
                                    [mission_task_id] => jak-poruszac-sie-po-grze_0
                                    [mission_task_status] => completed
                                )

                        )

                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-18 17:51:40] [DEBUG] DialogManager: Odpowiedź (anwsers) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:51:40] [INFO] DialogManager: Zakończono filtrowanie odpowiedzi.
[2025-05-18 17:51:40] [DATA] Array
(
    [count_answers_after] => 7
)

[2025-05-18 17:51:40] [INFO] Dialog po filtrowaniu:
[2025-05-18 17:51:40] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-poruszac-sie-po-grze
    [question] => <p><strong>Każda scena to jeden widok – jak kadr z życia</strong>. Na nim są miejsca, osoby i przedmioty, z którymi możesz wejść w interakcję. Biały kolor oznacza przejście do innej sceny. Możesz przejść z bramy na klatkę, z meliny do sklepu, z podwórka do innej dzielnicy. Te przejścia nie kosztują Cię nic energii.</p>
<p><strong>Niebieski kolor to akcje z otoczeniem. </strong>Grzebanie w śmietniku, kontenerze na ubrania, zaglądanie do kiosku, przeszukiwanie bagażnika, otwieranie skrytki – tutaj każda akcja kosztuje pewną ilość energii. <strong>Postacie mają kolorowe obwódki. Klikasz – zaczyna się rozmowa.</strong></p>
<ul>
<li>Zielony – lubią cię.</li>
<li>Czerwony – nie cierpią.</li>
<li>Pomarańczowy – neutralni, jeszcze nie wiedzą, co o tobie sądzić.</li>
</ul>
<p>Każda rozmowa może Ci coś dać – albo zabrać. Zależy, jak się zachowasz.</p>
<p>Czasem znajdziesz coś cennego. Czasem coś obrzydliwego. A czasem kogoś obudzisz. <strong>Pamiętaj – nie każde poruszanie się między widokami zużywa energę. </strong>Dopiero konkretne działania albo spacery po dzielnicach zabierają energię</p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => Okej, załapałem jak się poruszać
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => mission
                                    [acfe_flexible_toggle] => 
                                    [mission_id] => 339
                                    [mission_status] => in_progress
                                    [mission_task_id] => jak-poruszac-sie-po-grze_0
                                    [mission_task_status] => completed
                                )

                        )

                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-18 17:51:40] [INFO] Dane odpowiedzi:
[2025-05-18 17:51:40] [DATA] Array
(
    [success] => 1
    [dialog] => Array
        (
            [id] => jak-poruszac-sie-po-grze
            [text] => <p><strong>Każda scena to jeden widok – jak kadr z życia</strong>. Na nim są miejsca, osoby i przedmioty, z którymi możesz wejść w interakcję. Biały kolor oznacza przejście do innej sceny. Możesz przejść z bramy na klatkę, z meliny do sklepu, z podwórka do innej dzielnicy. Te przejścia nie kosztują Cię nic energii.</p>
<p><strong>Niebieski kolor to akcje z otoczeniem. </strong>Grzebanie w śmietniku, kontenerze na ubrania, zaglądanie do kiosku, przeszukiwanie bagażnika, otwieranie skrytki – tutaj każda akcja kosztuje pewną ilość energii. <strong>Postacie mają kolorowe obwódki. Klikasz – zaczyna się rozmowa.</strong></p>
<ul>
<li>Zielony – lubią cię.</li>
<li>Czerwony – nie cierpią.</li>
<li>Pomarańczowy – neutralni, jeszcze nie wiedzą, co o tobie sądzić.</li>
</ul>
<p>Każda rozmowa może Ci coś dać – albo zabrać. Zależy, jak się zachowasz.</p>
<p>Czasem znajdziesz coś cennego. Czasem coś obrzydliwego. A czasem kogoś obudzisz. <strong>Pamiętaj – nie każde poruszanie się między widokami zużywa energę. </strong>Dopiero konkretne działania albo spacery po dzielnicach zabierają energię</p>

            [answers] => Array
                (
                    [0] => Array
                        (
                            [id] => 
                            [text] => Okej, załapałem jak się poruszać
                            [next_dialog] => jak-sie-w-to-gra
                        )

                )

        )

    [npc] => Array
        (
            [id] => 449
            [name] => Papuga
            [image] => http://seb.soeasy.it/wp-content/uploads/2025/05/papuga_new.png
        )

)

[2025-05-18 17:51:40] [DEBUG] ===== ZAKOŃCZENIE PRZETWARZANIA ŻĄDANIA DIALOGU =====
[2025-05-18 17:52:33] [INFO] get_first_matching_dialog: Found matching dialog
[2025-05-18 17:52:33] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => condition_task
                            [condition] => is
                            [mission_id] => 339
                            [task_id] => jak-poruszac-sie-po-grze_0
                            [status] => completed
                        )

                )

        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => przy-wiezieniu
    [question] => <p>– No to jesteśmy &#8211; z celi wyszedłeś, <strong>ale do świata Sebastianowa dopiero wchodzisz.</strong><br />
Może Ci się wydaje, że jesteś kimś, że Twoja historia się liczy, że coś ci się należy &#8211; bo miałeś ciężko. To posłuchaj uważnie, zanim się zgubisz między trzepakiem a meliną: <strong>Jesteś jednym z wielu</strong>, co myślą, że jak przetrwali jedną noc na dołku, to teraz świat ich powita z otwartymi ramionami.</p>
<p>Jestem Papuga. To ja otworzyłem ci drzwi. Nie z litości, nie z sympatii. Chcę po prostu zobaczyć, co zrobisz, kiedy w końcu przestanie być łatwo.</p>
<p>Bo w Sebastianowie nic nie jest za darmo. Respekt buduje się decyzjami. A każda z nich zostawia ślad – na tobie albo na kimś innym. <strong>Masz pytania? Pytaj – zanim przestanie to być możliwe.</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_npc_relation
                                            [condition] => is_not_known
                                            [npc_id] => 449
                                            [relation_value] => 50
                                        )

                                )

                        )

                    [anwser_text] => Jak się w to w ogóle gra?
                    [type_anwser] => 
                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-18 17:52:33] [INFO] Filtered dialog
[2025-05-18 17:52:33] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => condition_task
                            [condition] => is
                            [mission_id] => 339
                            [task_id] => jak-poruszac-sie-po-grze_0
                            [status] => completed
                        )

                )

        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => przy-wiezieniu
    [question] => <p>– No to jesteśmy &#8211; z celi wyszedłeś, <strong>ale do świata Sebastianowa dopiero wchodzisz.</strong><br />
Może Ci się wydaje, że jesteś kimś, że Twoja historia się liczy, że coś ci się należy &#8211; bo miałeś ciężko. To posłuchaj uważnie, zanim się zgubisz między trzepakiem a meliną: <strong>Jesteś jednym z wielu</strong>, co myślą, że jak przetrwali jedną noc na dołku, to teraz świat ich powita z otwartymi ramionami.</p>
<p>Jestem Papuga. To ja otworzyłem ci drzwi. Nie z litości, nie z sympatii. Chcę po prostu zobaczyć, co zrobisz, kiedy w końcu przestanie być łatwo.</p>
<p>Bo w Sebastianowie nic nie jest za darmo. Respekt buduje się decyzjami. A każda z nich zostawia ślad – na tobie albo na kimś innym. <strong>Masz pytania? Pytaj – zanim przestanie to być możliwe.</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_npc_relation
                                            [condition] => is_not_known
                                            [npc_id] => 449
                                            [relation_value] => 50
                                        )

                                )

                        )

                    [anwser_text] => Jak się w to w ogóle gra?
                    [type_anwser] => 
                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-18 17:52:34] [INFO] WSZYSTKIE DANE ŻĄDANIA:
[2025-05-18 17:52:34] [DATA] Array
(
    [page_data] => Array
        (
        )

    [npc_id] => 449
    [dialog_id] => jak-sie-w-to-gra
    [current_url] => http://seb.soeasy.it/tereny/park/
    [user_id] => 1
    [answer_id] => answer-0
    [answer_index] => 0
    [current_dialog_id] => przy-wiezieniu
)

[2025-05-18 17:52:34] [INFO] Wyodrębnione dane lokalizacji:
[2025-05-18 17:52:34] [DATA] Array
(
    [location] => Array
        (
            [area_slug] => park
            [area_name] => Park
            [area_id] => 207
        )

    [type_page] => 
    [location_value] => 
)

[2025-05-18 17:52:34] [DEBUG] ROZPOCZYNAM PRZETWARZANIE PRZYCISKÓW ODPOWIEDZI
[2025-05-18 17:52:34] [DEBUG] Znaleziono dialog o ID: przy-wiezieniu
[2025-05-18 17:52:34] [DEBUG] Znaleziono poprzedni dialog ID: przy-wiezieniu
[2025-05-18 17:52:34] [INFO] Pełne dane dialogu:
[2025-05-18 17:52:34] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => condition_task
                            [condition] => is
                            [mission_id] => 339
                            [task_id] => jak-poruszac-sie-po-grze_0
                            [status] => completed
                        )

                )

        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => przy-wiezieniu
    [question] => <p>– No to jesteśmy &#8211; z celi wyszedłeś, <strong>ale do świata Sebastianowa dopiero wchodzisz.</strong><br />
Może Ci się wydaje, że jesteś kimś, że Twoja historia się liczy, że coś ci się należy &#8211; bo miałeś ciężko. To posłuchaj uważnie, zanim się zgubisz między trzepakiem a meliną: <strong>Jesteś jednym z wielu</strong>, co myślą, że jak przetrwali jedną noc na dołku, to teraz świat ich powita z otwartymi ramionami.</p>
<p>Jestem Papuga. To ja otworzyłem ci drzwi. Nie z litości, nie z sympatii. Chcę po prostu zobaczyć, co zrobisz, kiedy w końcu przestanie być łatwo.</p>
<p>Bo w Sebastianowie nic nie jest za darmo. Respekt buduje się decyzjami. A każda z nich zostawia ślad – na tobie albo na kimś innym. <strong>Masz pytania? Pytaj – zanim przestanie to być możliwe.</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_npc_relation
                                            [condition] => is_not_known
                                            [npc_id] => 449
                                            [relation_value] => 50
                                        )

                                )

                        )

                    [anwser_text] => Jak się w to w ogóle gra?
                    [type_anwser] => 
                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-18 17:52:34] [INFO] Odpowiedzi w dialogu:
[2025-05-18 17:52:34] [DATA] Array
(
    [0] => Array
        (
            [acf_fc_layout] => anwser
            [layout_settings] => Array
                (
                    [visibility_tab] => 
                    [logic_operator] => and
                    [visibility_settings] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => condition_npc_relation
                                    [condition] => is_not_known
                                    [npc_id] => 449
                                    [relation_value] => 50
                                )

                        )

                )

            [anwser_text] => Jak się w to w ogóle gra?
            [type_anwser] => 
            [go_to_id] => jak-sie-w-to-gra
        )

)

[2025-05-18 17:52:34] [DEBUG] Znaleziono odpowiedź o indeksie: 0
[2025-05-18 17:52:34] [INFO] Dane odpowiedzi:
[2025-05-18 17:52:34] [DATA] Array
(
    [acf_fc_layout] => anwser
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => condition_npc_relation
                            [condition] => is_not_known
                            [npc_id] => 449
                            [relation_value] => 50
                        )

                )

        )

    [anwser_text] => Jak się w to w ogóle gra?
    [type_anwser] => 
    [go_to_id] => jak-sie-w-to-gra
)

[2025-05-18 17:52:34] [DEBUG] Odpowiedź NIE zawiera akcji type_anwser lub jest pusta
[2025-05-18 17:52:34] [INFO] DialogManager: Rozpoczynam filtrowanie odpowiedzi.
[2025-05-18 17:52:34] [DATA] Array
(
    [count_answers_before] => 7
    [context] => Array
        (
            [type_page] => 
            [location] => 
            [user_id] => 1
            [npc_id] => 449
        )

)

[2025-05-18 17:52:34] [INFO] DialogManager: Sprawdzanie odpowiedzi: acf_fc_layout
[2025-05-18 17:52:34] [DATA] Array
(
    [answer_data] => question
)

[2025-05-18 17:52:34] [DEBUG] DialogManager: Odpowiedź (acf_fc_layout) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:52:34] [INFO] DialogManager: Sprawdzanie odpowiedzi: layout_settings
[2025-05-18 17:52:34] [DATA] Array
(
    [answer_data] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

)

[2025-05-18 17:52:34] [DEBUG] DialogManager: Odpowiedź (layout_settings) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:52:34] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_toggle
[2025-05-18 17:52:34] [DATA] Array
(
    [answer_data] => 
)

[2025-05-18 17:52:34] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_toggle) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:52:34] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_layout_title
[2025-05-18 17:52:34] [DATA] Array
(
    [answer_data] => Dialog
)

[2025-05-18 17:52:34] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_layout_title) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:52:34] [INFO] DialogManager: Sprawdzanie odpowiedzi: id_pola
[2025-05-18 17:52:34] [DATA] Array
(
    [answer_data] => jak-sie-w-to-gra
)

[2025-05-18 17:52:34] [DEBUG] DialogManager: Odpowiedź (id_pola) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:52:34] [INFO] DialogManager: Sprawdzanie odpowiedzi: question
[2025-05-18 17:52:34] [DATA] Array
(
    [answer_data] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

)

[2025-05-18 17:52:34] [DEBUG] DialogManager: Odpowiedź (question) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:52:34] [INFO] DialogManager: Sprawdzanie odpowiedzi: anwsers
[2025-05-18 17:52:34] [DATA] Array
(
    [answer_data] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_task
                                            [condition] => is_not
                                            [mission_id] => 339
                                            [task_id] => jak-poruszac-sie-po-grze_0
                                            [status] => completed
                                        )

                                )

                        )

                    [anwser_text] => Jak poruszać się po grze?
                    [type_anwser] => 
                    [go_to_id] => jak-poruszac-sie-po-grze
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => test
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-18 17:52:34] [DEBUG] DialogManager: Odpowiedź (anwsers) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:52:34] [INFO] DialogManager: Zakończono filtrowanie odpowiedzi.
[2025-05-18 17:52:34] [DATA] Array
(
    [count_answers_after] => 7
)

[2025-05-18 17:52:34] [INFO] Dialog po filtrowaniu:
[2025-05-18 17:52:34] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-sie-w-to-gra
    [question] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_task
                                            [condition] => is_not
                                            [mission_id] => 339
                                            [task_id] => jak-poruszac-sie-po-grze_0
                                            [status] => completed
                                        )

                                )

                        )

                    [anwser_text] => Jak poruszać się po grze?
                    [type_anwser] => 
                    [go_to_id] => jak-poruszac-sie-po-grze
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => test
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-18 17:52:34] [INFO] Dane odpowiedzi:
[2025-05-18 17:52:34] [DATA] Array
(
    [success] => 1
    [dialog] => Array
        (
            [id] => jak-sie-w-to-gra
            [text] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

            [answers] => Array
                (
                    [0] => Array
                        (
                            [id] => 
                            [text] => Jak poruszać się po grze?
                            [next_dialog] => jak-poruszac-sie-po-grze
                        )

                    [1] => Array
                        (
                            [id] => 
                            [text] => test
                            [next_dialog] => 0
                        )

                )

        )

    [npc] => Array
        (
            [id] => 449
            [name] => Papuga
            [image] => http://seb.soeasy.it/wp-content/uploads/2025/05/papuga_new.png
        )

)

[2025-05-18 17:52:34] [DEBUG] ===== ZAKOŃCZENIE PRZETWARZANIA ŻĄDANIA DIALOGU =====
[2025-05-18 17:52:35] [INFO] WSZYSTKIE DANE ŻĄDANIA:
[2025-05-18 17:52:35] [DATA] Array
(
    [page_data] => Array
        (
        )

    [npc_id] => 449
    [dialog_id] => jak-poruszac-sie-po-grze
    [current_url] => http://seb.soeasy.it/tereny/park/
    [user_id] => 1
    [answer_id] => answer-0
    [answer_index] => 0
    [current_dialog_id] => jak-sie-w-to-gra
)

[2025-05-18 17:52:35] [INFO] Wyodrębnione dane lokalizacji:
[2025-05-18 17:52:35] [DATA] Array
(
    [location] => Array
        (
            [area_slug] => park
            [area_name] => Park
            [area_id] => 207
        )

    [type_page] => 
    [location_value] => 
)

[2025-05-18 17:52:35] [DEBUG] ROZPOCZYNAM PRZETWARZANIE PRZYCISKÓW ODPOWIEDZI
[2025-05-18 17:52:35] [DEBUG] Znaleziono dialog o ID: jak-sie-w-to-gra
[2025-05-18 17:52:35] [DEBUG] Znaleziono poprzedni dialog ID: jak-sie-w-to-gra
[2025-05-18 17:52:35] [INFO] Pełne dane dialogu:
[2025-05-18 17:52:35] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-sie-w-to-gra
    [question] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_task
                                            [condition] => is_not
                                            [mission_id] => 339
                                            [task_id] => jak-poruszac-sie-po-grze_0
                                            [status] => completed
                                        )

                                )

                        )

                    [anwser_text] => Jak poruszać się po grze?
                    [type_anwser] => 
                    [go_to_id] => jak-poruszac-sie-po-grze
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => test
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-18 17:52:35] [INFO] Odpowiedzi w dialogu:
[2025-05-18 17:52:35] [DATA] Array
(
    [0] => Array
        (
            [acf_fc_layout] => anwser
            [layout_settings] => Array
                (
                    [visibility_tab] => 
                    [logic_operator] => and
                    [visibility_settings] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => condition_task
                                    [condition] => is_not
                                    [mission_id] => 339
                                    [task_id] => jak-poruszac-sie-po-grze_0
                                    [status] => completed
                                )

                        )

                )

            [anwser_text] => Jak poruszać się po grze?
            [type_anwser] => 
            [go_to_id] => jak-poruszac-sie-po-grze
        )

    [1] => Array
        (
            [acf_fc_layout] => anwser
            [layout_settings] => Array
                (
                    [visibility_tab] => 
                    [logic_operator] => and
                    [visibility_settings] => 
                )

            [anwser_text] => test
            [type_anwser] => 
            [go_to_id] => 0
        )

)

[2025-05-18 17:52:35] [DEBUG] Znaleziono odpowiedź o indeksie: 0
[2025-05-18 17:52:35] [INFO] Dane odpowiedzi:
[2025-05-18 17:52:35] [DATA] Array
(
    [acf_fc_layout] => anwser
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => condition_task
                            [condition] => is_not
                            [mission_id] => 339
                            [task_id] => jak-poruszac-sie-po-grze_0
                            [status] => completed
                        )

                )

        )

    [anwser_text] => Jak poruszać się po grze?
    [type_anwser] => 
    [go_to_id] => jak-poruszac-sie-po-grze
)

[2025-05-18 17:52:35] [DEBUG] Odpowiedź NIE zawiera akcji type_anwser lub jest pusta
[2025-05-18 17:52:35] [INFO] DialogManager: Rozpoczynam filtrowanie odpowiedzi.
[2025-05-18 17:52:35] [DATA] Array
(
    [count_answers_before] => 7
    [context] => Array
        (
            [type_page] => 
            [location] => 
            [user_id] => 1
            [npc_id] => 449
        )

)

[2025-05-18 17:52:35] [INFO] DialogManager: Sprawdzanie odpowiedzi: acf_fc_layout
[2025-05-18 17:52:35] [DATA] Array
(
    [answer_data] => question
)

[2025-05-18 17:52:35] [DEBUG] DialogManager: Odpowiedź (acf_fc_layout) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:52:35] [INFO] DialogManager: Sprawdzanie odpowiedzi: layout_settings
[2025-05-18 17:52:35] [DATA] Array
(
    [answer_data] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

)

[2025-05-18 17:52:35] [DEBUG] DialogManager: Odpowiedź (layout_settings) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:52:35] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_toggle
[2025-05-18 17:52:35] [DATA] Array
(
    [answer_data] => 
)

[2025-05-18 17:52:35] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_toggle) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:52:35] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_layout_title
[2025-05-18 17:52:35] [DATA] Array
(
    [answer_data] => Dialog
)

[2025-05-18 17:52:35] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_layout_title) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:52:35] [INFO] DialogManager: Sprawdzanie odpowiedzi: id_pola
[2025-05-18 17:52:35] [DATA] Array
(
    [answer_data] => jak-poruszac-sie-po-grze
)

[2025-05-18 17:52:35] [DEBUG] DialogManager: Odpowiedź (id_pola) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:52:35] [INFO] DialogManager: Sprawdzanie odpowiedzi: question
[2025-05-18 17:52:35] [DATA] Array
(
    [answer_data] => <p><strong>Każda scena to jeden widok – jak kadr z życia</strong>. Na nim są miejsca, osoby i przedmioty, z którymi możesz wejść w interakcję. Biały kolor oznacza przejście do innej sceny. Możesz przejść z bramy na klatkę, z meliny do sklepu, z podwórka do innej dzielnicy. Te przejścia nie kosztują Cię nic energii.</p>
<p><strong>Niebieski kolor to akcje z otoczeniem. </strong>Grzebanie w śmietniku, kontenerze na ubrania, zaglądanie do kiosku, przeszukiwanie bagażnika, otwieranie skrytki – tutaj każda akcja kosztuje pewną ilość energii. <strong>Postacie mają kolorowe obwódki. Klikasz – zaczyna się rozmowa.</strong></p>
<ul>
<li>Zielony – lubią cię.</li>
<li>Czerwony – nie cierpią.</li>
<li>Pomarańczowy – neutralni, jeszcze nie wiedzą, co o tobie sądzić.</li>
</ul>
<p>Każda rozmowa może Ci coś dać – albo zabrać. Zależy, jak się zachowasz.</p>
<p>Czasem znajdziesz coś cennego. Czasem coś obrzydliwego. A czasem kogoś obudzisz. <strong>Pamiętaj – nie każde poruszanie się między widokami zużywa energę. </strong>Dopiero konkretne działania albo spacery po dzielnicach zabierają energię</p>

)

[2025-05-18 17:52:35] [DEBUG] DialogManager: Odpowiedź (question) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:52:35] [INFO] DialogManager: Sprawdzanie odpowiedzi: anwsers
[2025-05-18 17:52:35] [DATA] Array
(
    [answer_data] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => Okej, załapałem jak się poruszać
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => mission
                                    [acfe_flexible_toggle] => 
                                    [mission_id] => 339
                                    [mission_status] => in_progress
                                    [mission_task_id] => jak-poruszac-sie-po-grze_0
                                    [mission_task_status] => completed
                                )

                        )

                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-18 17:52:35] [DEBUG] DialogManager: Odpowiedź (anwsers) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:52:35] [INFO] DialogManager: Zakończono filtrowanie odpowiedzi.
[2025-05-18 17:52:35] [DATA] Array
(
    [count_answers_after] => 7
)

[2025-05-18 17:52:35] [INFO] Dialog po filtrowaniu:
[2025-05-18 17:52:35] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-poruszac-sie-po-grze
    [question] => <p><strong>Każda scena to jeden widok – jak kadr z życia</strong>. Na nim są miejsca, osoby i przedmioty, z którymi możesz wejść w interakcję. Biały kolor oznacza przejście do innej sceny. Możesz przejść z bramy na klatkę, z meliny do sklepu, z podwórka do innej dzielnicy. Te przejścia nie kosztują Cię nic energii.</p>
<p><strong>Niebieski kolor to akcje z otoczeniem. </strong>Grzebanie w śmietniku, kontenerze na ubrania, zaglądanie do kiosku, przeszukiwanie bagażnika, otwieranie skrytki – tutaj każda akcja kosztuje pewną ilość energii. <strong>Postacie mają kolorowe obwódki. Klikasz – zaczyna się rozmowa.</strong></p>
<ul>
<li>Zielony – lubią cię.</li>
<li>Czerwony – nie cierpią.</li>
<li>Pomarańczowy – neutralni, jeszcze nie wiedzą, co o tobie sądzić.</li>
</ul>
<p>Każda rozmowa może Ci coś dać – albo zabrać. Zależy, jak się zachowasz.</p>
<p>Czasem znajdziesz coś cennego. Czasem coś obrzydliwego. A czasem kogoś obudzisz. <strong>Pamiętaj – nie każde poruszanie się między widokami zużywa energę. </strong>Dopiero konkretne działania albo spacery po dzielnicach zabierają energię</p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => Okej, załapałem jak się poruszać
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => mission
                                    [acfe_flexible_toggle] => 
                                    [mission_id] => 339
                                    [mission_status] => in_progress
                                    [mission_task_id] => jak-poruszac-sie-po-grze_0
                                    [mission_task_status] => completed
                                )

                        )

                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-18 17:52:35] [INFO] Dane odpowiedzi:
[2025-05-18 17:52:35] [DATA] Array
(
    [success] => 1
    [dialog] => Array
        (
            [id] => jak-poruszac-sie-po-grze
            [text] => <p><strong>Każda scena to jeden widok – jak kadr z życia</strong>. Na nim są miejsca, osoby i przedmioty, z którymi możesz wejść w interakcję. Biały kolor oznacza przejście do innej sceny. Możesz przejść z bramy na klatkę, z meliny do sklepu, z podwórka do innej dzielnicy. Te przejścia nie kosztują Cię nic energii.</p>
<p><strong>Niebieski kolor to akcje z otoczeniem. </strong>Grzebanie w śmietniku, kontenerze na ubrania, zaglądanie do kiosku, przeszukiwanie bagażnika, otwieranie skrytki – tutaj każda akcja kosztuje pewną ilość energii. <strong>Postacie mają kolorowe obwódki. Klikasz – zaczyna się rozmowa.</strong></p>
<ul>
<li>Zielony – lubią cię.</li>
<li>Czerwony – nie cierpią.</li>
<li>Pomarańczowy – neutralni, jeszcze nie wiedzą, co o tobie sądzić.</li>
</ul>
<p>Każda rozmowa może Ci coś dać – albo zabrać. Zależy, jak się zachowasz.</p>
<p>Czasem znajdziesz coś cennego. Czasem coś obrzydliwego. A czasem kogoś obudzisz. <strong>Pamiętaj – nie każde poruszanie się między widokami zużywa energę. </strong>Dopiero konkretne działania albo spacery po dzielnicach zabierają energię</p>

            [answers] => Array
                (
                    [0] => Array
                        (
                            [id] => 
                            [text] => Okej, załapałem jak się poruszać
                            [next_dialog] => jak-sie-w-to-gra
                        )

                )

        )

    [npc] => Array
        (
            [id] => 449
            [name] => Papuga
            [image] => http://seb.soeasy.it/wp-content/uploads/2025/05/papuga_new.png
        )

)

[2025-05-18 17:52:35] [DEBUG] ===== ZAKOŃCZENIE PRZETWARZANIA ŻĄDANIA DIALOGU =====
[2025-05-18 17:54:03] [INFO] get_first_matching_dialog: Found matching dialog
[2025-05-18 17:54:03] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => condition_task
                            [condition] => is
                            [mission_id] => 339
                            [task_id] => jak-poruszac-sie-po-grze_0
                            [status] => completed
                        )

                )

        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => przy-wiezieniu
    [question] => <p>– No to jesteśmy &#8211; z celi wyszedłeś, <strong>ale do świata Sebastianowa dopiero wchodzisz.</strong><br />
Może Ci się wydaje, że jesteś kimś, że Twoja historia się liczy, że coś ci się należy &#8211; bo miałeś ciężko. To posłuchaj uważnie, zanim się zgubisz między trzepakiem a meliną: <strong>Jesteś jednym z wielu</strong>, co myślą, że jak przetrwali jedną noc na dołku, to teraz świat ich powita z otwartymi ramionami.</p>
<p>Jestem Papuga. To ja otworzyłem ci drzwi. Nie z litości, nie z sympatii. Chcę po prostu zobaczyć, co zrobisz, kiedy w końcu przestanie być łatwo.</p>
<p>Bo w Sebastianowie nic nie jest za darmo. Respekt buduje się decyzjami. A każda z nich zostawia ślad – na tobie albo na kimś innym. <strong>Masz pytania? Pytaj – zanim przestanie to być możliwe.</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_npc_relation
                                            [condition] => is_not_known
                                            [npc_id] => 449
                                            [relation_value] => 50
                                        )

                                )

                        )

                    [anwser_text] => Jak się w to w ogóle gra?
                    [type_anwser] => 
                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-18 17:54:03] [INFO] Filtered dialog
[2025-05-18 17:54:03] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => condition_task
                            [condition] => is
                            [mission_id] => 339
                            [task_id] => jak-poruszac-sie-po-grze_0
                            [status] => completed
                        )

                )

        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => przy-wiezieniu
    [question] => <p>– No to jesteśmy &#8211; z celi wyszedłeś, <strong>ale do świata Sebastianowa dopiero wchodzisz.</strong><br />
Może Ci się wydaje, że jesteś kimś, że Twoja historia się liczy, że coś ci się należy &#8211; bo miałeś ciężko. To posłuchaj uważnie, zanim się zgubisz między trzepakiem a meliną: <strong>Jesteś jednym z wielu</strong>, co myślą, że jak przetrwali jedną noc na dołku, to teraz świat ich powita z otwartymi ramionami.</p>
<p>Jestem Papuga. To ja otworzyłem ci drzwi. Nie z litości, nie z sympatii. Chcę po prostu zobaczyć, co zrobisz, kiedy w końcu przestanie być łatwo.</p>
<p>Bo w Sebastianowie nic nie jest za darmo. Respekt buduje się decyzjami. A każda z nich zostawia ślad – na tobie albo na kimś innym. <strong>Masz pytania? Pytaj – zanim przestanie to być możliwe.</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_npc_relation
                                            [condition] => is_not_known
                                            [npc_id] => 449
                                            [relation_value] => 50
                                        )

                                )

                        )

                    [anwser_text] => Jak się w to w ogóle gra?
                    [type_anwser] => 
                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-18 17:54:04] [INFO] WSZYSTKIE DANE ŻĄDANIA:
[2025-05-18 17:54:04] [DATA] Array
(
    [page_data] => Array
        (
        )

    [npc_id] => 449
    [dialog_id] => jak-sie-w-to-gra
    [current_url] => http://seb.soeasy.it/tereny/park/
    [user_id] => 1
    [answer_id] => answer-0
    [answer_index] => 0
    [current_dialog_id] => przy-wiezieniu
)

[2025-05-18 17:54:04] [INFO] Wyodrębnione dane lokalizacji:
[2025-05-18 17:54:04] [DATA] Array
(
    [location] => Array
        (
            [area_slug] => park
            [area_name] => Park
            [area_id] => 207
        )

    [type_page] => 
    [location_value] => 
)

[2025-05-18 17:54:04] [DEBUG] ROZPOCZYNAM PRZETWARZANIE PRZYCISKÓW ODPOWIEDZI
[2025-05-18 17:54:04] [DEBUG] Znaleziono dialog o ID: przy-wiezieniu
[2025-05-18 17:54:04] [DEBUG] Znaleziono poprzedni dialog ID: przy-wiezieniu
[2025-05-18 17:54:04] [INFO] Pełne dane dialogu:
[2025-05-18 17:54:04] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => condition_task
                            [condition] => is
                            [mission_id] => 339
                            [task_id] => jak-poruszac-sie-po-grze_0
                            [status] => completed
                        )

                )

        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => przy-wiezieniu
    [question] => <p>– No to jesteśmy &#8211; z celi wyszedłeś, <strong>ale do świata Sebastianowa dopiero wchodzisz.</strong><br />
Może Ci się wydaje, że jesteś kimś, że Twoja historia się liczy, że coś ci się należy &#8211; bo miałeś ciężko. To posłuchaj uważnie, zanim się zgubisz między trzepakiem a meliną: <strong>Jesteś jednym z wielu</strong>, co myślą, że jak przetrwali jedną noc na dołku, to teraz świat ich powita z otwartymi ramionami.</p>
<p>Jestem Papuga. To ja otworzyłem ci drzwi. Nie z litości, nie z sympatii. Chcę po prostu zobaczyć, co zrobisz, kiedy w końcu przestanie być łatwo.</p>
<p>Bo w Sebastianowie nic nie jest za darmo. Respekt buduje się decyzjami. A każda z nich zostawia ślad – na tobie albo na kimś innym. <strong>Masz pytania? Pytaj – zanim przestanie to być możliwe.</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_npc_relation
                                            [condition] => is_not_known
                                            [npc_id] => 449
                                            [relation_value] => 50
                                        )

                                )

                        )

                    [anwser_text] => Jak się w to w ogóle gra?
                    [type_anwser] => 
                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-18 17:54:04] [INFO] Odpowiedzi w dialogu:
[2025-05-18 17:54:04] [DATA] Array
(
    [0] => Array
        (
            [acf_fc_layout] => anwser
            [layout_settings] => Array
                (
                    [visibility_tab] => 
                    [logic_operator] => and
                    [visibility_settings] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => condition_npc_relation
                                    [condition] => is_not_known
                                    [npc_id] => 449
                                    [relation_value] => 50
                                )

                        )

                )

            [anwser_text] => Jak się w to w ogóle gra?
            [type_anwser] => 
            [go_to_id] => jak-sie-w-to-gra
        )

)

[2025-05-18 17:54:04] [DEBUG] Znaleziono odpowiedź o indeksie: 0
[2025-05-18 17:54:04] [INFO] Dane odpowiedzi:
[2025-05-18 17:54:04] [DATA] Array
(
    [acf_fc_layout] => anwser
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => condition_npc_relation
                            [condition] => is_not_known
                            [npc_id] => 449
                            [relation_value] => 50
                        )

                )

        )

    [anwser_text] => Jak się w to w ogóle gra?
    [type_anwser] => 
    [go_to_id] => jak-sie-w-to-gra
)

[2025-05-18 17:54:04] [DEBUG] Odpowiedź NIE zawiera akcji type_anwser lub jest pusta
[2025-05-18 17:54:04] [INFO] DialogManager: Rozpoczynam filtrowanie odpowiedzi.
[2025-05-18 17:54:04] [DATA] Array
(
    [count_answers_before] => 7
    [context] => Array
        (
            [type_page] => 
            [location] => 
            [user_id] => 1
            [npc_id] => 449
        )

)

[2025-05-18 17:54:04] [INFO] DialogManager: Sprawdzanie odpowiedzi: acf_fc_layout
[2025-05-18 17:54:04] [DATA] Array
(
    [answer_data] => question
)

[2025-05-18 17:54:04] [DEBUG] DialogManager: Odpowiedź (acf_fc_layout) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:54:04] [INFO] DialogManager: Sprawdzanie odpowiedzi: layout_settings
[2025-05-18 17:54:04] [DATA] Array
(
    [answer_data] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

)

[2025-05-18 17:54:04] [DEBUG] DialogManager: Odpowiedź (layout_settings) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:54:04] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_toggle
[2025-05-18 17:54:04] [DATA] Array
(
    [answer_data] => 
)

[2025-05-18 17:54:04] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_toggle) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:54:04] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_layout_title
[2025-05-18 17:54:04] [DATA] Array
(
    [answer_data] => Dialog
)

[2025-05-18 17:54:04] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_layout_title) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:54:04] [INFO] DialogManager: Sprawdzanie odpowiedzi: id_pola
[2025-05-18 17:54:04] [DATA] Array
(
    [answer_data] => jak-sie-w-to-gra
)

[2025-05-18 17:54:04] [DEBUG] DialogManager: Odpowiedź (id_pola) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:54:04] [INFO] DialogManager: Sprawdzanie odpowiedzi: question
[2025-05-18 17:54:04] [DATA] Array
(
    [answer_data] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

)

[2025-05-18 17:54:04] [DEBUG] DialogManager: Odpowiedź (question) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:54:04] [INFO] DialogManager: Sprawdzanie odpowiedzi: anwsers
[2025-05-18 17:54:04] [DATA] Array
(
    [answer_data] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_task
                                            [condition] => is_not
                                            [mission_id] => 339
                                            [task_id] => jak-poruszac-sie-po-grze_0
                                            [status] => completed
                                        )

                                )

                        )

                    [anwser_text] => Jak poruszać się po grze?
                    [type_anwser] => 
                    [go_to_id] => jak-poruszac-sie-po-grze
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => test
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-18 17:54:04] [DEBUG] DialogManager: Odpowiedź (anwsers) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:54:04] [INFO] DialogManager: Zakończono filtrowanie odpowiedzi.
[2025-05-18 17:54:04] [DATA] Array
(
    [count_answers_after] => 7
)

[2025-05-18 17:54:04] [INFO] Dialog po filtrowaniu:
[2025-05-18 17:54:04] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-sie-w-to-gra
    [question] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_task
                                            [condition] => is_not
                                            [mission_id] => 339
                                            [task_id] => jak-poruszac-sie-po-grze_0
                                            [status] => completed
                                        )

                                )

                        )

                    [anwser_text] => Jak poruszać się po grze?
                    [type_anwser] => 
                    [go_to_id] => jak-poruszac-sie-po-grze
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => test
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-18 17:54:04] [INFO] Dane odpowiedzi:
[2025-05-18 17:54:04] [DATA] Array
(
    [success] => 1
    [dialog] => Array
        (
            [id] => jak-sie-w-to-gra
            [text] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

            [answers] => Array
                (
                    [0] => Array
                        (
                            [id] => 
                            [text] => Jak poruszać się po grze?
                            [next_dialog] => jak-poruszac-sie-po-grze
                        )

                    [1] => Array
                        (
                            [id] => 
                            [text] => test
                            [next_dialog] => 0
                        )

                )

        )

    [npc] => Array
        (
            [id] => 449
            [name] => Papuga
            [image] => http://seb.soeasy.it/wp-content/uploads/2025/05/papuga_new.png
        )

)

[2025-05-18 17:54:04] [DEBUG] ===== ZAKOŃCZENIE PRZETWARZANIA ŻĄDANIA DIALOGU =====
[2025-05-18 17:54:05] [INFO] WSZYSTKIE DANE ŻĄDANIA:
[2025-05-18 17:54:05] [DATA] Array
(
    [page_data] => Array
        (
        )

    [npc_id] => 449
    [dialog_id] => jak-poruszac-sie-po-grze
    [current_url] => http://seb.soeasy.it/tereny/park/
    [user_id] => 1
    [answer_id] => answer-0
    [answer_index] => 0
    [current_dialog_id] => jak-sie-w-to-gra
)

[2025-05-18 17:54:05] [INFO] Wyodrębnione dane lokalizacji:
[2025-05-18 17:54:05] [DATA] Array
(
    [location] => Array
        (
            [area_slug] => park
            [area_name] => Park
            [area_id] => 207
        )

    [type_page] => 
    [location_value] => 
)

[2025-05-18 17:54:05] [DEBUG] ROZPOCZYNAM PRZETWARZANIE PRZYCISKÓW ODPOWIEDZI
[2025-05-18 17:54:05] [DEBUG] Znaleziono dialog o ID: jak-sie-w-to-gra
[2025-05-18 17:54:05] [DEBUG] Znaleziono poprzedni dialog ID: jak-sie-w-to-gra
[2025-05-18 17:54:05] [INFO] Pełne dane dialogu:
[2025-05-18 17:54:05] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-sie-w-to-gra
    [question] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_task
                                            [condition] => is_not
                                            [mission_id] => 339
                                            [task_id] => jak-poruszac-sie-po-grze_0
                                            [status] => completed
                                        )

                                )

                        )

                    [anwser_text] => Jak poruszać się po grze?
                    [type_anwser] => 
                    [go_to_id] => jak-poruszac-sie-po-grze
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => test
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-18 17:54:05] [INFO] Odpowiedzi w dialogu:
[2025-05-18 17:54:05] [DATA] Array
(
    [0] => Array
        (
            [acf_fc_layout] => anwser
            [layout_settings] => Array
                (
                    [visibility_tab] => 
                    [logic_operator] => and
                    [visibility_settings] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => condition_task
                                    [condition] => is_not
                                    [mission_id] => 339
                                    [task_id] => jak-poruszac-sie-po-grze_0
                                    [status] => completed
                                )

                        )

                )

            [anwser_text] => Jak poruszać się po grze?
            [type_anwser] => 
            [go_to_id] => jak-poruszac-sie-po-grze
        )

    [1] => Array
        (
            [acf_fc_layout] => anwser
            [layout_settings] => Array
                (
                    [visibility_tab] => 
                    [logic_operator] => and
                    [visibility_settings] => 
                )

            [anwser_text] => test
            [type_anwser] => 
            [go_to_id] => 0
        )

)

[2025-05-18 17:54:05] [DEBUG] Znaleziono odpowiedź o indeksie: 0
[2025-05-18 17:54:05] [INFO] Dane odpowiedzi:
[2025-05-18 17:54:05] [DATA] Array
(
    [acf_fc_layout] => anwser
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => condition_task
                            [condition] => is_not
                            [mission_id] => 339
                            [task_id] => jak-poruszac-sie-po-grze_0
                            [status] => completed
                        )

                )

        )

    [anwser_text] => Jak poruszać się po grze?
    [type_anwser] => 
    [go_to_id] => jak-poruszac-sie-po-grze
)

[2025-05-18 17:54:05] [DEBUG] Odpowiedź NIE zawiera akcji type_anwser lub jest pusta
[2025-05-18 17:54:05] [INFO] DialogManager: Rozpoczynam filtrowanie odpowiedzi.
[2025-05-18 17:54:05] [DATA] Array
(
    [count_answers_before] => 7
    [context] => Array
        (
            [type_page] => 
            [location] => 
            [user_id] => 1
            [npc_id] => 449
        )

)

[2025-05-18 17:54:05] [INFO] DialogManager: Sprawdzanie odpowiedzi: acf_fc_layout
[2025-05-18 17:54:05] [DATA] Array
(
    [answer_data] => question
)

[2025-05-18 17:54:05] [DEBUG] DialogManager: Odpowiedź (acf_fc_layout) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:54:05] [INFO] DialogManager: Sprawdzanie odpowiedzi: layout_settings
[2025-05-18 17:54:05] [DATA] Array
(
    [answer_data] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

)

[2025-05-18 17:54:05] [DEBUG] DialogManager: Odpowiedź (layout_settings) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:54:05] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_toggle
[2025-05-18 17:54:05] [DATA] Array
(
    [answer_data] => 
)

[2025-05-18 17:54:05] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_toggle) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:54:05] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_layout_title
[2025-05-18 17:54:05] [DATA] Array
(
    [answer_data] => Dialog
)

[2025-05-18 17:54:05] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_layout_title) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:54:05] [INFO] DialogManager: Sprawdzanie odpowiedzi: id_pola
[2025-05-18 17:54:05] [DATA] Array
(
    [answer_data] => jak-poruszac-sie-po-grze
)

[2025-05-18 17:54:05] [DEBUG] DialogManager: Odpowiedź (id_pola) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:54:05] [INFO] DialogManager: Sprawdzanie odpowiedzi: question
[2025-05-18 17:54:05] [DATA] Array
(
    [answer_data] => <p><strong>Każda scena to jeden widok – jak kadr z życia</strong>. Na nim są miejsca, osoby i przedmioty, z którymi możesz wejść w interakcję. Biały kolor oznacza przejście do innej sceny. Możesz przejść z bramy na klatkę, z meliny do sklepu, z podwórka do innej dzielnicy. Te przejścia nie kosztują Cię nic energii.</p>
<p><strong>Niebieski kolor to akcje z otoczeniem. </strong>Grzebanie w śmietniku, kontenerze na ubrania, zaglądanie do kiosku, przeszukiwanie bagażnika, otwieranie skrytki – tutaj każda akcja kosztuje pewną ilość energii. <strong>Postacie mają kolorowe obwódki. Klikasz – zaczyna się rozmowa.</strong></p>
<ul>
<li>Zielony – lubią cię.</li>
<li>Czerwony – nie cierpią.</li>
<li>Pomarańczowy – neutralni, jeszcze nie wiedzą, co o tobie sądzić.</li>
</ul>
<p>Każda rozmowa może Ci coś dać – albo zabrać. Zależy, jak się zachowasz.</p>
<p>Czasem znajdziesz coś cennego. Czasem coś obrzydliwego. A czasem kogoś obudzisz. <strong>Pamiętaj – nie każde poruszanie się między widokami zużywa energę. </strong>Dopiero konkretne działania albo spacery po dzielnicach zabierają energię</p>

)

[2025-05-18 17:54:05] [DEBUG] DialogManager: Odpowiedź (question) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:54:05] [INFO] DialogManager: Sprawdzanie odpowiedzi: anwsers
[2025-05-18 17:54:05] [DATA] Array
(
    [answer_data] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => Okej, załapałem jak się poruszać
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => mission
                                    [acfe_flexible_toggle] => 
                                    [mission_id] => 339
                                    [mission_status] => in_progress
                                    [mission_task_id] => jak-poruszac-sie-po-grze_0
                                    [mission_task_status] => completed
                                )

                        )

                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-18 17:54:05] [DEBUG] DialogManager: Odpowiedź (anwsers) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:54:05] [INFO] DialogManager: Zakończono filtrowanie odpowiedzi.
[2025-05-18 17:54:05] [DATA] Array
(
    [count_answers_after] => 7
)

[2025-05-18 17:54:05] [INFO] Dialog po filtrowaniu:
[2025-05-18 17:54:05] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-poruszac-sie-po-grze
    [question] => <p><strong>Każda scena to jeden widok – jak kadr z życia</strong>. Na nim są miejsca, osoby i przedmioty, z którymi możesz wejść w interakcję. Biały kolor oznacza przejście do innej sceny. Możesz przejść z bramy na klatkę, z meliny do sklepu, z podwórka do innej dzielnicy. Te przejścia nie kosztują Cię nic energii.</p>
<p><strong>Niebieski kolor to akcje z otoczeniem. </strong>Grzebanie w śmietniku, kontenerze na ubrania, zaglądanie do kiosku, przeszukiwanie bagażnika, otwieranie skrytki – tutaj każda akcja kosztuje pewną ilość energii. <strong>Postacie mają kolorowe obwódki. Klikasz – zaczyna się rozmowa.</strong></p>
<ul>
<li>Zielony – lubią cię.</li>
<li>Czerwony – nie cierpią.</li>
<li>Pomarańczowy – neutralni, jeszcze nie wiedzą, co o tobie sądzić.</li>
</ul>
<p>Każda rozmowa może Ci coś dać – albo zabrać. Zależy, jak się zachowasz.</p>
<p>Czasem znajdziesz coś cennego. Czasem coś obrzydliwego. A czasem kogoś obudzisz. <strong>Pamiętaj – nie każde poruszanie się między widokami zużywa energę. </strong>Dopiero konkretne działania albo spacery po dzielnicach zabierają energię</p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => Okej, załapałem jak się poruszać
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => mission
                                    [acfe_flexible_toggle] => 
                                    [mission_id] => 339
                                    [mission_status] => in_progress
                                    [mission_task_id] => jak-poruszac-sie-po-grze_0
                                    [mission_task_status] => completed
                                )

                        )

                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-18 17:54:05] [INFO] Dane odpowiedzi:
[2025-05-18 17:54:05] [DATA] Array
(
    [success] => 1
    [dialog] => Array
        (
            [id] => jak-poruszac-sie-po-grze
            [text] => <p><strong>Każda scena to jeden widok – jak kadr z życia</strong>. Na nim są miejsca, osoby i przedmioty, z którymi możesz wejść w interakcję. Biały kolor oznacza przejście do innej sceny. Możesz przejść z bramy na klatkę, z meliny do sklepu, z podwórka do innej dzielnicy. Te przejścia nie kosztują Cię nic energii.</p>
<p><strong>Niebieski kolor to akcje z otoczeniem. </strong>Grzebanie w śmietniku, kontenerze na ubrania, zaglądanie do kiosku, przeszukiwanie bagażnika, otwieranie skrytki – tutaj każda akcja kosztuje pewną ilość energii. <strong>Postacie mają kolorowe obwódki. Klikasz – zaczyna się rozmowa.</strong></p>
<ul>
<li>Zielony – lubią cię.</li>
<li>Czerwony – nie cierpią.</li>
<li>Pomarańczowy – neutralni, jeszcze nie wiedzą, co o tobie sądzić.</li>
</ul>
<p>Każda rozmowa może Ci coś dać – albo zabrać. Zależy, jak się zachowasz.</p>
<p>Czasem znajdziesz coś cennego. Czasem coś obrzydliwego. A czasem kogoś obudzisz. <strong>Pamiętaj – nie każde poruszanie się między widokami zużywa energę. </strong>Dopiero konkretne działania albo spacery po dzielnicach zabierają energię</p>

            [answers] => Array
                (
                    [0] => Array
                        (
                            [id] => 
                            [text] => Okej, załapałem jak się poruszać
                            [next_dialog] => jak-sie-w-to-gra
                        )

                )

        )

    [npc] => Array
        (
            [id] => 449
            [name] => Papuga
            [image] => http://seb.soeasy.it/wp-content/uploads/2025/05/papuga_new.png
        )

)

[2025-05-18 17:54:05] [DEBUG] ===== ZAKOŃCZENIE PRZETWARZANIA ŻĄDANIA DIALOGU =====
[2025-05-18 17:54:58] [INFO] get_first_matching_dialog: Found matching dialog
[2025-05-18 17:54:58] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => condition_task
                            [condition] => is
                            [mission_id] => 339
                            [task_id] => jak-poruszac-sie-po-grze_0
                            [status] => completed
                        )

                )

        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => przy-wiezieniu
    [question] => <p>– No to jesteśmy &#8211; z celi wyszedłeś, <strong>ale do świata Sebastianowa dopiero wchodzisz.</strong><br />
Może Ci się wydaje, że jesteś kimś, że Twoja historia się liczy, że coś ci się należy &#8211; bo miałeś ciężko. To posłuchaj uważnie, zanim się zgubisz między trzepakiem a meliną: <strong>Jesteś jednym z wielu</strong>, co myślą, że jak przetrwali jedną noc na dołku, to teraz świat ich powita z otwartymi ramionami.</p>
<p>Jestem Papuga. To ja otworzyłem ci drzwi. Nie z litości, nie z sympatii. Chcę po prostu zobaczyć, co zrobisz, kiedy w końcu przestanie być łatwo.</p>
<p>Bo w Sebastianowie nic nie jest za darmo. Respekt buduje się decyzjami. A każda z nich zostawia ślad – na tobie albo na kimś innym. <strong>Masz pytania? Pytaj – zanim przestanie to być możliwe.</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_npc_relation
                                            [condition] => is_not_known
                                            [npc_id] => 449
                                            [relation_value] => 50
                                        )

                                )

                        )

                    [anwser_text] => Jak się w to w ogóle gra?
                    [type_anwser] => 
                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-18 17:54:58] [INFO] Filtered dialog
[2025-05-18 17:54:58] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => condition_task
                            [condition] => is
                            [mission_id] => 339
                            [task_id] => jak-poruszac-sie-po-grze_0
                            [status] => completed
                        )

                )

        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => przy-wiezieniu
    [question] => <p>– No to jesteśmy &#8211; z celi wyszedłeś, <strong>ale do świata Sebastianowa dopiero wchodzisz.</strong><br />
Może Ci się wydaje, że jesteś kimś, że Twoja historia się liczy, że coś ci się należy &#8211; bo miałeś ciężko. To posłuchaj uważnie, zanim się zgubisz między trzepakiem a meliną: <strong>Jesteś jednym z wielu</strong>, co myślą, że jak przetrwali jedną noc na dołku, to teraz świat ich powita z otwartymi ramionami.</p>
<p>Jestem Papuga. To ja otworzyłem ci drzwi. Nie z litości, nie z sympatii. Chcę po prostu zobaczyć, co zrobisz, kiedy w końcu przestanie być łatwo.</p>
<p>Bo w Sebastianowie nic nie jest za darmo. Respekt buduje się decyzjami. A każda z nich zostawia ślad – na tobie albo na kimś innym. <strong>Masz pytania? Pytaj – zanim przestanie to być możliwe.</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_npc_relation
                                            [condition] => is_not_known
                                            [npc_id] => 449
                                            [relation_value] => 50
                                        )

                                )

                        )

                    [anwser_text] => Jak się w to w ogóle gra?
                    [type_anwser] => 
                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-18 17:54:59] [INFO] WSZYSTKIE DANE ŻĄDANIA:
[2025-05-18 17:54:59] [DATA] Array
(
    [page_data] => Array
        (
        )

    [npc_id] => 449
    [dialog_id] => jak-sie-w-to-gra
    [current_url] => http://seb.soeasy.it/tereny/park/
    [user_id] => 1
    [answer_id] => answer-0
    [answer_index] => 0
    [current_dialog_id] => przy-wiezieniu
)

[2025-05-18 17:54:59] [INFO] Wyodrębnione dane lokalizacji:
[2025-05-18 17:54:59] [DATA] Array
(
    [location] => Array
        (
            [area_slug] => park
            [area_name] => Park
            [area_id] => 207
        )

    [type_page] => 
    [location_value] => 
)

[2025-05-18 17:54:59] [DEBUG] ROZPOCZYNAM PRZETWARZANIE PRZYCISKÓW ODPOWIEDZI
[2025-05-18 17:54:59] [DEBUG] Znaleziono dialog o ID: przy-wiezieniu
[2025-05-18 17:54:59] [DEBUG] Znaleziono poprzedni dialog ID: przy-wiezieniu
[2025-05-18 17:54:59] [INFO] Pełne dane dialogu:
[2025-05-18 17:54:59] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => condition_task
                            [condition] => is
                            [mission_id] => 339
                            [task_id] => jak-poruszac-sie-po-grze_0
                            [status] => completed
                        )

                )

        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => przy-wiezieniu
    [question] => <p>– No to jesteśmy &#8211; z celi wyszedłeś, <strong>ale do świata Sebastianowa dopiero wchodzisz.</strong><br />
Może Ci się wydaje, że jesteś kimś, że Twoja historia się liczy, że coś ci się należy &#8211; bo miałeś ciężko. To posłuchaj uważnie, zanim się zgubisz między trzepakiem a meliną: <strong>Jesteś jednym z wielu</strong>, co myślą, że jak przetrwali jedną noc na dołku, to teraz świat ich powita z otwartymi ramionami.</p>
<p>Jestem Papuga. To ja otworzyłem ci drzwi. Nie z litości, nie z sympatii. Chcę po prostu zobaczyć, co zrobisz, kiedy w końcu przestanie być łatwo.</p>
<p>Bo w Sebastianowie nic nie jest za darmo. Respekt buduje się decyzjami. A każda z nich zostawia ślad – na tobie albo na kimś innym. <strong>Masz pytania? Pytaj – zanim przestanie to być możliwe.</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_npc_relation
                                            [condition] => is_not_known
                                            [npc_id] => 449
                                            [relation_value] => 50
                                        )

                                )

                        )

                    [anwser_text] => Jak się w to w ogóle gra?
                    [type_anwser] => 
                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-18 17:54:59] [INFO] Odpowiedzi w dialogu:
[2025-05-18 17:54:59] [DATA] Array
(
    [0] => Array
        (
            [acf_fc_layout] => anwser
            [layout_settings] => Array
                (
                    [visibility_tab] => 
                    [logic_operator] => and
                    [visibility_settings] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => condition_npc_relation
                                    [condition] => is_not_known
                                    [npc_id] => 449
                                    [relation_value] => 50
                                )

                        )

                )

            [anwser_text] => Jak się w to w ogóle gra?
            [type_anwser] => 
            [go_to_id] => jak-sie-w-to-gra
        )

)

[2025-05-18 17:54:59] [DEBUG] Znaleziono odpowiedź o indeksie: 0
[2025-05-18 17:54:59] [INFO] Dane odpowiedzi:
[2025-05-18 17:54:59] [DATA] Array
(
    [acf_fc_layout] => anwser
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => condition_npc_relation
                            [condition] => is_not_known
                            [npc_id] => 449
                            [relation_value] => 50
                        )

                )

        )

    [anwser_text] => Jak się w to w ogóle gra?
    [type_anwser] => 
    [go_to_id] => jak-sie-w-to-gra
)

[2025-05-18 17:54:59] [DEBUG] Odpowiedź NIE zawiera akcji type_anwser lub jest pusta
[2025-05-18 17:54:59] [INFO] DialogManager: Rozpoczynam filtrowanie odpowiedzi.
[2025-05-18 17:54:59] [DATA] Array
(
    [count_answers_before] => 7
    [context] => Array
        (
            [type_page] => 
            [location] => 
            [user_id] => 1
            [npc_id] => 449
        )

)

[2025-05-18 17:54:59] [INFO] DialogManager: Sprawdzanie odpowiedzi: acf_fc_layout
[2025-05-18 17:54:59] [DATA] Array
(
    [answer_data] => question
)

[2025-05-18 17:54:59] [DEBUG] DialogManager: Odpowiedź (acf_fc_layout) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:54:59] [INFO] DialogManager: Sprawdzanie odpowiedzi: layout_settings
[2025-05-18 17:54:59] [DATA] Array
(
    [answer_data] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

)

[2025-05-18 17:54:59] [DEBUG] DialogManager: Odpowiedź (layout_settings) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:54:59] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_toggle
[2025-05-18 17:54:59] [DATA] Array
(
    [answer_data] => 
)

[2025-05-18 17:54:59] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_toggle) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:54:59] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_layout_title
[2025-05-18 17:54:59] [DATA] Array
(
    [answer_data] => Dialog
)

[2025-05-18 17:54:59] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_layout_title) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:54:59] [INFO] DialogManager: Sprawdzanie odpowiedzi: id_pola
[2025-05-18 17:54:59] [DATA] Array
(
    [answer_data] => jak-sie-w-to-gra
)

[2025-05-18 17:54:59] [DEBUG] DialogManager: Odpowiedź (id_pola) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:54:59] [INFO] DialogManager: Sprawdzanie odpowiedzi: question
[2025-05-18 17:54:59] [DATA] Array
(
    [answer_data] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

)

[2025-05-18 17:54:59] [DEBUG] DialogManager: Odpowiedź (question) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:54:59] [INFO] DialogManager: Sprawdzanie odpowiedzi: anwsers
[2025-05-18 17:54:59] [DATA] Array
(
    [answer_data] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_task
                                            [condition] => is_not
                                            [mission_id] => 339
                                            [task_id] => jak-poruszac-sie-po-grze_0
                                            [status] => completed
                                        )

                                )

                        )

                    [anwser_text] => Jak poruszać się po grze?
                    [type_anwser] => 
                    [go_to_id] => jak-poruszac-sie-po-grze
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => test
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-18 17:54:59] [DEBUG] DialogManager: Odpowiedź (anwsers) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:54:59] [INFO] DialogManager: Zakończono filtrowanie odpowiedzi.
[2025-05-18 17:54:59] [DATA] Array
(
    [count_answers_after] => 7
)

[2025-05-18 17:54:59] [INFO] Dialog po filtrowaniu:
[2025-05-18 17:54:59] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-sie-w-to-gra
    [question] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_task
                                            [condition] => is_not
                                            [mission_id] => 339
                                            [task_id] => jak-poruszac-sie-po-grze_0
                                            [status] => completed
                                        )

                                )

                        )

                    [anwser_text] => Jak poruszać się po grze?
                    [type_anwser] => 
                    [go_to_id] => jak-poruszac-sie-po-grze
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => test
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-18 17:54:59] [INFO] Dane odpowiedzi:
[2025-05-18 17:54:59] [DATA] Array
(
    [success] => 1
    [dialog] => Array
        (
            [id] => jak-sie-w-to-gra
            [text] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

            [answers] => Array
                (
                    [0] => Array
                        (
                            [id] => 
                            [text] => Jak poruszać się po grze?
                            [next_dialog] => jak-poruszac-sie-po-grze
                        )

                    [1] => Array
                        (
                            [id] => 
                            [text] => test
                            [next_dialog] => 0
                        )

                )

        )

    [npc] => Array
        (
            [id] => 449
            [name] => Papuga
            [image] => http://seb.soeasy.it/wp-content/uploads/2025/05/papuga_new.png
        )

)

[2025-05-18 17:54:59] [DEBUG] ===== ZAKOŃCZENIE PRZETWARZANIA ŻĄDANIA DIALOGU =====
[2025-05-18 17:55:00] [INFO] WSZYSTKIE DANE ŻĄDANIA:
[2025-05-18 17:55:00] [DATA] Array
(
    [page_data] => Array
        (
        )

    [npc_id] => 449
    [dialog_id] => jak-poruszac-sie-po-grze
    [current_url] => http://seb.soeasy.it/tereny/park/
    [user_id] => 1
    [answer_id] => answer-0
    [answer_index] => 0
    [current_dialog_id] => jak-sie-w-to-gra
)

[2025-05-18 17:55:00] [INFO] Wyodrębnione dane lokalizacji:
[2025-05-18 17:55:00] [DATA] Array
(
    [location] => Array
        (
            [area_slug] => park
            [area_name] => Park
            [area_id] => 207
        )

    [type_page] => 
    [location_value] => 
)

[2025-05-18 17:55:00] [DEBUG] ROZPOCZYNAM PRZETWARZANIE PRZYCISKÓW ODPOWIEDZI
[2025-05-18 17:55:00] [DEBUG] Znaleziono dialog o ID: jak-sie-w-to-gra
[2025-05-18 17:55:00] [DEBUG] Znaleziono poprzedni dialog ID: jak-sie-w-to-gra
[2025-05-18 17:55:00] [INFO] Pełne dane dialogu:
[2025-05-18 17:55:00] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-sie-w-to-gra
    [question] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_task
                                            [condition] => is_not
                                            [mission_id] => 339
                                            [task_id] => jak-poruszac-sie-po-grze_0
                                            [status] => completed
                                        )

                                )

                        )

                    [anwser_text] => Jak poruszać się po grze?
                    [type_anwser] => 
                    [go_to_id] => jak-poruszac-sie-po-grze
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => test
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-18 17:55:00] [INFO] Odpowiedzi w dialogu:
[2025-05-18 17:55:00] [DATA] Array
(
    [0] => Array
        (
            [acf_fc_layout] => anwser
            [layout_settings] => Array
                (
                    [visibility_tab] => 
                    [logic_operator] => and
                    [visibility_settings] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => condition_task
                                    [condition] => is_not
                                    [mission_id] => 339
                                    [task_id] => jak-poruszac-sie-po-grze_0
                                    [status] => completed
                                )

                        )

                )

            [anwser_text] => Jak poruszać się po grze?
            [type_anwser] => 
            [go_to_id] => jak-poruszac-sie-po-grze
        )

    [1] => Array
        (
            [acf_fc_layout] => anwser
            [layout_settings] => Array
                (
                    [visibility_tab] => 
                    [logic_operator] => and
                    [visibility_settings] => 
                )

            [anwser_text] => test
            [type_anwser] => 
            [go_to_id] => 0
        )

)

[2025-05-18 17:55:00] [DEBUG] Znaleziono odpowiedź o indeksie: 0
[2025-05-18 17:55:00] [INFO] Dane odpowiedzi:
[2025-05-18 17:55:00] [DATA] Array
(
    [acf_fc_layout] => anwser
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => condition_task
                            [condition] => is_not
                            [mission_id] => 339
                            [task_id] => jak-poruszac-sie-po-grze_0
                            [status] => completed
                        )

                )

        )

    [anwser_text] => Jak poruszać się po grze?
    [type_anwser] => 
    [go_to_id] => jak-poruszac-sie-po-grze
)

[2025-05-18 17:55:00] [DEBUG] Odpowiedź NIE zawiera akcji type_anwser lub jest pusta
[2025-05-18 17:55:00] [INFO] DialogManager: Rozpoczynam filtrowanie odpowiedzi.
[2025-05-18 17:55:00] [DATA] Array
(
    [count_answers_before] => 7
    [context] => Array
        (
            [type_page] => 
            [location] => 
            [user_id] => 1
            [npc_id] => 449
        )

)

[2025-05-18 17:55:00] [INFO] DialogManager: Sprawdzanie odpowiedzi: acf_fc_layout
[2025-05-18 17:55:00] [DATA] Array
(
    [answer_data] => question
)

[2025-05-18 17:55:00] [DEBUG] DialogManager: Odpowiedź (acf_fc_layout) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:55:00] [INFO] DialogManager: Sprawdzanie odpowiedzi: layout_settings
[2025-05-18 17:55:00] [DATA] Array
(
    [answer_data] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

)

[2025-05-18 17:55:00] [DEBUG] DialogManager: Odpowiedź (layout_settings) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:55:00] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_toggle
[2025-05-18 17:55:00] [DATA] Array
(
    [answer_data] => 
)

[2025-05-18 17:55:00] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_toggle) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:55:00] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_layout_title
[2025-05-18 17:55:00] [DATA] Array
(
    [answer_data] => Dialog
)

[2025-05-18 17:55:00] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_layout_title) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:55:00] [INFO] DialogManager: Sprawdzanie odpowiedzi: id_pola
[2025-05-18 17:55:00] [DATA] Array
(
    [answer_data] => jak-poruszac-sie-po-grze
)

[2025-05-18 17:55:00] [DEBUG] DialogManager: Odpowiedź (id_pola) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:55:00] [INFO] DialogManager: Sprawdzanie odpowiedzi: question
[2025-05-18 17:55:00] [DATA] Array
(
    [answer_data] => <p><strong>Każda scena to jeden widok – jak kadr z życia</strong>. Na nim są miejsca, osoby i przedmioty, z którymi możesz wejść w interakcję. Biały kolor oznacza przejście do innej sceny. Możesz przejść z bramy na klatkę, z meliny do sklepu, z podwórka do innej dzielnicy. Te przejścia nie kosztują Cię nic energii.</p>
<p><strong>Niebieski kolor to akcje z otoczeniem. </strong>Grzebanie w śmietniku, kontenerze na ubrania, zaglądanie do kiosku, przeszukiwanie bagażnika, otwieranie skrytki – tutaj każda akcja kosztuje pewną ilość energii. <strong>Postacie mają kolorowe obwódki. Klikasz – zaczyna się rozmowa.</strong></p>
<ul>
<li>Zielony – lubią cię.</li>
<li>Czerwony – nie cierpią.</li>
<li>Pomarańczowy – neutralni, jeszcze nie wiedzą, co o tobie sądzić.</li>
</ul>
<p>Każda rozmowa może Ci coś dać – albo zabrać. Zależy, jak się zachowasz.</p>
<p>Czasem znajdziesz coś cennego. Czasem coś obrzydliwego. A czasem kogoś obudzisz. <strong>Pamiętaj – nie każde poruszanie się między widokami zużywa energę. </strong>Dopiero konkretne działania albo spacery po dzielnicach zabierają energię</p>

)

[2025-05-18 17:55:00] [DEBUG] DialogManager: Odpowiedź (question) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:55:00] [INFO] DialogManager: Sprawdzanie odpowiedzi: anwsers
[2025-05-18 17:55:00] [DATA] Array
(
    [answer_data] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => Okej, załapałem jak się poruszać
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => mission
                                    [acfe_flexible_toggle] => 
                                    [mission_id] => 339
                                    [mission_status] => in_progress
                                    [mission_task_id] => jak-poruszac-sie-po-grze_0
                                    [mission_task_status] => completed
                                )

                        )

                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-18 17:55:00] [DEBUG] DialogManager: Odpowiedź (anwsers) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:55:00] [INFO] DialogManager: Zakończono filtrowanie odpowiedzi.
[2025-05-18 17:55:00] [DATA] Array
(
    [count_answers_after] => 7
)

[2025-05-18 17:55:00] [INFO] Dialog po filtrowaniu:
[2025-05-18 17:55:00] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-poruszac-sie-po-grze
    [question] => <p><strong>Każda scena to jeden widok – jak kadr z życia</strong>. Na nim są miejsca, osoby i przedmioty, z którymi możesz wejść w interakcję. Biały kolor oznacza przejście do innej sceny. Możesz przejść z bramy na klatkę, z meliny do sklepu, z podwórka do innej dzielnicy. Te przejścia nie kosztują Cię nic energii.</p>
<p><strong>Niebieski kolor to akcje z otoczeniem. </strong>Grzebanie w śmietniku, kontenerze na ubrania, zaglądanie do kiosku, przeszukiwanie bagażnika, otwieranie skrytki – tutaj każda akcja kosztuje pewną ilość energii. <strong>Postacie mają kolorowe obwódki. Klikasz – zaczyna się rozmowa.</strong></p>
<ul>
<li>Zielony – lubią cię.</li>
<li>Czerwony – nie cierpią.</li>
<li>Pomarańczowy – neutralni, jeszcze nie wiedzą, co o tobie sądzić.</li>
</ul>
<p>Każda rozmowa może Ci coś dać – albo zabrać. Zależy, jak się zachowasz.</p>
<p>Czasem znajdziesz coś cennego. Czasem coś obrzydliwego. A czasem kogoś obudzisz. <strong>Pamiętaj – nie każde poruszanie się między widokami zużywa energę. </strong>Dopiero konkretne działania albo spacery po dzielnicach zabierają energię</p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => Okej, załapałem jak się poruszać
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => mission
                                    [acfe_flexible_toggle] => 
                                    [mission_id] => 339
                                    [mission_status] => in_progress
                                    [mission_task_id] => jak-poruszac-sie-po-grze_0
                                    [mission_task_status] => completed
                                )

                        )

                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-18 17:55:00] [INFO] Dane odpowiedzi:
[2025-05-18 17:55:00] [DATA] Array
(
    [success] => 1
    [dialog] => Array
        (
            [id] => jak-poruszac-sie-po-grze
            [text] => <p><strong>Każda scena to jeden widok – jak kadr z życia</strong>. Na nim są miejsca, osoby i przedmioty, z którymi możesz wejść w interakcję. Biały kolor oznacza przejście do innej sceny. Możesz przejść z bramy na klatkę, z meliny do sklepu, z podwórka do innej dzielnicy. Te przejścia nie kosztują Cię nic energii.</p>
<p><strong>Niebieski kolor to akcje z otoczeniem. </strong>Grzebanie w śmietniku, kontenerze na ubrania, zaglądanie do kiosku, przeszukiwanie bagażnika, otwieranie skrytki – tutaj każda akcja kosztuje pewną ilość energii. <strong>Postacie mają kolorowe obwódki. Klikasz – zaczyna się rozmowa.</strong></p>
<ul>
<li>Zielony – lubią cię.</li>
<li>Czerwony – nie cierpią.</li>
<li>Pomarańczowy – neutralni, jeszcze nie wiedzą, co o tobie sądzić.</li>
</ul>
<p>Każda rozmowa może Ci coś dać – albo zabrać. Zależy, jak się zachowasz.</p>
<p>Czasem znajdziesz coś cennego. Czasem coś obrzydliwego. A czasem kogoś obudzisz. <strong>Pamiętaj – nie każde poruszanie się między widokami zużywa energę. </strong>Dopiero konkretne działania albo spacery po dzielnicach zabierają energię</p>

            [answers] => Array
                (
                    [0] => Array
                        (
                            [id] => 
                            [text] => Okej, załapałem jak się poruszać
                            [next_dialog] => jak-sie-w-to-gra
                        )

                )

        )

    [npc] => Array
        (
            [id] => 449
            [name] => Papuga
            [image] => http://seb.soeasy.it/wp-content/uploads/2025/05/papuga_new.png
        )

)

[2025-05-18 17:55:00] [DEBUG] ===== ZAKOŃCZENIE PRZETWARZANIA ŻĄDANIA DIALOGU =====
[2025-05-18 17:55:27] [INFO] WSZYSTKIE DANE ŻĄDANIA:
[2025-05-18 17:55:27] [DATA] Array
(
    [page_data] => Array
        (
        )

    [npc_id] => 449
    [dialog_id] => jak-sie-w-to-gra
    [current_url] => http://seb.soeasy.it/tereny/park/
    [user_id] => 1
    [answer_id] => answer-0
    [answer_index] => 0
    [current_dialog_id] => jak-poruszac-sie-po-grze
)

[2025-05-18 17:55:27] [INFO] Wyodrębnione dane lokalizacji:
[2025-05-18 17:55:27] [DATA] Array
(
    [location] => Array
        (
            [area_slug] => park
            [area_name] => Park
            [area_id] => 207
        )

    [type_page] => 
    [location_value] => 
)

[2025-05-18 17:55:27] [DEBUG] ROZPOCZYNAM PRZETWARZANIE PRZYCISKÓW ODPOWIEDZI
[2025-05-18 17:55:27] [DEBUG] Znaleziono dialog o ID: jak-poruszac-sie-po-grze
[2025-05-18 17:55:27] [DEBUG] Znaleziono poprzedni dialog ID: jak-poruszac-sie-po-grze
[2025-05-18 17:55:27] [INFO] Pełne dane dialogu:
[2025-05-18 17:55:27] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-poruszac-sie-po-grze
    [question] => <p><strong>Każda scena to jeden widok – jak kadr z życia</strong>. Na nim są miejsca, osoby i przedmioty, z którymi możesz wejść w interakcję. Biały kolor oznacza przejście do innej sceny. Możesz przejść z bramy na klatkę, z meliny do sklepu, z podwórka do innej dzielnicy. Te przejścia nie kosztują Cię nic energii.</p>
<p><strong>Niebieski kolor to akcje z otoczeniem. </strong>Grzebanie w śmietniku, kontenerze na ubrania, zaglądanie do kiosku, przeszukiwanie bagażnika, otwieranie skrytki – tutaj każda akcja kosztuje pewną ilość energii. <strong>Postacie mają kolorowe obwódki. Klikasz – zaczyna się rozmowa.</strong></p>
<ul>
<li>Zielony – lubią cię.</li>
<li>Czerwony – nie cierpią.</li>
<li>Pomarańczowy – neutralni, jeszcze nie wiedzą, co o tobie sądzić.</li>
</ul>
<p>Każda rozmowa może Ci coś dać – albo zabrać. Zależy, jak się zachowasz.</p>
<p>Czasem znajdziesz coś cennego. Czasem coś obrzydliwego. A czasem kogoś obudzisz. <strong>Pamiętaj – nie każde poruszanie się między widokami zużywa energę. </strong>Dopiero konkretne działania albo spacery po dzielnicach zabierają energię</p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => Okej, załapałem jak się poruszać
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => mission
                                    [acfe_flexible_toggle] => 
                                    [mission_id] => 339
                                    [mission_status] => in_progress
                                    [mission_task_id] => jak-poruszac-sie-po-grze_0
                                    [mission_task_status] => completed
                                )

                        )

                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-18 17:55:27] [INFO] Odpowiedzi w dialogu:
[2025-05-18 17:55:27] [DATA] Array
(
    [0] => Array
        (
            [acf_fc_layout] => anwser
            [layout_settings] => Array
                (
                    [visibility_tab] => 
                    [logic_operator] => and
                    [visibility_settings] => 
                )

            [anwser_text] => Okej, załapałem jak się poruszać
            [type_anwser] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => mission
                            [acfe_flexible_toggle] => 
                            [mission_id] => 339
                            [mission_status] => in_progress
                            [mission_task_id] => jak-poruszac-sie-po-grze_0
                            [mission_task_status] => completed
                        )

                )

            [go_to_id] => jak-sie-w-to-gra
        )

)

[2025-05-18 17:55:27] [DEBUG] Znaleziono odpowiedź o indeksie: 0
[2025-05-18 17:55:27] [INFO] Dane odpowiedzi:
[2025-05-18 17:55:27] [DATA] Array
(
    [acf_fc_layout] => anwser
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [anwser_text] => Okej, załapałem jak się poruszać
    [type_anwser] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => mission
                    [acfe_flexible_toggle] => 
                    [mission_id] => 339
                    [mission_status] => in_progress
                    [mission_task_id] => jak-poruszac-sie-po-grze_0
                    [mission_task_status] => completed
                )

        )

    [go_to_id] => jak-sie-w-to-gra
)

[2025-05-18 17:55:27] [INFO] Odpowiedź zawiera akcje do wykonania:
[2025-05-18 17:55:27] [DATA] Array
(
    [0] => Array
        (
            [acf_fc_layout] => mission
            [acfe_flexible_toggle] => 
            [mission_id] => 339
            [mission_status] => in_progress
            [mission_task_id] => jak-poruszac-sie-po-grze_0
            [mission_task_status] => completed
        )

)

[2025-05-18 17:55:27] [INFO] Weryfikacja akcji:
[2025-05-18 17:55:27] [DATA] Array
(
    [acf_fc_layout] => mission
    [acfe_flexible_toggle] => 
    [mission_id] => 339
    [mission_status] => in_progress
    [mission_task_id] => jak-poruszac-sie-po-grze_0
    [mission_task_status] => completed
)

[2025-05-18 17:55:27] [DEBUG] WSZYSTKIE AKCJE SĄ WYKONALNE, PRZYSTĘPUJĘ DO ICH REALIZACJI
[2025-05-18 17:55:27] [INFO] Przetwarzanie akcji:
[2025-05-18 17:55:27] [DATA] Array
(
    [acf_fc_layout] => mission
    [acfe_flexible_toggle] => 
    [mission_id] => 339
    [mission_status] => in_progress
    [mission_task_id] => jak-poruszac-sie-po-grze_0
    [mission_task_status] => completed
)

[2025-05-18 17:55:27] [DEBUG] Typ akcji: mission
[2025-05-18 17:55:27] [DEBUG] Wykonuję akcję misji: mission_id=339, status=in_progress, task_id=jak-poruszac-sie-po-grze_0, task_status=completed, npc_id=449
[2025-05-18 17:55:27] [INFO] Aktualny stan misji użytkownika:
[2025-05-18 17:55:27] [DATA] Array
(
    [status] => in_progress
    [assigned_date] => 2025-04-29 18:04:25
    [completion_date] => 2025-05-15 18:20:13
    [tasks] => Array
        (
            [jak-poruszac-sie-po-grze_0] => completed
            [jak-sie-tu-poruszac_1] => not_started
        )

)

[2025-05-18 17:55:27] [DEBUG] Zaktualizowano status misji 'Przejdź samouczek' z 'in_progress' na 'in_progress'
[2025-05-18 17:55:27] [DEBUG] Zaktualizowano status standardowego zadania 'jak-poruszac-sie-po-grze_0' z 'completed' na 'completed'
[2025-05-18 17:55:27] [DEBUG] Misja nie wymaga aktualizacji - dane nie uległy zmianie
[2025-05-18 17:55:27] [INFO] Utworzono powiadomienie dla misji:
[2025-05-18 17:55:27] [DATA] Array
(
    [message] => Ukończono zadanie: jak-poruszac-sie-po-grze
    [status] => success
)

[2025-05-18 17:55:27] [INFO] DialogManager: Rozpoczynam filtrowanie odpowiedzi.
[2025-05-18 17:55:27] [DATA] Array
(
    [count_answers_before] => 7
    [context] => Array
        (
            [type_page] => 
            [location] => 
            [user_id] => 1
            [npc_id] => 449
        )

)

[2025-05-18 17:55:27] [INFO] DialogManager: Sprawdzanie odpowiedzi: acf_fc_layout
[2025-05-18 17:55:27] [DATA] Array
(
    [answer_data] => question
)

[2025-05-18 17:55:27] [DEBUG] DialogManager: Odpowiedź (acf_fc_layout) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:55:27] [INFO] DialogManager: Sprawdzanie odpowiedzi: layout_settings
[2025-05-18 17:55:27] [DATA] Array
(
    [answer_data] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

)

[2025-05-18 17:55:27] [DEBUG] DialogManager: Odpowiedź (layout_settings) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:55:27] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_toggle
[2025-05-18 17:55:27] [DATA] Array
(
    [answer_data] => 
)

[2025-05-18 17:55:27] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_toggle) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:55:27] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_layout_title
[2025-05-18 17:55:27] [DATA] Array
(
    [answer_data] => Dialog
)

[2025-05-18 17:55:27] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_layout_title) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:55:27] [INFO] DialogManager: Sprawdzanie odpowiedzi: id_pola
[2025-05-18 17:55:27] [DATA] Array
(
    [answer_data] => jak-sie-w-to-gra
)

[2025-05-18 17:55:27] [DEBUG] DialogManager: Odpowiedź (id_pola) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:55:27] [INFO] DialogManager: Sprawdzanie odpowiedzi: question
[2025-05-18 17:55:27] [DATA] Array
(
    [answer_data] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

)

[2025-05-18 17:55:27] [DEBUG] DialogManager: Odpowiedź (question) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:55:27] [INFO] DialogManager: Sprawdzanie odpowiedzi: anwsers
[2025-05-18 17:55:27] [DATA] Array
(
    [answer_data] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_task
                                            [condition] => is_not
                                            [mission_id] => 339
                                            [task_id] => jak-poruszac-sie-po-grze_0
                                            [status] => completed
                                        )

                                )

                        )

                    [anwser_text] => Jak poruszać się po grze?
                    [type_anwser] => 
                    [go_to_id] => jak-poruszac-sie-po-grze
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => test
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-18 17:55:27] [DEBUG] DialogManager: Odpowiedź (anwsers) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:55:27] [INFO] DialogManager: Zakończono filtrowanie odpowiedzi.
[2025-05-18 17:55:27] [DATA] Array
(
    [count_answers_after] => 7
)

[2025-05-18 17:55:27] [INFO] Dialog po filtrowaniu:
[2025-05-18 17:55:27] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-sie-w-to-gra
    [question] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_task
                                            [condition] => is_not
                                            [mission_id] => 339
                                            [task_id] => jak-poruszac-sie-po-grze_0
                                            [status] => completed
                                        )

                                )

                        )

                    [anwser_text] => Jak poruszać się po grze?
                    [type_anwser] => 
                    [go_to_id] => jak-poruszac-sie-po-grze
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => test
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-18 17:55:27] [INFO] Dodano powiadomienie do odpowiedzi:
[2025-05-18 17:55:27] [DATA] Array
(
    [message] => Ukończono zadanie: jak-poruszac-sie-po-grze
    [status] => success
)

[2025-05-18 17:55:27] [INFO] Dane odpowiedzi:
[2025-05-18 17:55:27] [DATA] Array
(
    [success] => 1
    [dialog] => Array
        (
            [id] => jak-sie-w-to-gra
            [text] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

            [answers] => Array
                (
                    [0] => Array
                        (
                            [id] => 
                            [text] => Jak poruszać się po grze?
                            [next_dialog] => jak-poruszac-sie-po-grze
                        )

                    [1] => Array
                        (
                            [id] => 
                            [text] => test
                            [next_dialog] => 0
                        )

                )

        )

    [npc] => Array
        (
            [id] => 449
            [name] => Papuga
            [image] => http://seb.soeasy.it/wp-content/uploads/2025/05/papuga_new.png
        )

    [notification] => Array
        (
            [message] => Ukończono zadanie: jak-poruszac-sie-po-grze
            [status] => success
        )

)

[2025-05-18 17:55:27] [DEBUG] ===== ZAKOŃCZENIE PRZETWARZANIA ŻĄDANIA DIALOGU =====
[2025-05-18 17:55:27] [DEBUG] Obsługa żądania danych użytkownika ID: 1
[2025-05-18 17:55:27] [INFO] Pobrano dane plecaka użytkownika:
[2025-05-18 17:55:27] [DATA] Array
(
    [gold] => 100
    [cigarettes] => 31
)

[2025-05-18 17:55:27] [INFO] Pobrano dane witalności użytkownika:
[2025-05-18 17:55:27] [DATA] Array
(
    [life] => 80
    [max_life] => 100
    [energy] => 70
    [max_energy] => 100
)

[2025-05-18 17:55:27] [INFO] Zwracam dane użytkownika:
[2025-05-18 17:55:27] [DATA] Array
(
    [success] => 1
    [message] => Dane użytkownika pobrane pomyślnie
    [data] => Array
        (
            [backpack] => Array
                (
                    [gold] => 100
                    [cigarettes] => 31
                )

            [vitality] => Array
                (
                    [life] => 80
                    [max_life] => 100
                    [energy] => 70
                    [max_energy] => 100
                )

        )

)

[2025-05-18 17:55:37] [INFO] WSZYSTKIE DANE ŻĄDANIA:
[2025-05-18 17:55:37] [DATA] Array
(
    [page_data] => Array
        (
        )

    [npc_id] => 449
    [dialog_id] => jak-poruszac-sie-po-grze
    [current_url] => http://seb.soeasy.it/tereny/park/
    [user_id] => 1
    [answer_id] => answer-0
    [answer_index] => 0
    [current_dialog_id] => jak-sie-w-to-gra
)

[2025-05-18 17:55:37] [INFO] Wyodrębnione dane lokalizacji:
[2025-05-18 17:55:37] [DATA] Array
(
    [location] => Array
        (
            [area_slug] => park
            [area_name] => Park
            [area_id] => 207
        )

    [type_page] => 
    [location_value] => 
)

[2025-05-18 17:55:37] [DEBUG] ROZPOCZYNAM PRZETWARZANIE PRZYCISKÓW ODPOWIEDZI
[2025-05-18 17:55:37] [DEBUG] Znaleziono dialog o ID: jak-sie-w-to-gra
[2025-05-18 17:55:37] [DEBUG] Znaleziono poprzedni dialog ID: jak-sie-w-to-gra
[2025-05-18 17:55:37] [INFO] Pełne dane dialogu:
[2025-05-18 17:55:37] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-sie-w-to-gra
    [question] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_task
                                            [condition] => is_not
                                            [mission_id] => 339
                                            [task_id] => jak-poruszac-sie-po-grze_0
                                            [status] => completed
                                        )

                                )

                        )

                    [anwser_text] => Jak poruszać się po grze?
                    [type_anwser] => 
                    [go_to_id] => jak-poruszac-sie-po-grze
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => test
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-18 17:55:37] [INFO] Odpowiedzi w dialogu:
[2025-05-18 17:55:37] [DATA] Array
(
    [0] => Array
        (
            [acf_fc_layout] => anwser
            [layout_settings] => Array
                (
                    [visibility_tab] => 
                    [logic_operator] => and
                    [visibility_settings] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => condition_task
                                    [condition] => is_not
                                    [mission_id] => 339
                                    [task_id] => jak-poruszac-sie-po-grze_0
                                    [status] => completed
                                )

                        )

                )

            [anwser_text] => Jak poruszać się po grze?
            [type_anwser] => 
            [go_to_id] => jak-poruszac-sie-po-grze
        )

    [1] => Array
        (
            [acf_fc_layout] => anwser
            [layout_settings] => Array
                (
                    [visibility_tab] => 
                    [logic_operator] => and
                    [visibility_settings] => 
                )

            [anwser_text] => test
            [type_anwser] => 
            [go_to_id] => 0
        )

)

[2025-05-18 17:55:37] [DEBUG] Znaleziono odpowiedź o indeksie: 0
[2025-05-18 17:55:37] [INFO] Dane odpowiedzi:
[2025-05-18 17:55:37] [DATA] Array
(
    [acf_fc_layout] => anwser
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => condition_task
                            [condition] => is_not
                            [mission_id] => 339
                            [task_id] => jak-poruszac-sie-po-grze_0
                            [status] => completed
                        )

                )

        )

    [anwser_text] => Jak poruszać się po grze?
    [type_anwser] => 
    [go_to_id] => jak-poruszac-sie-po-grze
)

[2025-05-18 17:55:37] [DEBUG] Odpowiedź NIE zawiera akcji type_anwser lub jest pusta
[2025-05-18 17:55:37] [INFO] DialogManager: Rozpoczynam filtrowanie odpowiedzi.
[2025-05-18 17:55:37] [DATA] Array
(
    [count_answers_before] => 7
    [context] => Array
        (
            [type_page] => 
            [location] => 
            [user_id] => 1
            [npc_id] => 449
        )

)

[2025-05-18 17:55:37] [INFO] DialogManager: Sprawdzanie odpowiedzi: acf_fc_layout
[2025-05-18 17:55:37] [DATA] Array
(
    [answer_data] => question
)

[2025-05-18 17:55:37] [DEBUG] DialogManager: Odpowiedź (acf_fc_layout) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:55:37] [INFO] DialogManager: Sprawdzanie odpowiedzi: layout_settings
[2025-05-18 17:55:37] [DATA] Array
(
    [answer_data] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

)

[2025-05-18 17:55:37] [DEBUG] DialogManager: Odpowiedź (layout_settings) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:55:37] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_toggle
[2025-05-18 17:55:37] [DATA] Array
(
    [answer_data] => 
)

[2025-05-18 17:55:37] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_toggle) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:55:37] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_layout_title
[2025-05-18 17:55:37] [DATA] Array
(
    [answer_data] => Dialog
)

[2025-05-18 17:55:37] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_layout_title) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:55:37] [INFO] DialogManager: Sprawdzanie odpowiedzi: id_pola
[2025-05-18 17:55:37] [DATA] Array
(
    [answer_data] => jak-poruszac-sie-po-grze
)

[2025-05-18 17:55:37] [DEBUG] DialogManager: Odpowiedź (id_pola) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:55:37] [INFO] DialogManager: Sprawdzanie odpowiedzi: question
[2025-05-18 17:55:37] [DATA] Array
(
    [answer_data] => <p><strong>Każda scena to jeden widok – jak kadr z życia</strong>. Na nim są miejsca, osoby i przedmioty, z którymi możesz wejść w interakcję. Biały kolor oznacza przejście do innej sceny. Możesz przejść z bramy na klatkę, z meliny do sklepu, z podwórka do innej dzielnicy. Te przejścia nie kosztują Cię nic energii.</p>
<p><strong>Niebieski kolor to akcje z otoczeniem. </strong>Grzebanie w śmietniku, kontenerze na ubrania, zaglądanie do kiosku, przeszukiwanie bagażnika, otwieranie skrytki – tutaj każda akcja kosztuje pewną ilość energii. <strong>Postacie mają kolorowe obwódki. Klikasz – zaczyna się rozmowa.</strong></p>
<ul>
<li>Zielony – lubią cię.</li>
<li>Czerwony – nie cierpią.</li>
<li>Pomarańczowy – neutralni, jeszcze nie wiedzą, co o tobie sądzić.</li>
</ul>
<p>Każda rozmowa może Ci coś dać – albo zabrać. Zależy, jak się zachowasz.</p>
<p>Czasem znajdziesz coś cennego. Czasem coś obrzydliwego. A czasem kogoś obudzisz. <strong>Pamiętaj – nie każde poruszanie się między widokami zużywa energę. </strong>Dopiero konkretne działania albo spacery po dzielnicach zabierają energię</p>

)

[2025-05-18 17:55:37] [DEBUG] DialogManager: Odpowiedź (question) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:55:37] [INFO] DialogManager: Sprawdzanie odpowiedzi: anwsers
[2025-05-18 17:55:37] [DATA] Array
(
    [answer_data] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => Okej, załapałem jak się poruszać
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => mission
                                    [acfe_flexible_toggle] => 
                                    [mission_id] => 339
                                    [mission_status] => in_progress
                                    [mission_task_id] => jak-poruszac-sie-po-grze_0
                                    [mission_task_status] => completed
                                )

                        )

                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-18 17:55:37] [DEBUG] DialogManager: Odpowiedź (anwsers) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:55:37] [INFO] DialogManager: Zakończono filtrowanie odpowiedzi.
[2025-05-18 17:55:37] [DATA] Array
(
    [count_answers_after] => 7
)

[2025-05-18 17:55:37] [INFO] Dialog po filtrowaniu:
[2025-05-18 17:55:37] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-poruszac-sie-po-grze
    [question] => <p><strong>Każda scena to jeden widok – jak kadr z życia</strong>. Na nim są miejsca, osoby i przedmioty, z którymi możesz wejść w interakcję. Biały kolor oznacza przejście do innej sceny. Możesz przejść z bramy na klatkę, z meliny do sklepu, z podwórka do innej dzielnicy. Te przejścia nie kosztują Cię nic energii.</p>
<p><strong>Niebieski kolor to akcje z otoczeniem. </strong>Grzebanie w śmietniku, kontenerze na ubrania, zaglądanie do kiosku, przeszukiwanie bagażnika, otwieranie skrytki – tutaj każda akcja kosztuje pewną ilość energii. <strong>Postacie mają kolorowe obwódki. Klikasz – zaczyna się rozmowa.</strong></p>
<ul>
<li>Zielony – lubią cię.</li>
<li>Czerwony – nie cierpią.</li>
<li>Pomarańczowy – neutralni, jeszcze nie wiedzą, co o tobie sądzić.</li>
</ul>
<p>Każda rozmowa może Ci coś dać – albo zabrać. Zależy, jak się zachowasz.</p>
<p>Czasem znajdziesz coś cennego. Czasem coś obrzydliwego. A czasem kogoś obudzisz. <strong>Pamiętaj – nie każde poruszanie się między widokami zużywa energę. </strong>Dopiero konkretne działania albo spacery po dzielnicach zabierają energię</p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => Okej, załapałem jak się poruszać
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => mission
                                    [acfe_flexible_toggle] => 
                                    [mission_id] => 339
                                    [mission_status] => in_progress
                                    [mission_task_id] => jak-poruszac-sie-po-grze_0
                                    [mission_task_status] => completed
                                )

                        )

                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-18 17:55:37] [INFO] Dane odpowiedzi:
[2025-05-18 17:55:37] [DATA] Array
(
    [success] => 1
    [dialog] => Array
        (
            [id] => jak-poruszac-sie-po-grze
            [text] => <p><strong>Każda scena to jeden widok – jak kadr z życia</strong>. Na nim są miejsca, osoby i przedmioty, z którymi możesz wejść w interakcję. Biały kolor oznacza przejście do innej sceny. Możesz przejść z bramy na klatkę, z meliny do sklepu, z podwórka do innej dzielnicy. Te przejścia nie kosztują Cię nic energii.</p>
<p><strong>Niebieski kolor to akcje z otoczeniem. </strong>Grzebanie w śmietniku, kontenerze na ubrania, zaglądanie do kiosku, przeszukiwanie bagażnika, otwieranie skrytki – tutaj każda akcja kosztuje pewną ilość energii. <strong>Postacie mają kolorowe obwódki. Klikasz – zaczyna się rozmowa.</strong></p>
<ul>
<li>Zielony – lubią cię.</li>
<li>Czerwony – nie cierpią.</li>
<li>Pomarańczowy – neutralni, jeszcze nie wiedzą, co o tobie sądzić.</li>
</ul>
<p>Każda rozmowa może Ci coś dać – albo zabrać. Zależy, jak się zachowasz.</p>
<p>Czasem znajdziesz coś cennego. Czasem coś obrzydliwego. A czasem kogoś obudzisz. <strong>Pamiętaj – nie każde poruszanie się między widokami zużywa energę. </strong>Dopiero konkretne działania albo spacery po dzielnicach zabierają energię</p>

            [answers] => Array
                (
                    [0] => Array
                        (
                            [id] => 
                            [text] => Okej, załapałem jak się poruszać
                            [next_dialog] => jak-sie-w-to-gra
                        )

                )

        )

    [npc] => Array
        (
            [id] => 449
            [name] => Papuga
            [image] => http://seb.soeasy.it/wp-content/uploads/2025/05/papuga_new.png
        )

)

[2025-05-18 17:55:37] [DEBUG] ===== ZAKOŃCZENIE PRZETWARZANIA ŻĄDANIA DIALOGU =====
[2025-05-18 17:55:38] [INFO] WSZYSTKIE DANE ŻĄDANIA:
[2025-05-18 17:55:38] [DATA] Array
(
    [page_data] => Array
        (
        )

    [npc_id] => 449
    [dialog_id] => jak-sie-w-to-gra
    [current_url] => http://seb.soeasy.it/tereny/park/
    [user_id] => 1
    [answer_id] => answer-0
    [answer_index] => 0
    [current_dialog_id] => jak-poruszac-sie-po-grze
)

[2025-05-18 17:55:38] [INFO] Wyodrębnione dane lokalizacji:
[2025-05-18 17:55:38] [DATA] Array
(
    [location] => Array
        (
            [area_slug] => park
            [area_name] => Park
            [area_id] => 207
        )

    [type_page] => 
    [location_value] => 
)

[2025-05-18 17:55:38] [DEBUG] ROZPOCZYNAM PRZETWARZANIE PRZYCISKÓW ODPOWIEDZI
[2025-05-18 17:55:38] [DEBUG] Znaleziono dialog o ID: jak-poruszac-sie-po-grze
[2025-05-18 17:55:38] [DEBUG] Znaleziono poprzedni dialog ID: jak-poruszac-sie-po-grze
[2025-05-18 17:55:38] [INFO] Pełne dane dialogu:
[2025-05-18 17:55:38] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-poruszac-sie-po-grze
    [question] => <p><strong>Każda scena to jeden widok – jak kadr z życia</strong>. Na nim są miejsca, osoby i przedmioty, z którymi możesz wejść w interakcję. Biały kolor oznacza przejście do innej sceny. Możesz przejść z bramy na klatkę, z meliny do sklepu, z podwórka do innej dzielnicy. Te przejścia nie kosztują Cię nic energii.</p>
<p><strong>Niebieski kolor to akcje z otoczeniem. </strong>Grzebanie w śmietniku, kontenerze na ubrania, zaglądanie do kiosku, przeszukiwanie bagażnika, otwieranie skrytki – tutaj każda akcja kosztuje pewną ilość energii. <strong>Postacie mają kolorowe obwódki. Klikasz – zaczyna się rozmowa.</strong></p>
<ul>
<li>Zielony – lubią cię.</li>
<li>Czerwony – nie cierpią.</li>
<li>Pomarańczowy – neutralni, jeszcze nie wiedzą, co o tobie sądzić.</li>
</ul>
<p>Każda rozmowa może Ci coś dać – albo zabrać. Zależy, jak się zachowasz.</p>
<p>Czasem znajdziesz coś cennego. Czasem coś obrzydliwego. A czasem kogoś obudzisz. <strong>Pamiętaj – nie każde poruszanie się między widokami zużywa energę. </strong>Dopiero konkretne działania albo spacery po dzielnicach zabierają energię</p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => Okej, załapałem jak się poruszać
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => mission
                                    [acfe_flexible_toggle] => 
                                    [mission_id] => 339
                                    [mission_status] => in_progress
                                    [mission_task_id] => jak-poruszac-sie-po-grze_0
                                    [mission_task_status] => completed
                                )

                        )

                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-18 17:55:38] [INFO] Odpowiedzi w dialogu:
[2025-05-18 17:55:38] [DATA] Array
(
    [0] => Array
        (
            [acf_fc_layout] => anwser
            [layout_settings] => Array
                (
                    [visibility_tab] => 
                    [logic_operator] => and
                    [visibility_settings] => 
                )

            [anwser_text] => Okej, załapałem jak się poruszać
            [type_anwser] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => mission
                            [acfe_flexible_toggle] => 
                            [mission_id] => 339
                            [mission_status] => in_progress
                            [mission_task_id] => jak-poruszac-sie-po-grze_0
                            [mission_task_status] => completed
                        )

                )

            [go_to_id] => jak-sie-w-to-gra
        )

)

[2025-05-18 17:55:38] [DEBUG] Znaleziono odpowiedź o indeksie: 0
[2025-05-18 17:55:38] [INFO] Dane odpowiedzi:
[2025-05-18 17:55:38] [DATA] Array
(
    [acf_fc_layout] => anwser
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [anwser_text] => Okej, załapałem jak się poruszać
    [type_anwser] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => mission
                    [acfe_flexible_toggle] => 
                    [mission_id] => 339
                    [mission_status] => in_progress
                    [mission_task_id] => jak-poruszac-sie-po-grze_0
                    [mission_task_status] => completed
                )

        )

    [go_to_id] => jak-sie-w-to-gra
)

[2025-05-18 17:55:38] [INFO] Odpowiedź zawiera akcje do wykonania:
[2025-05-18 17:55:38] [DATA] Array
(
    [0] => Array
        (
            [acf_fc_layout] => mission
            [acfe_flexible_toggle] => 
            [mission_id] => 339
            [mission_status] => in_progress
            [mission_task_id] => jak-poruszac-sie-po-grze_0
            [mission_task_status] => completed
        )

)

[2025-05-18 17:55:38] [INFO] Weryfikacja akcji:
[2025-05-18 17:55:38] [DATA] Array
(
    [acf_fc_layout] => mission
    [acfe_flexible_toggle] => 
    [mission_id] => 339
    [mission_status] => in_progress
    [mission_task_id] => jak-poruszac-sie-po-grze_0
    [mission_task_status] => completed
)

[2025-05-18 17:55:38] [DEBUG] WSZYSTKIE AKCJE SĄ WYKONALNE, PRZYSTĘPUJĘ DO ICH REALIZACJI
[2025-05-18 17:55:38] [INFO] Przetwarzanie akcji:
[2025-05-18 17:55:38] [DATA] Array
(
    [acf_fc_layout] => mission
    [acfe_flexible_toggle] => 
    [mission_id] => 339
    [mission_status] => in_progress
    [mission_task_id] => jak-poruszac-sie-po-grze_0
    [mission_task_status] => completed
)

[2025-05-18 17:55:38] [DEBUG] Typ akcji: mission
[2025-05-18 17:55:38] [DEBUG] Wykonuję akcję misji: mission_id=339, status=in_progress, task_id=jak-poruszac-sie-po-grze_0, task_status=completed, npc_id=449
[2025-05-18 17:55:38] [INFO] Aktualny stan misji użytkownika:
[2025-05-18 17:55:38] [DATA] Array
(
    [status] => in_progress
    [assigned_date] => 2025-04-29 18:04:25
    [completion_date] => 2025-05-15 18:20:13
    [tasks] => Array
        (
            [jak-poruszac-sie-po-grze_0] => completed
            [jak-sie-tu-poruszac_1] => not_started
        )

)

[2025-05-18 17:55:38] [DEBUG] Zaktualizowano status misji 'Przejdź samouczek' z 'in_progress' na 'in_progress'
[2025-05-18 17:55:38] [DEBUG] Zaktualizowano status standardowego zadania 'jak-poruszac-sie-po-grze_0' z 'completed' na 'completed'
[2025-05-18 17:55:38] [DEBUG] Misja nie wymaga aktualizacji - dane nie uległy zmianie
[2025-05-18 17:55:38] [INFO] Utworzono powiadomienie dla misji:
[2025-05-18 17:55:38] [DATA] Array
(
    [message] => Ukończono zadanie: jak-poruszac-sie-po-grze
    [status] => success
)

[2025-05-18 17:55:38] [INFO] DialogManager: Rozpoczynam filtrowanie odpowiedzi.
[2025-05-18 17:55:38] [DATA] Array
(
    [count_answers_before] => 7
    [context] => Array
        (
            [type_page] => 
            [location] => 
            [user_id] => 1
            [npc_id] => 449
        )

)

[2025-05-18 17:55:38] [INFO] DialogManager: Sprawdzanie odpowiedzi: acf_fc_layout
[2025-05-18 17:55:38] [DATA] Array
(
    [answer_data] => question
)

[2025-05-18 17:55:38] [DEBUG] DialogManager: Odpowiedź (acf_fc_layout) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:55:38] [INFO] DialogManager: Sprawdzanie odpowiedzi: layout_settings
[2025-05-18 17:55:38] [DATA] Array
(
    [answer_data] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

)

[2025-05-18 17:55:38] [DEBUG] DialogManager: Odpowiedź (layout_settings) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:55:38] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_toggle
[2025-05-18 17:55:38] [DATA] Array
(
    [answer_data] => 
)

[2025-05-18 17:55:38] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_toggle) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:55:38] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_layout_title
[2025-05-18 17:55:38] [DATA] Array
(
    [answer_data] => Dialog
)

[2025-05-18 17:55:38] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_layout_title) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:55:38] [INFO] DialogManager: Sprawdzanie odpowiedzi: id_pola
[2025-05-18 17:55:38] [DATA] Array
(
    [answer_data] => jak-sie-w-to-gra
)

[2025-05-18 17:55:38] [DEBUG] DialogManager: Odpowiedź (id_pola) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:55:38] [INFO] DialogManager: Sprawdzanie odpowiedzi: question
[2025-05-18 17:55:38] [DATA] Array
(
    [answer_data] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

)

[2025-05-18 17:55:38] [DEBUG] DialogManager: Odpowiedź (question) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:55:38] [INFO] DialogManager: Sprawdzanie odpowiedzi: anwsers
[2025-05-18 17:55:38] [DATA] Array
(
    [answer_data] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_task
                                            [condition] => is_not
                                            [mission_id] => 339
                                            [task_id] => jak-poruszac-sie-po-grze_0
                                            [status] => completed
                                        )

                                )

                        )

                    [anwser_text] => Jak poruszać się po grze?
                    [type_anwser] => 
                    [go_to_id] => jak-poruszac-sie-po-grze
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => test
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-18 17:55:38] [DEBUG] DialogManager: Odpowiedź (anwsers) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:55:38] [INFO] DialogManager: Zakończono filtrowanie odpowiedzi.
[2025-05-18 17:55:38] [DATA] Array
(
    [count_answers_after] => 7
)

[2025-05-18 17:55:38] [INFO] Dialog po filtrowaniu:
[2025-05-18 17:55:38] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-sie-w-to-gra
    [question] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_task
                                            [condition] => is_not
                                            [mission_id] => 339
                                            [task_id] => jak-poruszac-sie-po-grze_0
                                            [status] => completed
                                        )

                                )

                        )

                    [anwser_text] => Jak poruszać się po grze?
                    [type_anwser] => 
                    [go_to_id] => jak-poruszac-sie-po-grze
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => test
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-18 17:55:38] [INFO] Dodano powiadomienie do odpowiedzi:
[2025-05-18 17:55:38] [DATA] Array
(
    [message] => Ukończono zadanie: jak-poruszac-sie-po-grze
    [status] => success
)

[2025-05-18 17:55:38] [INFO] Dane odpowiedzi:
[2025-05-18 17:55:38] [DATA] Array
(
    [success] => 1
    [dialog] => Array
        (
            [id] => jak-sie-w-to-gra
            [text] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

            [answers] => Array
                (
                    [0] => Array
                        (
                            [id] => 
                            [text] => Jak poruszać się po grze?
                            [next_dialog] => jak-poruszac-sie-po-grze
                        )

                    [1] => Array
                        (
                            [id] => 
                            [text] => test
                            [next_dialog] => 0
                        )

                )

        )

    [npc] => Array
        (
            [id] => 449
            [name] => Papuga
            [image] => http://seb.soeasy.it/wp-content/uploads/2025/05/papuga_new.png
        )

    [notification] => Array
        (
            [message] => Ukończono zadanie: jak-poruszac-sie-po-grze
            [status] => success
        )

)

[2025-05-18 17:55:38] [DEBUG] ===== ZAKOŃCZENIE PRZETWARZANIA ŻĄDANIA DIALOGU =====
[2025-05-18 17:55:38] [DEBUG] Obsługa żądania danych użytkownika ID: 1
[2025-05-18 17:55:38] [INFO] Pobrano dane plecaka użytkownika:
[2025-05-18 17:55:38] [DATA] Array
(
    [gold] => 100
    [cigarettes] => 31
)

[2025-05-18 17:55:38] [INFO] Pobrano dane witalności użytkownika:
[2025-05-18 17:55:38] [DATA] Array
(
    [life] => 80
    [max_life] => 100
    [energy] => 70
    [max_energy] => 100
)

[2025-05-18 17:55:38] [INFO] Zwracam dane użytkownika:
[2025-05-18 17:55:38] [DATA] Array
(
    [success] => 1
    [message] => Dane użytkownika pobrane pomyślnie
    [data] => Array
        (
            [backpack] => Array
                (
                    [gold] => 100
                    [cigarettes] => 31
                )

            [vitality] => Array
                (
                    [life] => 80
                    [max_life] => 100
                    [energy] => 70
                    [max_energy] => 100
                )

        )

)

[2025-05-18 17:55:59] [INFO] WSZYSTKIE DANE ŻĄDANIA:
[2025-05-18 17:55:59] [DATA] Array
(
    [page_data] => Array
        (
        )

    [npc_id] => 449
    [dialog_id] => jak-poruszac-sie-po-grze
    [current_url] => http://seb.soeasy.it/tereny/park/
    [user_id] => 1
    [answer_id] => answer-0
    [answer_index] => 0
    [current_dialog_id] => jak-sie-w-to-gra
)

[2025-05-18 17:55:59] [INFO] Wyodrębnione dane lokalizacji:
[2025-05-18 17:55:59] [DATA] Array
(
    [location] => Array
        (
            [area_slug] => park
            [area_name] => Park
            [area_id] => 207
        )

    [type_page] => 
    [location_value] => 
)

[2025-05-18 17:55:59] [DEBUG] ROZPOCZYNAM PRZETWARZANIE PRZYCISKÓW ODPOWIEDZI
[2025-05-18 17:55:59] [DEBUG] Znaleziono dialog o ID: jak-sie-w-to-gra
[2025-05-18 17:55:59] [DEBUG] Znaleziono poprzedni dialog ID: jak-sie-w-to-gra
[2025-05-18 17:55:59] [INFO] Pełne dane dialogu:
[2025-05-18 17:55:59] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-sie-w-to-gra
    [question] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_task
                                            [condition] => is_not
                                            [mission_id] => 339
                                            [task_id] => jak-poruszac-sie-po-grze_0
                                            [status] => completed
                                        )

                                )

                        )

                    [anwser_text] => Jak poruszać się po grze?
                    [type_anwser] => 
                    [go_to_id] => jak-poruszac-sie-po-grze
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => test
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-18 17:55:59] [INFO] Odpowiedzi w dialogu:
[2025-05-18 17:55:59] [DATA] Array
(
    [0] => Array
        (
            [acf_fc_layout] => anwser
            [layout_settings] => Array
                (
                    [visibility_tab] => 
                    [logic_operator] => and
                    [visibility_settings] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => condition_task
                                    [condition] => is_not
                                    [mission_id] => 339
                                    [task_id] => jak-poruszac-sie-po-grze_0
                                    [status] => completed
                                )

                        )

                )

            [anwser_text] => Jak poruszać się po grze?
            [type_anwser] => 
            [go_to_id] => jak-poruszac-sie-po-grze
        )

    [1] => Array
        (
            [acf_fc_layout] => anwser
            [layout_settings] => Array
                (
                    [visibility_tab] => 
                    [logic_operator] => and
                    [visibility_settings] => 
                )

            [anwser_text] => test
            [type_anwser] => 
            [go_to_id] => 0
        )

)

[2025-05-18 17:55:59] [DEBUG] Znaleziono odpowiedź o indeksie: 0
[2025-05-18 17:55:59] [INFO] Dane odpowiedzi:
[2025-05-18 17:55:59] [DATA] Array
(
    [acf_fc_layout] => anwser
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => condition_task
                            [condition] => is_not
                            [mission_id] => 339
                            [task_id] => jak-poruszac-sie-po-grze_0
                            [status] => completed
                        )

                )

        )

    [anwser_text] => Jak poruszać się po grze?
    [type_anwser] => 
    [go_to_id] => jak-poruszac-sie-po-grze
)

[2025-05-18 17:55:59] [DEBUG] Odpowiedź NIE zawiera akcji type_anwser lub jest pusta
[2025-05-18 17:55:59] [INFO] DialogManager: Rozpoczynam filtrowanie odpowiedzi.
[2025-05-18 17:55:59] [DATA] Array
(
    [count_answers_before] => 7
    [context] => Array
        (
            [type_page] => 
            [location] => 
            [user_id] => 1
            [npc_id] => 449
        )

)

[2025-05-18 17:55:59] [INFO] DialogManager: Sprawdzanie odpowiedzi: acf_fc_layout
[2025-05-18 17:55:59] [DATA] Array
(
    [answer_data] => question
)

[2025-05-18 17:55:59] [DEBUG] DialogManager: Odpowiedź (acf_fc_layout) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:55:59] [INFO] DialogManager: Sprawdzanie odpowiedzi: layout_settings
[2025-05-18 17:55:59] [DATA] Array
(
    [answer_data] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

)

[2025-05-18 17:55:59] [DEBUG] DialogManager: Odpowiedź (layout_settings) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:55:59] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_toggle
[2025-05-18 17:55:59] [DATA] Array
(
    [answer_data] => 
)

[2025-05-18 17:55:59] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_toggle) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:55:59] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_layout_title
[2025-05-18 17:55:59] [DATA] Array
(
    [answer_data] => Dialog
)

[2025-05-18 17:55:59] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_layout_title) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:55:59] [INFO] DialogManager: Sprawdzanie odpowiedzi: id_pola
[2025-05-18 17:55:59] [DATA] Array
(
    [answer_data] => jak-poruszac-sie-po-grze
)

[2025-05-18 17:55:59] [DEBUG] DialogManager: Odpowiedź (id_pola) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:55:59] [INFO] DialogManager: Sprawdzanie odpowiedzi: question
[2025-05-18 17:55:59] [DATA] Array
(
    [answer_data] => <p><strong>Każda scena to jeden widok – jak kadr z życia</strong>. Na nim są miejsca, osoby i przedmioty, z którymi możesz wejść w interakcję. Biały kolor oznacza przejście do innej sceny. Możesz przejść z bramy na klatkę, z meliny do sklepu, z podwórka do innej dzielnicy. Te przejścia nie kosztują Cię nic energii.</p>
<p><strong>Niebieski kolor to akcje z otoczeniem. </strong>Grzebanie w śmietniku, kontenerze na ubrania, zaglądanie do kiosku, przeszukiwanie bagażnika, otwieranie skrytki – tutaj każda akcja kosztuje pewną ilość energii. <strong>Postacie mają kolorowe obwódki. Klikasz – zaczyna się rozmowa.</strong></p>
<ul>
<li>Zielony – lubią cię.</li>
<li>Czerwony – nie cierpią.</li>
<li>Pomarańczowy – neutralni, jeszcze nie wiedzą, co o tobie sądzić.</li>
</ul>
<p>Każda rozmowa może Ci coś dać – albo zabrać. Zależy, jak się zachowasz.</p>
<p>Czasem znajdziesz coś cennego. Czasem coś obrzydliwego. A czasem kogoś obudzisz. <strong>Pamiętaj – nie każde poruszanie się między widokami zużywa energę. </strong>Dopiero konkretne działania albo spacery po dzielnicach zabierają energię</p>

)

[2025-05-18 17:55:59] [DEBUG] DialogManager: Odpowiedź (question) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:55:59] [INFO] DialogManager: Sprawdzanie odpowiedzi: anwsers
[2025-05-18 17:55:59] [DATA] Array
(
    [answer_data] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => Okej, załapałem jak się poruszać
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => mission
                                    [acfe_flexible_toggle] => 
                                    [mission_id] => 339
                                    [mission_status] => in_progress
                                    [mission_task_id] => jak-poruszac-sie-po-grze_0
                                    [mission_task_status] => completed
                                )

                        )

                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-18 17:55:59] [DEBUG] DialogManager: Odpowiedź (anwsers) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:55:59] [INFO] DialogManager: Zakończono filtrowanie odpowiedzi.
[2025-05-18 17:55:59] [DATA] Array
(
    [count_answers_after] => 7
)

[2025-05-18 17:55:59] [INFO] Dialog po filtrowaniu:
[2025-05-18 17:55:59] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-poruszac-sie-po-grze
    [question] => <p><strong>Każda scena to jeden widok – jak kadr z życia</strong>. Na nim są miejsca, osoby i przedmioty, z którymi możesz wejść w interakcję. Biały kolor oznacza przejście do innej sceny. Możesz przejść z bramy na klatkę, z meliny do sklepu, z podwórka do innej dzielnicy. Te przejścia nie kosztują Cię nic energii.</p>
<p><strong>Niebieski kolor to akcje z otoczeniem. </strong>Grzebanie w śmietniku, kontenerze na ubrania, zaglądanie do kiosku, przeszukiwanie bagażnika, otwieranie skrytki – tutaj każda akcja kosztuje pewną ilość energii. <strong>Postacie mają kolorowe obwódki. Klikasz – zaczyna się rozmowa.</strong></p>
<ul>
<li>Zielony – lubią cię.</li>
<li>Czerwony – nie cierpią.</li>
<li>Pomarańczowy – neutralni, jeszcze nie wiedzą, co o tobie sądzić.</li>
</ul>
<p>Każda rozmowa może Ci coś dać – albo zabrać. Zależy, jak się zachowasz.</p>
<p>Czasem znajdziesz coś cennego. Czasem coś obrzydliwego. A czasem kogoś obudzisz. <strong>Pamiętaj – nie każde poruszanie się między widokami zużywa energę. </strong>Dopiero konkretne działania albo spacery po dzielnicach zabierają energię</p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => Okej, załapałem jak się poruszać
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => mission
                                    [acfe_flexible_toggle] => 
                                    [mission_id] => 339
                                    [mission_status] => in_progress
                                    [mission_task_id] => jak-poruszac-sie-po-grze_0
                                    [mission_task_status] => completed
                                )

                        )

                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-18 17:55:59] [INFO] Dane odpowiedzi:
[2025-05-18 17:55:59] [DATA] Array
(
    [success] => 1
    [dialog] => Array
        (
            [id] => jak-poruszac-sie-po-grze
            [text] => <p><strong>Każda scena to jeden widok – jak kadr z życia</strong>. Na nim są miejsca, osoby i przedmioty, z którymi możesz wejść w interakcję. Biały kolor oznacza przejście do innej sceny. Możesz przejść z bramy na klatkę, z meliny do sklepu, z podwórka do innej dzielnicy. Te przejścia nie kosztują Cię nic energii.</p>
<p><strong>Niebieski kolor to akcje z otoczeniem. </strong>Grzebanie w śmietniku, kontenerze na ubrania, zaglądanie do kiosku, przeszukiwanie bagażnika, otwieranie skrytki – tutaj każda akcja kosztuje pewną ilość energii. <strong>Postacie mają kolorowe obwódki. Klikasz – zaczyna się rozmowa.</strong></p>
<ul>
<li>Zielony – lubią cię.</li>
<li>Czerwony – nie cierpią.</li>
<li>Pomarańczowy – neutralni, jeszcze nie wiedzą, co o tobie sądzić.</li>
</ul>
<p>Każda rozmowa może Ci coś dać – albo zabrać. Zależy, jak się zachowasz.</p>
<p>Czasem znajdziesz coś cennego. Czasem coś obrzydliwego. A czasem kogoś obudzisz. <strong>Pamiętaj – nie każde poruszanie się między widokami zużywa energę. </strong>Dopiero konkretne działania albo spacery po dzielnicach zabierają energię</p>

            [answers] => Array
                (
                    [0] => Array
                        (
                            [id] => 
                            [text] => Okej, załapałem jak się poruszać
                            [next_dialog] => jak-sie-w-to-gra
                        )

                )

        )

    [npc] => Array
        (
            [id] => 449
            [name] => Papuga
            [image] => http://seb.soeasy.it/wp-content/uploads/2025/05/papuga_new.png
        )

)

[2025-05-18 17:55:59] [DEBUG] ===== ZAKOŃCZENIE PRZETWARZANIA ŻĄDANIA DIALOGU =====
[2025-05-18 17:56:01] [INFO] WSZYSTKIE DANE ŻĄDANIA:
[2025-05-18 17:56:01] [DATA] Array
(
    [page_data] => Array
        (
        )

    [npc_id] => 449
    [dialog_id] => jak-sie-w-to-gra
    [current_url] => http://seb.soeasy.it/tereny/park/
    [user_id] => 1
    [answer_id] => answer-0
    [answer_index] => 0
    [current_dialog_id] => jak-poruszac-sie-po-grze
)

[2025-05-18 17:56:01] [INFO] Wyodrębnione dane lokalizacji:
[2025-05-18 17:56:01] [DATA] Array
(
    [location] => Array
        (
            [area_slug] => park
            [area_name] => Park
            [area_id] => 207
        )

    [type_page] => 
    [location_value] => 
)

[2025-05-18 17:56:01] [DEBUG] ROZPOCZYNAM PRZETWARZANIE PRZYCISKÓW ODPOWIEDZI
[2025-05-18 17:56:01] [DEBUG] Znaleziono dialog o ID: jak-poruszac-sie-po-grze
[2025-05-18 17:56:01] [DEBUG] Znaleziono poprzedni dialog ID: jak-poruszac-sie-po-grze
[2025-05-18 17:56:01] [INFO] Pełne dane dialogu:
[2025-05-18 17:56:01] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-poruszac-sie-po-grze
    [question] => <p><strong>Każda scena to jeden widok – jak kadr z życia</strong>. Na nim są miejsca, osoby i przedmioty, z którymi możesz wejść w interakcję. Biały kolor oznacza przejście do innej sceny. Możesz przejść z bramy na klatkę, z meliny do sklepu, z podwórka do innej dzielnicy. Te przejścia nie kosztują Cię nic energii.</p>
<p><strong>Niebieski kolor to akcje z otoczeniem. </strong>Grzebanie w śmietniku, kontenerze na ubrania, zaglądanie do kiosku, przeszukiwanie bagażnika, otwieranie skrytki – tutaj każda akcja kosztuje pewną ilość energii. <strong>Postacie mają kolorowe obwódki. Klikasz – zaczyna się rozmowa.</strong></p>
<ul>
<li>Zielony – lubią cię.</li>
<li>Czerwony – nie cierpią.</li>
<li>Pomarańczowy – neutralni, jeszcze nie wiedzą, co o tobie sądzić.</li>
</ul>
<p>Każda rozmowa może Ci coś dać – albo zabrać. Zależy, jak się zachowasz.</p>
<p>Czasem znajdziesz coś cennego. Czasem coś obrzydliwego. A czasem kogoś obudzisz. <strong>Pamiętaj – nie każde poruszanie się między widokami zużywa energę. </strong>Dopiero konkretne działania albo spacery po dzielnicach zabierają energię</p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => Okej, załapałem jak się poruszać
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => mission
                                    [acfe_flexible_toggle] => 
                                    [mission_id] => 339
                                    [mission_status] => in_progress
                                    [mission_task_id] => jak-poruszac-sie-po-grze_0
                                    [mission_task_status] => completed
                                )

                        )

                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-18 17:56:01] [INFO] Odpowiedzi w dialogu:
[2025-05-18 17:56:01] [DATA] Array
(
    [0] => Array
        (
            [acf_fc_layout] => anwser
            [layout_settings] => Array
                (
                    [visibility_tab] => 
                    [logic_operator] => and
                    [visibility_settings] => 
                )

            [anwser_text] => Okej, załapałem jak się poruszać
            [type_anwser] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => mission
                            [acfe_flexible_toggle] => 
                            [mission_id] => 339
                            [mission_status] => in_progress
                            [mission_task_id] => jak-poruszac-sie-po-grze_0
                            [mission_task_status] => completed
                        )

                )

            [go_to_id] => jak-sie-w-to-gra
        )

)

[2025-05-18 17:56:01] [DEBUG] Znaleziono odpowiedź o indeksie: 0
[2025-05-18 17:56:01] [INFO] Dane odpowiedzi:
[2025-05-18 17:56:01] [DATA] Array
(
    [acf_fc_layout] => anwser
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [anwser_text] => Okej, załapałem jak się poruszać
    [type_anwser] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => mission
                    [acfe_flexible_toggle] => 
                    [mission_id] => 339
                    [mission_status] => in_progress
                    [mission_task_id] => jak-poruszac-sie-po-grze_0
                    [mission_task_status] => completed
                )

        )

    [go_to_id] => jak-sie-w-to-gra
)

[2025-05-18 17:56:01] [INFO] Odpowiedź zawiera akcje do wykonania:
[2025-05-18 17:56:01] [DATA] Array
(
    [0] => Array
        (
            [acf_fc_layout] => mission
            [acfe_flexible_toggle] => 
            [mission_id] => 339
            [mission_status] => in_progress
            [mission_task_id] => jak-poruszac-sie-po-grze_0
            [mission_task_status] => completed
        )

)

[2025-05-18 17:56:01] [INFO] Weryfikacja akcji:
[2025-05-18 17:56:01] [DATA] Array
(
    [acf_fc_layout] => mission
    [acfe_flexible_toggle] => 
    [mission_id] => 339
    [mission_status] => in_progress
    [mission_task_id] => jak-poruszac-sie-po-grze_0
    [mission_task_status] => completed
)

[2025-05-18 17:56:01] [DEBUG] WSZYSTKIE AKCJE SĄ WYKONALNE, PRZYSTĘPUJĘ DO ICH REALIZACJI
[2025-05-18 17:56:01] [INFO] Przetwarzanie akcji:
[2025-05-18 17:56:01] [DATA] Array
(
    [acf_fc_layout] => mission
    [acfe_flexible_toggle] => 
    [mission_id] => 339
    [mission_status] => in_progress
    [mission_task_id] => jak-poruszac-sie-po-grze_0
    [mission_task_status] => completed
)

[2025-05-18 17:56:01] [DEBUG] Typ akcji: mission
[2025-05-18 17:56:01] [DEBUG] Wykonuję akcję misji: mission_id=339, status=in_progress, task_id=jak-poruszac-sie-po-grze_0, task_status=completed, npc_id=449
[2025-05-18 17:56:01] [INFO] Aktualny stan misji użytkownika:
[2025-05-18 17:56:01] [DATA] Array
(
    [status] => in_progress
    [assigned_date] => 2025-04-29 18:04:25
    [completion_date] => 2025-05-15 18:20:13
    [tasks] => Array
        (
            [jak-poruszac-sie-po-grze_0] => completed
            [jak-sie-tu-poruszac_1] => not_started
        )

)

[2025-05-18 17:56:01] [DEBUG] Zaktualizowano status misji 'Przejdź samouczek' z 'in_progress' na 'in_progress'
[2025-05-18 17:56:01] [DEBUG] Zaktualizowano status standardowego zadania 'jak-poruszac-sie-po-grze_0' z 'completed' na 'completed'
[2025-05-18 17:56:01] [DEBUG] Misja nie wymaga aktualizacji - dane nie uległy zmianie
[2025-05-18 17:56:01] [INFO] Utworzono powiadomienie dla misji:
[2025-05-18 17:56:01] [DATA] Array
(
    [message] => Ukończono zadanie: jak-poruszac-sie-po-grze
    [status] => success
)

[2025-05-18 17:56:01] [INFO] DialogManager: Rozpoczynam filtrowanie odpowiedzi.
[2025-05-18 17:56:01] [DATA] Array
(
    [count_answers_before] => 7
    [context] => Array
        (
            [type_page] => 
            [location] => 
            [user_id] => 1
            [npc_id] => 449
        )

)

[2025-05-18 17:56:01] [INFO] DialogManager: Sprawdzanie odpowiedzi: acf_fc_layout
[2025-05-18 17:56:01] [DATA] Array
(
    [answer_data] => question
)

[2025-05-18 17:56:01] [DEBUG] DialogManager: Odpowiedź (acf_fc_layout) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:56:01] [INFO] DialogManager: Sprawdzanie odpowiedzi: layout_settings
[2025-05-18 17:56:01] [DATA] Array
(
    [answer_data] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

)

[2025-05-18 17:56:01] [DEBUG] DialogManager: Odpowiedź (layout_settings) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:56:01] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_toggle
[2025-05-18 17:56:01] [DATA] Array
(
    [answer_data] => 
)

[2025-05-18 17:56:01] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_toggle) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:56:01] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_layout_title
[2025-05-18 17:56:01] [DATA] Array
(
    [answer_data] => Dialog
)

[2025-05-18 17:56:01] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_layout_title) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:56:01] [INFO] DialogManager: Sprawdzanie odpowiedzi: id_pola
[2025-05-18 17:56:01] [DATA] Array
(
    [answer_data] => jak-sie-w-to-gra
)

[2025-05-18 17:56:01] [DEBUG] DialogManager: Odpowiedź (id_pola) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:56:01] [INFO] DialogManager: Sprawdzanie odpowiedzi: question
[2025-05-18 17:56:01] [DATA] Array
(
    [answer_data] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

)

[2025-05-18 17:56:01] [DEBUG] DialogManager: Odpowiedź (question) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:56:01] [INFO] DialogManager: Sprawdzanie odpowiedzi: anwsers
[2025-05-18 17:56:01] [DATA] Array
(
    [answer_data] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_task
                                            [condition] => is_not
                                            [mission_id] => 339
                                            [task_id] => jak-poruszac-sie-po-grze_0
                                            [status] => completed
                                        )

                                )

                        )

                    [anwser_text] => Jak poruszać się po grze?
                    [type_anwser] => 
                    [go_to_id] => jak-poruszac-sie-po-grze
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => test
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-18 17:56:01] [DEBUG] DialogManager: Odpowiedź (anwsers) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:56:01] [INFO] DialogManager: Zakończono filtrowanie odpowiedzi.
[2025-05-18 17:56:01] [DATA] Array
(
    [count_answers_after] => 7
)

[2025-05-18 17:56:01] [INFO] Dialog po filtrowaniu:
[2025-05-18 17:56:01] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-sie-w-to-gra
    [question] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_task
                                            [condition] => is_not
                                            [mission_id] => 339
                                            [task_id] => jak-poruszac-sie-po-grze_0
                                            [status] => completed
                                        )

                                )

                        )

                    [anwser_text] => Jak poruszać się po grze?
                    [type_anwser] => 
                    [go_to_id] => jak-poruszac-sie-po-grze
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => test
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-18 17:56:01] [INFO] Dodano powiadomienie do odpowiedzi:
[2025-05-18 17:56:01] [DATA] Array
(
    [message] => Ukończono zadanie: jak-poruszac-sie-po-grze
    [status] => success
)

[2025-05-18 17:56:01] [INFO] Dane odpowiedzi:
[2025-05-18 17:56:01] [DATA] Array
(
    [success] => 1
    [dialog] => Array
        (
            [id] => jak-sie-w-to-gra
            [text] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

            [answers] => Array
                (
                    [0] => Array
                        (
                            [id] => 
                            [text] => Jak poruszać się po grze?
                            [next_dialog] => jak-poruszac-sie-po-grze
                        )

                    [1] => Array
                        (
                            [id] => 
                            [text] => test
                            [next_dialog] => 0
                        )

                )

        )

    [npc] => Array
        (
            [id] => 449
            [name] => Papuga
            [image] => http://seb.soeasy.it/wp-content/uploads/2025/05/papuga_new.png
        )

    [notification] => Array
        (
            [message] => Ukończono zadanie: jak-poruszac-sie-po-grze
            [status] => success
        )

)

[2025-05-18 17:56:01] [DEBUG] ===== ZAKOŃCZENIE PRZETWARZANIA ŻĄDANIA DIALOGU =====
[2025-05-18 17:56:01] [DEBUG] Obsługa żądania danych użytkownika ID: 1
[2025-05-18 17:56:01] [INFO] Pobrano dane plecaka użytkownika:
[2025-05-18 17:56:01] [DATA] Array
(
    [gold] => 100
    [cigarettes] => 31
)

[2025-05-18 17:56:01] [INFO] Pobrano dane witalności użytkownika:
[2025-05-18 17:56:01] [DATA] Array
(
    [life] => 80
    [max_life] => 100
    [energy] => 70
    [max_energy] => 100
)

[2025-05-18 17:56:01] [INFO] Zwracam dane użytkownika:
[2025-05-18 17:56:01] [DATA] Array
(
    [success] => 1
    [message] => Dane użytkownika pobrane pomyślnie
    [data] => Array
        (
            [backpack] => Array
                (
                    [gold] => 100
                    [cigarettes] => 31
                )

            [vitality] => Array
                (
                    [life] => 80
                    [max_life] => 100
                    [energy] => 70
                    [max_energy] => 100
                )

        )

)

[2025-05-18 17:56:26] [INFO] WSZYSTKIE DANE ŻĄDANIA:
[2025-05-18 17:56:26] [DATA] Array
(
    [page_data] => Array
        (
        )

    [npc_id] => 449
    [dialog_id] => jak-poruszac-sie-po-grze
    [current_url] => http://seb.soeasy.it/tereny/park/
    [user_id] => 1
    [answer_id] => answer-0
    [answer_index] => 0
    [current_dialog_id] => jak-sie-w-to-gra
)

[2025-05-18 17:56:26] [INFO] Wyodrębnione dane lokalizacji:
[2025-05-18 17:56:26] [DATA] Array
(
    [location] => Array
        (
            [area_slug] => park
            [area_name] => Park
            [area_id] => 207
        )

    [type_page] => 
    [location_value] => 
)

[2025-05-18 17:56:26] [DEBUG] ROZPOCZYNAM PRZETWARZANIE PRZYCISKÓW ODPOWIEDZI
[2025-05-18 17:56:26] [DEBUG] Znaleziono dialog o ID: jak-sie-w-to-gra
[2025-05-18 17:56:26] [DEBUG] Znaleziono poprzedni dialog ID: jak-sie-w-to-gra
[2025-05-18 17:56:26] [INFO] Pełne dane dialogu:
[2025-05-18 17:56:26] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-sie-w-to-gra
    [question] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_task
                                            [condition] => is_not
                                            [mission_id] => 339
                                            [task_id] => jak-poruszac-sie-po-grze_0
                                            [status] => completed
                                        )

                                )

                        )

                    [anwser_text] => Jak poruszać się po grze?
                    [type_anwser] => 
                    [go_to_id] => jak-poruszac-sie-po-grze
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => test
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-18 17:56:26] [INFO] Odpowiedzi w dialogu:
[2025-05-18 17:56:26] [DATA] Array
(
    [0] => Array
        (
            [acf_fc_layout] => anwser
            [layout_settings] => Array
                (
                    [visibility_tab] => 
                    [logic_operator] => and
                    [visibility_settings] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => condition_task
                                    [condition] => is_not
                                    [mission_id] => 339
                                    [task_id] => jak-poruszac-sie-po-grze_0
                                    [status] => completed
                                )

                        )

                )

            [anwser_text] => Jak poruszać się po grze?
            [type_anwser] => 
            [go_to_id] => jak-poruszac-sie-po-grze
        )

    [1] => Array
        (
            [acf_fc_layout] => anwser
            [layout_settings] => Array
                (
                    [visibility_tab] => 
                    [logic_operator] => and
                    [visibility_settings] => 
                )

            [anwser_text] => test
            [type_anwser] => 
            [go_to_id] => 0
        )

)

[2025-05-18 17:56:26] [DEBUG] Znaleziono odpowiedź o indeksie: 0
[2025-05-18 17:56:26] [INFO] Dane odpowiedzi:
[2025-05-18 17:56:26] [DATA] Array
(
    [acf_fc_layout] => anwser
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => condition_task
                            [condition] => is_not
                            [mission_id] => 339
                            [task_id] => jak-poruszac-sie-po-grze_0
                            [status] => completed
                        )

                )

        )

    [anwser_text] => Jak poruszać się po grze?
    [type_anwser] => 
    [go_to_id] => jak-poruszac-sie-po-grze
)

[2025-05-18 17:56:26] [DEBUG] Odpowiedź NIE zawiera akcji type_anwser lub jest pusta
[2025-05-18 17:56:26] [INFO] DialogManager: Rozpoczynam filtrowanie odpowiedzi.
[2025-05-18 17:56:26] [DATA] Array
(
    [count_answers_before] => 7
    [context] => Array
        (
            [type_page] => 
            [location] => 
            [user_id] => 1
            [npc_id] => 449
        )

)

[2025-05-18 17:56:26] [INFO] DialogManager: Sprawdzanie odpowiedzi: acf_fc_layout
[2025-05-18 17:56:26] [DATA] Array
(
    [answer_data] => question
)

[2025-05-18 17:56:26] [DEBUG] DialogManager: Odpowiedź (acf_fc_layout) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:56:26] [INFO] DialogManager: Sprawdzanie odpowiedzi: layout_settings
[2025-05-18 17:56:26] [DATA] Array
(
    [answer_data] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

)

[2025-05-18 17:56:26] [DEBUG] DialogManager: Odpowiedź (layout_settings) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:56:26] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_toggle
[2025-05-18 17:56:26] [DATA] Array
(
    [answer_data] => 
)

[2025-05-18 17:56:26] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_toggle) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:56:26] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_layout_title
[2025-05-18 17:56:26] [DATA] Array
(
    [answer_data] => Dialog
)

[2025-05-18 17:56:26] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_layout_title) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:56:26] [INFO] DialogManager: Sprawdzanie odpowiedzi: id_pola
[2025-05-18 17:56:26] [DATA] Array
(
    [answer_data] => jak-poruszac-sie-po-grze
)

[2025-05-18 17:56:26] [DEBUG] DialogManager: Odpowiedź (id_pola) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:56:26] [INFO] DialogManager: Sprawdzanie odpowiedzi: question
[2025-05-18 17:56:26] [DATA] Array
(
    [answer_data] => <p><strong>Każda scena to jeden widok – jak kadr z życia</strong>. Na nim są miejsca, osoby i przedmioty, z którymi możesz wejść w interakcję. Biały kolor oznacza przejście do innej sceny. Możesz przejść z bramy na klatkę, z meliny do sklepu, z podwórka do innej dzielnicy. Te przejścia nie kosztują Cię nic energii.</p>
<p><strong>Niebieski kolor to akcje z otoczeniem. </strong>Grzebanie w śmietniku, kontenerze na ubrania, zaglądanie do kiosku, przeszukiwanie bagażnika, otwieranie skrytki – tutaj każda akcja kosztuje pewną ilość energii. <strong>Postacie mają kolorowe obwódki. Klikasz – zaczyna się rozmowa.</strong></p>
<ul>
<li>Zielony – lubią cię.</li>
<li>Czerwony – nie cierpią.</li>
<li>Pomarańczowy – neutralni, jeszcze nie wiedzą, co o tobie sądzić.</li>
</ul>
<p>Każda rozmowa może Ci coś dać – albo zabrać. Zależy, jak się zachowasz.</p>
<p>Czasem znajdziesz coś cennego. Czasem coś obrzydliwego. A czasem kogoś obudzisz. <strong>Pamiętaj – nie każde poruszanie się między widokami zużywa energę. </strong>Dopiero konkretne działania albo spacery po dzielnicach zabierają energię</p>

)

[2025-05-18 17:56:26] [DEBUG] DialogManager: Odpowiedź (question) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:56:26] [INFO] DialogManager: Sprawdzanie odpowiedzi: anwsers
[2025-05-18 17:56:26] [DATA] Array
(
    [answer_data] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => Okej, załapałem jak się poruszać
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => mission
                                    [acfe_flexible_toggle] => 
                                    [mission_id] => 339
                                    [mission_status] => in_progress
                                    [mission_task_id] => jak-poruszac-sie-po-grze_0
                                    [mission_task_status] => completed
                                )

                        )

                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-18 17:56:26] [DEBUG] DialogManager: Odpowiedź (anwsers) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:56:26] [INFO] DialogManager: Zakończono filtrowanie odpowiedzi.
[2025-05-18 17:56:26] [DATA] Array
(
    [count_answers_after] => 7
)

[2025-05-18 17:56:26] [INFO] Dialog po filtrowaniu:
[2025-05-18 17:56:26] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-poruszac-sie-po-grze
    [question] => <p><strong>Każda scena to jeden widok – jak kadr z życia</strong>. Na nim są miejsca, osoby i przedmioty, z którymi możesz wejść w interakcję. Biały kolor oznacza przejście do innej sceny. Możesz przejść z bramy na klatkę, z meliny do sklepu, z podwórka do innej dzielnicy. Te przejścia nie kosztują Cię nic energii.</p>
<p><strong>Niebieski kolor to akcje z otoczeniem. </strong>Grzebanie w śmietniku, kontenerze na ubrania, zaglądanie do kiosku, przeszukiwanie bagażnika, otwieranie skrytki – tutaj każda akcja kosztuje pewną ilość energii. <strong>Postacie mają kolorowe obwódki. Klikasz – zaczyna się rozmowa.</strong></p>
<ul>
<li>Zielony – lubią cię.</li>
<li>Czerwony – nie cierpią.</li>
<li>Pomarańczowy – neutralni, jeszcze nie wiedzą, co o tobie sądzić.</li>
</ul>
<p>Każda rozmowa może Ci coś dać – albo zabrać. Zależy, jak się zachowasz.</p>
<p>Czasem znajdziesz coś cennego. Czasem coś obrzydliwego. A czasem kogoś obudzisz. <strong>Pamiętaj – nie każde poruszanie się między widokami zużywa energę. </strong>Dopiero konkretne działania albo spacery po dzielnicach zabierają energię</p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => Okej, załapałem jak się poruszać
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => mission
                                    [acfe_flexible_toggle] => 
                                    [mission_id] => 339
                                    [mission_status] => in_progress
                                    [mission_task_id] => jak-poruszac-sie-po-grze_0
                                    [mission_task_status] => completed
                                )

                        )

                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-18 17:56:26] [INFO] Dane odpowiedzi:
[2025-05-18 17:56:26] [DATA] Array
(
    [success] => 1
    [dialog] => Array
        (
            [id] => jak-poruszac-sie-po-grze
            [text] => <p><strong>Każda scena to jeden widok – jak kadr z życia</strong>. Na nim są miejsca, osoby i przedmioty, z którymi możesz wejść w interakcję. Biały kolor oznacza przejście do innej sceny. Możesz przejść z bramy na klatkę, z meliny do sklepu, z podwórka do innej dzielnicy. Te przejścia nie kosztują Cię nic energii.</p>
<p><strong>Niebieski kolor to akcje z otoczeniem. </strong>Grzebanie w śmietniku, kontenerze na ubrania, zaglądanie do kiosku, przeszukiwanie bagażnika, otwieranie skrytki – tutaj każda akcja kosztuje pewną ilość energii. <strong>Postacie mają kolorowe obwódki. Klikasz – zaczyna się rozmowa.</strong></p>
<ul>
<li>Zielony – lubią cię.</li>
<li>Czerwony – nie cierpią.</li>
<li>Pomarańczowy – neutralni, jeszcze nie wiedzą, co o tobie sądzić.</li>
</ul>
<p>Każda rozmowa może Ci coś dać – albo zabrać. Zależy, jak się zachowasz.</p>
<p>Czasem znajdziesz coś cennego. Czasem coś obrzydliwego. A czasem kogoś obudzisz. <strong>Pamiętaj – nie każde poruszanie się między widokami zużywa energę. </strong>Dopiero konkretne działania albo spacery po dzielnicach zabierają energię</p>

            [answers] => Array
                (
                    [0] => Array
                        (
                            [id] => 
                            [text] => Okej, załapałem jak się poruszać
                            [next_dialog] => jak-sie-w-to-gra
                        )

                )

        )

    [npc] => Array
        (
            [id] => 449
            [name] => Papuga
            [image] => http://seb.soeasy.it/wp-content/uploads/2025/05/papuga_new.png
        )

)

[2025-05-18 17:56:26] [DEBUG] ===== ZAKOŃCZENIE PRZETWARZANIA ŻĄDANIA DIALOGU =====
[2025-05-18 17:56:28] [INFO] WSZYSTKIE DANE ŻĄDANIA:
[2025-05-18 17:56:28] [DATA] Array
(
    [page_data] => Array
        (
        )

    [npc_id] => 449
    [dialog_id] => jak-sie-w-to-gra
    [current_url] => http://seb.soeasy.it/tereny/park/
    [user_id] => 1
    [answer_id] => answer-0
    [answer_index] => 0
    [current_dialog_id] => jak-poruszac-sie-po-grze
)

[2025-05-18 17:56:28] [INFO] Wyodrębnione dane lokalizacji:
[2025-05-18 17:56:28] [DATA] Array
(
    [location] => Array
        (
            [area_slug] => park
            [area_name] => Park
            [area_id] => 207
        )

    [type_page] => 
    [location_value] => 
)

[2025-05-18 17:56:28] [DEBUG] ROZPOCZYNAM PRZETWARZANIE PRZYCISKÓW ODPOWIEDZI
[2025-05-18 17:56:28] [DEBUG] Znaleziono dialog o ID: jak-poruszac-sie-po-grze
[2025-05-18 17:56:28] [DEBUG] Znaleziono poprzedni dialog ID: jak-poruszac-sie-po-grze
[2025-05-18 17:56:28] [INFO] Pełne dane dialogu:
[2025-05-18 17:56:28] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-poruszac-sie-po-grze
    [question] => <p><strong>Każda scena to jeden widok – jak kadr z życia</strong>. Na nim są miejsca, osoby i przedmioty, z którymi możesz wejść w interakcję. Biały kolor oznacza przejście do innej sceny. Możesz przejść z bramy na klatkę, z meliny do sklepu, z podwórka do innej dzielnicy. Te przejścia nie kosztują Cię nic energii.</p>
<p><strong>Niebieski kolor to akcje z otoczeniem. </strong>Grzebanie w śmietniku, kontenerze na ubrania, zaglądanie do kiosku, przeszukiwanie bagażnika, otwieranie skrytki – tutaj każda akcja kosztuje pewną ilość energii. <strong>Postacie mają kolorowe obwódki. Klikasz – zaczyna się rozmowa.</strong></p>
<ul>
<li>Zielony – lubią cię.</li>
<li>Czerwony – nie cierpią.</li>
<li>Pomarańczowy – neutralni, jeszcze nie wiedzą, co o tobie sądzić.</li>
</ul>
<p>Każda rozmowa może Ci coś dać – albo zabrać. Zależy, jak się zachowasz.</p>
<p>Czasem znajdziesz coś cennego. Czasem coś obrzydliwego. A czasem kogoś obudzisz. <strong>Pamiętaj – nie każde poruszanie się między widokami zużywa energę. </strong>Dopiero konkretne działania albo spacery po dzielnicach zabierają energię</p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => Okej, załapałem jak się poruszać
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => mission
                                    [acfe_flexible_toggle] => 
                                    [mission_id] => 339
                                    [mission_status] => in_progress
                                    [mission_task_id] => jak-poruszac-sie-po-grze_0
                                    [mission_task_status] => completed
                                )

                        )

                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-18 17:56:28] [INFO] Odpowiedzi w dialogu:
[2025-05-18 17:56:28] [DATA] Array
(
    [0] => Array
        (
            [acf_fc_layout] => anwser
            [layout_settings] => Array
                (
                    [visibility_tab] => 
                    [logic_operator] => and
                    [visibility_settings] => 
                )

            [anwser_text] => Okej, załapałem jak się poruszać
            [type_anwser] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => mission
                            [acfe_flexible_toggle] => 
                            [mission_id] => 339
                            [mission_status] => in_progress
                            [mission_task_id] => jak-poruszac-sie-po-grze_0
                            [mission_task_status] => completed
                        )

                )

            [go_to_id] => jak-sie-w-to-gra
        )

)

[2025-05-18 17:56:28] [DEBUG] Znaleziono odpowiedź o indeksie: 0
[2025-05-18 17:56:28] [INFO] Dane odpowiedzi:
[2025-05-18 17:56:28] [DATA] Array
(
    [acf_fc_layout] => anwser
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [anwser_text] => Okej, załapałem jak się poruszać
    [type_anwser] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => mission
                    [acfe_flexible_toggle] => 
                    [mission_id] => 339
                    [mission_status] => in_progress
                    [mission_task_id] => jak-poruszac-sie-po-grze_0
                    [mission_task_status] => completed
                )

        )

    [go_to_id] => jak-sie-w-to-gra
)

[2025-05-18 17:56:28] [INFO] Odpowiedź zawiera akcje do wykonania:
[2025-05-18 17:56:28] [DATA] Array
(
    [0] => Array
        (
            [acf_fc_layout] => mission
            [acfe_flexible_toggle] => 
            [mission_id] => 339
            [mission_status] => in_progress
            [mission_task_id] => jak-poruszac-sie-po-grze_0
            [mission_task_status] => completed
        )

)

[2025-05-18 17:56:28] [INFO] Weryfikacja akcji:
[2025-05-18 17:56:28] [DATA] Array
(
    [acf_fc_layout] => mission
    [acfe_flexible_toggle] => 
    [mission_id] => 339
    [mission_status] => in_progress
    [mission_task_id] => jak-poruszac-sie-po-grze_0
    [mission_task_status] => completed
)

[2025-05-18 17:56:28] [DEBUG] WSZYSTKIE AKCJE SĄ WYKONALNE, PRZYSTĘPUJĘ DO ICH REALIZACJI
[2025-05-18 17:56:28] [INFO] Przetwarzanie akcji:
[2025-05-18 17:56:28] [DATA] Array
(
    [acf_fc_layout] => mission
    [acfe_flexible_toggle] => 
    [mission_id] => 339
    [mission_status] => in_progress
    [mission_task_id] => jak-poruszac-sie-po-grze_0
    [mission_task_status] => completed
)

[2025-05-18 17:56:28] [DEBUG] Typ akcji: mission
[2025-05-18 17:56:28] [DEBUG] Wykonuję akcję misji: mission_id=339, status=in_progress, task_id=jak-poruszac-sie-po-grze_0, task_status=completed, npc_id=449
[2025-05-18 17:56:28] [INFO] Aktualny stan misji użytkownika:
[2025-05-18 17:56:28] [DATA] Array
(
    [status] => in_progress
    [assigned_date] => 2025-04-29 18:04:25
    [completion_date] => 2025-05-15 18:20:13
    [tasks] => Array
        (
            [jak-poruszac-sie-po-grze_0] => completed
            [jak-sie-tu-poruszac_1] => not_started
        )

)

[2025-05-18 17:56:28] [DEBUG] Zaktualizowano status misji 'Przejdź samouczek' z 'in_progress' na 'in_progress'
[2025-05-18 17:56:28] [DEBUG] Zaktualizowano status standardowego zadania 'jak-poruszac-sie-po-grze_0' z 'completed' na 'completed'
[2025-05-18 17:56:28] [DEBUG] Misja nie wymaga aktualizacji - dane nie uległy zmianie
[2025-05-18 17:56:28] [INFO] Utworzono powiadomienie dla misji:
[2025-05-18 17:56:28] [DATA] Array
(
    [message] => Ukończono zadanie: jak-poruszac-sie-po-grze
    [status] => success
)

[2025-05-18 17:56:28] [INFO] DialogManager: Rozpoczynam filtrowanie odpowiedzi.
[2025-05-18 17:56:28] [DATA] Array
(
    [count_answers_before] => 7
    [context] => Array
        (
            [type_page] => 
            [location] => 
            [user_id] => 1
            [npc_id] => 449
        )

)

[2025-05-18 17:56:28] [INFO] DialogManager: Sprawdzanie odpowiedzi: acf_fc_layout
[2025-05-18 17:56:28] [DATA] Array
(
    [answer_data] => question
)

[2025-05-18 17:56:28] [DEBUG] DialogManager: Odpowiedź (acf_fc_layout) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:56:28] [INFO] DialogManager: Sprawdzanie odpowiedzi: layout_settings
[2025-05-18 17:56:28] [DATA] Array
(
    [answer_data] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

)

[2025-05-18 17:56:28] [DEBUG] DialogManager: Odpowiedź (layout_settings) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:56:28] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_toggle
[2025-05-18 17:56:28] [DATA] Array
(
    [answer_data] => 
)

[2025-05-18 17:56:28] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_toggle) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:56:28] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_layout_title
[2025-05-18 17:56:28] [DATA] Array
(
    [answer_data] => Dialog
)

[2025-05-18 17:56:28] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_layout_title) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:56:28] [INFO] DialogManager: Sprawdzanie odpowiedzi: id_pola
[2025-05-18 17:56:28] [DATA] Array
(
    [answer_data] => jak-sie-w-to-gra
)

[2025-05-18 17:56:28] [DEBUG] DialogManager: Odpowiedź (id_pola) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:56:28] [INFO] DialogManager: Sprawdzanie odpowiedzi: question
[2025-05-18 17:56:28] [DATA] Array
(
    [answer_data] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

)

[2025-05-18 17:56:28] [DEBUG] DialogManager: Odpowiedź (question) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:56:28] [INFO] DialogManager: Sprawdzanie odpowiedzi: anwsers
[2025-05-18 17:56:28] [DATA] Array
(
    [answer_data] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_task
                                            [condition] => is_not
                                            [mission_id] => 339
                                            [task_id] => jak-poruszac-sie-po-grze_0
                                            [status] => completed
                                        )

                                )

                        )

                    [anwser_text] => Jak poruszać się po grze?
                    [type_anwser] => 
                    [go_to_id] => jak-poruszac-sie-po-grze
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => test
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-18 17:56:28] [DEBUG] DialogManager: Odpowiedź (anwsers) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:56:28] [INFO] DialogManager: Zakończono filtrowanie odpowiedzi.
[2025-05-18 17:56:28] [DATA] Array
(
    [count_answers_after] => 7
)

[2025-05-18 17:56:28] [INFO] Dialog po filtrowaniu:
[2025-05-18 17:56:28] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-sie-w-to-gra
    [question] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_task
                                            [condition] => is_not
                                            [mission_id] => 339
                                            [task_id] => jak-poruszac-sie-po-grze_0
                                            [status] => completed
                                        )

                                )

                        )

                    [anwser_text] => Jak poruszać się po grze?
                    [type_anwser] => 
                    [go_to_id] => jak-poruszac-sie-po-grze
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => test
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-18 17:56:28] [INFO] Dodano powiadomienie do odpowiedzi:
[2025-05-18 17:56:28] [DATA] Array
(
    [message] => Ukończono zadanie: jak-poruszac-sie-po-grze
    [status] => success
)

[2025-05-18 17:56:28] [INFO] Dane odpowiedzi:
[2025-05-18 17:56:28] [DATA] Array
(
    [success] => 1
    [dialog] => Array
        (
            [id] => jak-sie-w-to-gra
            [text] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

            [answers] => Array
                (
                    [0] => Array
                        (
                            [id] => 
                            [text] => Jak poruszać się po grze?
                            [next_dialog] => jak-poruszac-sie-po-grze
                        )

                    [1] => Array
                        (
                            [id] => 
                            [text] => test
                            [next_dialog] => 0
                        )

                )

        )

    [npc] => Array
        (
            [id] => 449
            [name] => Papuga
            [image] => http://seb.soeasy.it/wp-content/uploads/2025/05/papuga_new.png
        )

    [notification] => Array
        (
            [message] => Ukończono zadanie: jak-poruszac-sie-po-grze
            [status] => success
        )

)

[2025-05-18 17:56:28] [DEBUG] ===== ZAKOŃCZENIE PRZETWARZANIA ŻĄDANIA DIALOGU =====
[2025-05-18 17:56:28] [DEBUG] Obsługa żądania danych użytkownika ID: 1
[2025-05-18 17:56:28] [INFO] Pobrano dane plecaka użytkownika:
[2025-05-18 17:56:28] [DATA] Array
(
    [gold] => 100
    [cigarettes] => 31
)

[2025-05-18 17:56:28] [INFO] Pobrano dane witalności użytkownika:
[2025-05-18 17:56:28] [DATA] Array
(
    [life] => 80
    [max_life] => 100
    [energy] => 70
    [max_energy] => 100
)

[2025-05-18 17:56:28] [INFO] Zwracam dane użytkownika:
[2025-05-18 17:56:28] [DATA] Array
(
    [success] => 1
    [message] => Dane użytkownika pobrane pomyślnie
    [data] => Array
        (
            [backpack] => Array
                (
                    [gold] => 100
                    [cigarettes] => 31
                )

            [vitality] => Array
                (
                    [life] => 80
                    [max_life] => 100
                    [energy] => 70
                    [max_energy] => 100
                )

        )

)

[2025-05-18 17:56:55] [DEBUG] Obsługa żądania danych użytkownika ID: 1
[2025-05-18 17:56:55] [INFO] Pobrano dane plecaka użytkownika:
[2025-05-18 17:56:55] [DATA] Array
(
    [gold] => 100
    [cigarettes] => 31
)

[2025-05-18 17:56:55] [INFO] Pobrano dane witalności użytkownika:
[2025-05-18 17:56:55] [DATA] Array
(
    [life] => 80
    [max_life] => 100
    [energy] => 70
    [max_energy] => 100
)

[2025-05-18 17:56:55] [INFO] Zwracam dane użytkownika:
[2025-05-18 17:56:55] [DATA] Array
(
    [success] => 1
    [message] => Dane użytkownika pobrane pomyślnie
    [data] => Array
        (
            [backpack] => Array
                (
                    [gold] => 100
                    [cigarettes] => 31
                )

            [vitality] => Array
                (
                    [life] => 80
                    [max_life] => 100
                    [energy] => 70
                    [max_energy] => 100
                )

        )

)

[2025-05-18 17:59:14] [INFO] get_first_matching_dialog: Found matching dialog
[2025-05-18 17:59:14] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => condition_task
                            [condition] => is
                            [mission_id] => 339
                            [task_id] => jak-poruszac-sie-po-grze_0
                            [status] => completed
                        )

                )

        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => przy-wiezieniu
    [question] => <p>– No to jesteśmy &#8211; z celi wyszedłeś, <strong>ale do świata Sebastianowa dopiero wchodzisz.</strong><br />
Może Ci się wydaje, że jesteś kimś, że Twoja historia się liczy, że coś ci się należy &#8211; bo miałeś ciężko. To posłuchaj uważnie, zanim się zgubisz między trzepakiem a meliną: <strong>Jesteś jednym z wielu</strong>, co myślą, że jak przetrwali jedną noc na dołku, to teraz świat ich powita z otwartymi ramionami.</p>
<p>Jestem Papuga. To ja otworzyłem ci drzwi. Nie z litości, nie z sympatii. Chcę po prostu zobaczyć, co zrobisz, kiedy w końcu przestanie być łatwo.</p>
<p>Bo w Sebastianowie nic nie jest za darmo. Respekt buduje się decyzjami. A każda z nich zostawia ślad – na tobie albo na kimś innym. <strong>Masz pytania? Pytaj – zanim przestanie to być możliwe.</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_npc_relation
                                            [condition] => is_not_known
                                            [npc_id] => 449
                                            [relation_value] => 50
                                        )

                                )

                        )

                    [anwser_text] => Jak się w to w ogóle gra?
                    [type_anwser] => 
                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-18 17:59:14] [INFO] Filtered dialog
[2025-05-18 17:59:14] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => condition_task
                            [condition] => is
                            [mission_id] => 339
                            [task_id] => jak-poruszac-sie-po-grze_0
                            [status] => completed
                        )

                )

        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => przy-wiezieniu
    [question] => <p>– No to jesteśmy &#8211; z celi wyszedłeś, <strong>ale do świata Sebastianowa dopiero wchodzisz.</strong><br />
Może Ci się wydaje, że jesteś kimś, że Twoja historia się liczy, że coś ci się należy &#8211; bo miałeś ciężko. To posłuchaj uważnie, zanim się zgubisz między trzepakiem a meliną: <strong>Jesteś jednym z wielu</strong>, co myślą, że jak przetrwali jedną noc na dołku, to teraz świat ich powita z otwartymi ramionami.</p>
<p>Jestem Papuga. To ja otworzyłem ci drzwi. Nie z litości, nie z sympatii. Chcę po prostu zobaczyć, co zrobisz, kiedy w końcu przestanie być łatwo.</p>
<p>Bo w Sebastianowie nic nie jest za darmo. Respekt buduje się decyzjami. A każda z nich zostawia ślad – na tobie albo na kimś innym. <strong>Masz pytania? Pytaj – zanim przestanie to być możliwe.</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_npc_relation
                                            [condition] => is_not_known
                                            [npc_id] => 449
                                            [relation_value] => 50
                                        )

                                )

                        )

                    [anwser_text] => Jak się w to w ogóle gra?
                    [type_anwser] => 
                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-18 17:59:15] [INFO] WSZYSTKIE DANE ŻĄDANIA:
[2025-05-18 17:59:15] [DATA] Array
(
    [page_data] => Array
        (
        )

    [npc_id] => 449
    [dialog_id] => jak-sie-w-to-gra
    [current_url] => http://seb.soeasy.it/tereny/park/
    [user_id] => 1
    [answer_id] => answer-0
    [answer_index] => 0
    [current_dialog_id] => przy-wiezieniu
)

[2025-05-18 17:59:15] [INFO] Wyodrębnione dane lokalizacji:
[2025-05-18 17:59:15] [DATA] Array
(
    [location] => Array
        (
            [area_slug] => park
            [area_name] => Park
            [area_id] => 207
        )

    [type_page] => 
    [location_value] => 
)

[2025-05-18 17:59:15] [DEBUG] ROZPOCZYNAM PRZETWARZANIE PRZYCISKÓW ODPOWIEDZI
[2025-05-18 17:59:15] [DEBUG] Znaleziono dialog o ID: przy-wiezieniu
[2025-05-18 17:59:15] [DEBUG] Znaleziono poprzedni dialog ID: przy-wiezieniu
[2025-05-18 17:59:15] [INFO] Pełne dane dialogu:
[2025-05-18 17:59:15] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => condition_task
                            [condition] => is
                            [mission_id] => 339
                            [task_id] => jak-poruszac-sie-po-grze_0
                            [status] => completed
                        )

                )

        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => przy-wiezieniu
    [question] => <p>– No to jesteśmy &#8211; z celi wyszedłeś, <strong>ale do świata Sebastianowa dopiero wchodzisz.</strong><br />
Może Ci się wydaje, że jesteś kimś, że Twoja historia się liczy, że coś ci się należy &#8211; bo miałeś ciężko. To posłuchaj uważnie, zanim się zgubisz między trzepakiem a meliną: <strong>Jesteś jednym z wielu</strong>, co myślą, że jak przetrwali jedną noc na dołku, to teraz świat ich powita z otwartymi ramionami.</p>
<p>Jestem Papuga. To ja otworzyłem ci drzwi. Nie z litości, nie z sympatii. Chcę po prostu zobaczyć, co zrobisz, kiedy w końcu przestanie być łatwo.</p>
<p>Bo w Sebastianowie nic nie jest za darmo. Respekt buduje się decyzjami. A każda z nich zostawia ślad – na tobie albo na kimś innym. <strong>Masz pytania? Pytaj – zanim przestanie to być możliwe.</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_npc_relation
                                            [condition] => is_not_known
                                            [npc_id] => 449
                                            [relation_value] => 50
                                        )

                                )

                        )

                    [anwser_text] => Jak się w to w ogóle gra?
                    [type_anwser] => 
                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-18 17:59:15] [INFO] Odpowiedzi w dialogu:
[2025-05-18 17:59:15] [DATA] Array
(
    [0] => Array
        (
            [acf_fc_layout] => anwser
            [layout_settings] => Array
                (
                    [visibility_tab] => 
                    [logic_operator] => and
                    [visibility_settings] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => condition_npc_relation
                                    [condition] => is_not_known
                                    [npc_id] => 449
                                    [relation_value] => 50
                                )

                        )

                )

            [anwser_text] => Jak się w to w ogóle gra?
            [type_anwser] => 
            [go_to_id] => jak-sie-w-to-gra
        )

)

[2025-05-18 17:59:15] [DEBUG] Znaleziono odpowiedź o indeksie: 0
[2025-05-18 17:59:15] [INFO] Dane odpowiedzi:
[2025-05-18 17:59:15] [DATA] Array
(
    [acf_fc_layout] => anwser
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => condition_npc_relation
                            [condition] => is_not_known
                            [npc_id] => 449
                            [relation_value] => 50
                        )

                )

        )

    [anwser_text] => Jak się w to w ogóle gra?
    [type_anwser] => 
    [go_to_id] => jak-sie-w-to-gra
)

[2025-05-18 17:59:15] [DEBUG] Odpowiedź NIE zawiera akcji type_anwser lub jest pusta
[2025-05-18 17:59:15] [INFO] DialogManager: Rozpoczynam filtrowanie odpowiedzi.
[2025-05-18 17:59:15] [DATA] Array
(
    [count_answers_before] => 7
    [context] => Array
        (
            [type_page] => 
            [location] => 
            [user_id] => 1
            [npc_id] => 449
        )

)

[2025-05-18 17:59:15] [INFO] DialogManager: Sprawdzanie odpowiedzi: acf_fc_layout
[2025-05-18 17:59:15] [DATA] Array
(
    [answer_data] => question
)

[2025-05-18 17:59:15] [DEBUG] DialogManager: Odpowiedź (acf_fc_layout) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:59:15] [INFO] DialogManager: Sprawdzanie odpowiedzi: layout_settings
[2025-05-18 17:59:15] [DATA] Array
(
    [answer_data] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

)

[2025-05-18 17:59:15] [DEBUG] DialogManager: Odpowiedź (layout_settings) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:59:15] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_toggle
[2025-05-18 17:59:15] [DATA] Array
(
    [answer_data] => 
)

[2025-05-18 17:59:15] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_toggle) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:59:15] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_layout_title
[2025-05-18 17:59:15] [DATA] Array
(
    [answer_data] => Dialog
)

[2025-05-18 17:59:15] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_layout_title) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:59:15] [INFO] DialogManager: Sprawdzanie odpowiedzi: id_pola
[2025-05-18 17:59:15] [DATA] Array
(
    [answer_data] => jak-sie-w-to-gra
)

[2025-05-18 17:59:15] [DEBUG] DialogManager: Odpowiedź (id_pola) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:59:15] [INFO] DialogManager: Sprawdzanie odpowiedzi: question
[2025-05-18 17:59:15] [DATA] Array
(
    [answer_data] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

)

[2025-05-18 17:59:15] [DEBUG] DialogManager: Odpowiedź (question) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:59:15] [INFO] DialogManager: Sprawdzanie odpowiedzi: anwsers
[2025-05-18 17:59:15] [DATA] Array
(
    [answer_data] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_task
                                            [condition] => is_not
                                            [mission_id] => 339
                                            [task_id] => jak-poruszac-sie-po-grze_0
                                            [status] => completed
                                        )

                                )

                        )

                    [anwser_text] => Jak poruszać się po grze?
                    [type_anwser] => 
                    [go_to_id] => jak-poruszac-sie-po-grze
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => test
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-18 17:59:15] [DEBUG] DialogManager: Odpowiedź (anwsers) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:59:15] [INFO] DialogManager: Zakończono filtrowanie odpowiedzi.
[2025-05-18 17:59:15] [DATA] Array
(
    [count_answers_after] => 7
)

[2025-05-18 17:59:15] [INFO] Dialog po filtrowaniu:
[2025-05-18 17:59:15] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-sie-w-to-gra
    [question] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_task
                                            [condition] => is_not
                                            [mission_id] => 339
                                            [task_id] => jak-poruszac-sie-po-grze_0
                                            [status] => completed
                                        )

                                )

                        )

                    [anwser_text] => Jak poruszać się po grze?
                    [type_anwser] => 
                    [go_to_id] => jak-poruszac-sie-po-grze
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => test
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-18 17:59:15] [INFO] Dane odpowiedzi:
[2025-05-18 17:59:15] [DATA] Array
(
    [success] => 1
    [dialog] => Array
        (
            [id] => jak-sie-w-to-gra
            [text] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

            [answers] => Array
                (
                    [0] => Array
                        (
                            [id] => 
                            [text] => Jak poruszać się po grze?
                            [next_dialog] => jak-poruszac-sie-po-grze
                        )

                    [1] => Array
                        (
                            [id] => 
                            [text] => test
                            [next_dialog] => 0
                        )

                )

        )

    [npc] => Array
        (
            [id] => 449
            [name] => Papuga
            [image] => http://seb.soeasy.it/wp-content/uploads/2025/05/papuga_new.png
        )

)

[2025-05-18 17:59:15] [DEBUG] ===== ZAKOŃCZENIE PRZETWARZANIA ŻĄDANIA DIALOGU =====
[2025-05-18 17:59:16] [INFO] WSZYSTKIE DANE ŻĄDANIA:
[2025-05-18 17:59:16] [DATA] Array
(
    [page_data] => Array
        (
        )

    [npc_id] => 449
    [dialog_id] => jak-poruszac-sie-po-grze
    [current_url] => http://seb.soeasy.it/tereny/park/
    [user_id] => 1
    [answer_id] => answer-0
    [answer_index] => 0
    [current_dialog_id] => jak-sie-w-to-gra
)

[2025-05-18 17:59:16] [INFO] Wyodrębnione dane lokalizacji:
[2025-05-18 17:59:16] [DATA] Array
(
    [location] => Array
        (
            [area_slug] => park
            [area_name] => Park
            [area_id] => 207
        )

    [type_page] => 
    [location_value] => 
)

[2025-05-18 17:59:16] [DEBUG] ROZPOCZYNAM PRZETWARZANIE PRZYCISKÓW ODPOWIEDZI
[2025-05-18 17:59:16] [DEBUG] Znaleziono dialog o ID: jak-sie-w-to-gra
[2025-05-18 17:59:16] [DEBUG] Znaleziono poprzedni dialog ID: jak-sie-w-to-gra
[2025-05-18 17:59:16] [INFO] Pełne dane dialogu:
[2025-05-18 17:59:16] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-sie-w-to-gra
    [question] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_task
                                            [condition] => is_not
                                            [mission_id] => 339
                                            [task_id] => jak-poruszac-sie-po-grze_0
                                            [status] => completed
                                        )

                                )

                        )

                    [anwser_text] => Jak poruszać się po grze?
                    [type_anwser] => 
                    [go_to_id] => jak-poruszac-sie-po-grze
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => test
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-18 17:59:16] [INFO] Odpowiedzi w dialogu:
[2025-05-18 17:59:16] [DATA] Array
(
    [0] => Array
        (
            [acf_fc_layout] => anwser
            [layout_settings] => Array
                (
                    [visibility_tab] => 
                    [logic_operator] => and
                    [visibility_settings] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => condition_task
                                    [condition] => is_not
                                    [mission_id] => 339
                                    [task_id] => jak-poruszac-sie-po-grze_0
                                    [status] => completed
                                )

                        )

                )

            [anwser_text] => Jak poruszać się po grze?
            [type_anwser] => 
            [go_to_id] => jak-poruszac-sie-po-grze
        )

    [1] => Array
        (
            [acf_fc_layout] => anwser
            [layout_settings] => Array
                (
                    [visibility_tab] => 
                    [logic_operator] => and
                    [visibility_settings] => 
                )

            [anwser_text] => test
            [type_anwser] => 
            [go_to_id] => 0
        )

)

[2025-05-18 17:59:16] [DEBUG] Znaleziono odpowiedź o indeksie: 0
[2025-05-18 17:59:16] [INFO] Dane odpowiedzi:
[2025-05-18 17:59:16] [DATA] Array
(
    [acf_fc_layout] => anwser
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => condition_task
                            [condition] => is_not
                            [mission_id] => 339
                            [task_id] => jak-poruszac-sie-po-grze_0
                            [status] => completed
                        )

                )

        )

    [anwser_text] => Jak poruszać się po grze?
    [type_anwser] => 
    [go_to_id] => jak-poruszac-sie-po-grze
)

[2025-05-18 17:59:16] [DEBUG] Odpowiedź NIE zawiera akcji type_anwser lub jest pusta
[2025-05-18 17:59:16] [INFO] DialogManager: Rozpoczynam filtrowanie odpowiedzi.
[2025-05-18 17:59:16] [DATA] Array
(
    [count_answers_before] => 7
    [context] => Array
        (
            [type_page] => 
            [location] => 
            [user_id] => 1
            [npc_id] => 449
        )

)

[2025-05-18 17:59:16] [INFO] DialogManager: Sprawdzanie odpowiedzi: acf_fc_layout
[2025-05-18 17:59:16] [DATA] Array
(
    [answer_data] => question
)

[2025-05-18 17:59:16] [DEBUG] DialogManager: Odpowiedź (acf_fc_layout) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:59:16] [INFO] DialogManager: Sprawdzanie odpowiedzi: layout_settings
[2025-05-18 17:59:16] [DATA] Array
(
    [answer_data] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

)

[2025-05-18 17:59:16] [DEBUG] DialogManager: Odpowiedź (layout_settings) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:59:16] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_toggle
[2025-05-18 17:59:16] [DATA] Array
(
    [answer_data] => 
)

[2025-05-18 17:59:16] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_toggle) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:59:16] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_layout_title
[2025-05-18 17:59:16] [DATA] Array
(
    [answer_data] => Dialog
)

[2025-05-18 17:59:16] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_layout_title) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:59:16] [INFO] DialogManager: Sprawdzanie odpowiedzi: id_pola
[2025-05-18 17:59:16] [DATA] Array
(
    [answer_data] => jak-poruszac-sie-po-grze
)

[2025-05-18 17:59:16] [DEBUG] DialogManager: Odpowiedź (id_pola) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:59:16] [INFO] DialogManager: Sprawdzanie odpowiedzi: question
[2025-05-18 17:59:16] [DATA] Array
(
    [answer_data] => <p><strong>Każda scena to jeden widok – jak kadr z życia</strong>. Na nim są miejsca, osoby i przedmioty, z którymi możesz wejść w interakcję. Biały kolor oznacza przejście do innej sceny. Możesz przejść z bramy na klatkę, z meliny do sklepu, z podwórka do innej dzielnicy. Te przejścia nie kosztują Cię nic energii.</p>
<p><strong>Niebieski kolor to akcje z otoczeniem. </strong>Grzebanie w śmietniku, kontenerze na ubrania, zaglądanie do kiosku, przeszukiwanie bagażnika, otwieranie skrytki – tutaj każda akcja kosztuje pewną ilość energii. <strong>Postacie mają kolorowe obwódki. Klikasz – zaczyna się rozmowa.</strong></p>
<ul>
<li>Zielony – lubią cię.</li>
<li>Czerwony – nie cierpią.</li>
<li>Pomarańczowy – neutralni, jeszcze nie wiedzą, co o tobie sądzić.</li>
</ul>
<p>Każda rozmowa może Ci coś dać – albo zabrać. Zależy, jak się zachowasz.</p>
<p>Czasem znajdziesz coś cennego. Czasem coś obrzydliwego. A czasem kogoś obudzisz. <strong>Pamiętaj – nie każde poruszanie się między widokami zużywa energę. </strong>Dopiero konkretne działania albo spacery po dzielnicach zabierają energię</p>

)

[2025-05-18 17:59:16] [DEBUG] DialogManager: Odpowiedź (question) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:59:16] [INFO] DialogManager: Sprawdzanie odpowiedzi: anwsers
[2025-05-18 17:59:16] [DATA] Array
(
    [answer_data] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => Okej, załapałem jak się poruszać
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => mission
                                    [acfe_flexible_toggle] => 
                                    [mission_id] => 339
                                    [mission_status] => in_progress
                                    [mission_task_id] => jak-poruszac-sie-po-grze_0
                                    [mission_task_status] => completed
                                )

                        )

                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-18 17:59:16] [DEBUG] DialogManager: Odpowiedź (anwsers) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:59:16] [INFO] DialogManager: Zakończono filtrowanie odpowiedzi.
[2025-05-18 17:59:16] [DATA] Array
(
    [count_answers_after] => 7
)

[2025-05-18 17:59:16] [INFO] Dialog po filtrowaniu:
[2025-05-18 17:59:16] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-poruszac-sie-po-grze
    [question] => <p><strong>Każda scena to jeden widok – jak kadr z życia</strong>. Na nim są miejsca, osoby i przedmioty, z którymi możesz wejść w interakcję. Biały kolor oznacza przejście do innej sceny. Możesz przejść z bramy na klatkę, z meliny do sklepu, z podwórka do innej dzielnicy. Te przejścia nie kosztują Cię nic energii.</p>
<p><strong>Niebieski kolor to akcje z otoczeniem. </strong>Grzebanie w śmietniku, kontenerze na ubrania, zaglądanie do kiosku, przeszukiwanie bagażnika, otwieranie skrytki – tutaj każda akcja kosztuje pewną ilość energii. <strong>Postacie mają kolorowe obwódki. Klikasz – zaczyna się rozmowa.</strong></p>
<ul>
<li>Zielony – lubią cię.</li>
<li>Czerwony – nie cierpią.</li>
<li>Pomarańczowy – neutralni, jeszcze nie wiedzą, co o tobie sądzić.</li>
</ul>
<p>Każda rozmowa może Ci coś dać – albo zabrać. Zależy, jak się zachowasz.</p>
<p>Czasem znajdziesz coś cennego. Czasem coś obrzydliwego. A czasem kogoś obudzisz. <strong>Pamiętaj – nie każde poruszanie się między widokami zużywa energę. </strong>Dopiero konkretne działania albo spacery po dzielnicach zabierają energię</p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => Okej, załapałem jak się poruszać
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => mission
                                    [acfe_flexible_toggle] => 
                                    [mission_id] => 339
                                    [mission_status] => in_progress
                                    [mission_task_id] => jak-poruszac-sie-po-grze_0
                                    [mission_task_status] => completed
                                )

                        )

                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-18 17:59:16] [INFO] Dane odpowiedzi:
[2025-05-18 17:59:16] [DATA] Array
(
    [success] => 1
    [dialog] => Array
        (
            [id] => jak-poruszac-sie-po-grze
            [text] => <p><strong>Każda scena to jeden widok – jak kadr z życia</strong>. Na nim są miejsca, osoby i przedmioty, z którymi możesz wejść w interakcję. Biały kolor oznacza przejście do innej sceny. Możesz przejść z bramy na klatkę, z meliny do sklepu, z podwórka do innej dzielnicy. Te przejścia nie kosztują Cię nic energii.</p>
<p><strong>Niebieski kolor to akcje z otoczeniem. </strong>Grzebanie w śmietniku, kontenerze na ubrania, zaglądanie do kiosku, przeszukiwanie bagażnika, otwieranie skrytki – tutaj każda akcja kosztuje pewną ilość energii. <strong>Postacie mają kolorowe obwódki. Klikasz – zaczyna się rozmowa.</strong></p>
<ul>
<li>Zielony – lubią cię.</li>
<li>Czerwony – nie cierpią.</li>
<li>Pomarańczowy – neutralni, jeszcze nie wiedzą, co o tobie sądzić.</li>
</ul>
<p>Każda rozmowa może Ci coś dać – albo zabrać. Zależy, jak się zachowasz.</p>
<p>Czasem znajdziesz coś cennego. Czasem coś obrzydliwego. A czasem kogoś obudzisz. <strong>Pamiętaj – nie każde poruszanie się między widokami zużywa energę. </strong>Dopiero konkretne działania albo spacery po dzielnicach zabierają energię</p>

            [answers] => Array
                (
                    [0] => Array
                        (
                            [id] => 
                            [text] => Okej, załapałem jak się poruszać
                            [next_dialog] => jak-sie-w-to-gra
                        )

                )

        )

    [npc] => Array
        (
            [id] => 449
            [name] => Papuga
            [image] => http://seb.soeasy.it/wp-content/uploads/2025/05/papuga_new.png
        )

)

[2025-05-18 17:59:16] [DEBUG] ===== ZAKOŃCZENIE PRZETWARZANIA ŻĄDANIA DIALOGU =====
[2025-05-18 17:59:18] [INFO] WSZYSTKIE DANE ŻĄDANIA:
[2025-05-18 17:59:18] [DATA] Array
(
    [page_data] => Array
        (
        )

    [npc_id] => 449
    [dialog_id] => jak-sie-w-to-gra
    [current_url] => http://seb.soeasy.it/tereny/park/
    [user_id] => 1
    [answer_id] => answer-0
    [answer_index] => 0
    [current_dialog_id] => jak-poruszac-sie-po-grze
)

[2025-05-18 17:59:18] [INFO] Wyodrębnione dane lokalizacji:
[2025-05-18 17:59:18] [DATA] Array
(
    [location] => Array
        (
            [area_slug] => park
            [area_name] => Park
            [area_id] => 207
        )

    [type_page] => 
    [location_value] => 
)

[2025-05-18 17:59:18] [DEBUG] ROZPOCZYNAM PRZETWARZANIE PRZYCISKÓW ODPOWIEDZI
[2025-05-18 17:59:18] [DEBUG] Znaleziono dialog o ID: jak-poruszac-sie-po-grze
[2025-05-18 17:59:18] [DEBUG] Znaleziono poprzedni dialog ID: jak-poruszac-sie-po-grze
[2025-05-18 17:59:18] [INFO] Pełne dane dialogu:
[2025-05-18 17:59:18] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-poruszac-sie-po-grze
    [question] => <p><strong>Każda scena to jeden widok – jak kadr z życia</strong>. Na nim są miejsca, osoby i przedmioty, z którymi możesz wejść w interakcję. Biały kolor oznacza przejście do innej sceny. Możesz przejść z bramy na klatkę, z meliny do sklepu, z podwórka do innej dzielnicy. Te przejścia nie kosztują Cię nic energii.</p>
<p><strong>Niebieski kolor to akcje z otoczeniem. </strong>Grzebanie w śmietniku, kontenerze na ubrania, zaglądanie do kiosku, przeszukiwanie bagażnika, otwieranie skrytki – tutaj każda akcja kosztuje pewną ilość energii. <strong>Postacie mają kolorowe obwódki. Klikasz – zaczyna się rozmowa.</strong></p>
<ul>
<li>Zielony – lubią cię.</li>
<li>Czerwony – nie cierpią.</li>
<li>Pomarańczowy – neutralni, jeszcze nie wiedzą, co o tobie sądzić.</li>
</ul>
<p>Każda rozmowa może Ci coś dać – albo zabrać. Zależy, jak się zachowasz.</p>
<p>Czasem znajdziesz coś cennego. Czasem coś obrzydliwego. A czasem kogoś obudzisz. <strong>Pamiętaj – nie każde poruszanie się między widokami zużywa energę. </strong>Dopiero konkretne działania albo spacery po dzielnicach zabierają energię</p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => Okej, załapałem jak się poruszać
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => mission
                                    [acfe_flexible_toggle] => 
                                    [mission_id] => 339
                                    [mission_status] => in_progress
                                    [mission_task_id] => jak-poruszac-sie-po-grze_0
                                    [mission_task_status] => completed
                                )

                        )

                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-18 17:59:18] [INFO] Odpowiedzi w dialogu:
[2025-05-18 17:59:18] [DATA] Array
(
    [0] => Array
        (
            [acf_fc_layout] => anwser
            [layout_settings] => Array
                (
                    [visibility_tab] => 
                    [logic_operator] => and
                    [visibility_settings] => 
                )

            [anwser_text] => Okej, załapałem jak się poruszać
            [type_anwser] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => mission
                            [acfe_flexible_toggle] => 
                            [mission_id] => 339
                            [mission_status] => in_progress
                            [mission_task_id] => jak-poruszac-sie-po-grze_0
                            [mission_task_status] => completed
                        )

                )

            [go_to_id] => jak-sie-w-to-gra
        )

)

[2025-05-18 17:59:18] [DEBUG] Znaleziono odpowiedź o indeksie: 0
[2025-05-18 17:59:18] [INFO] Dane odpowiedzi:
[2025-05-18 17:59:18] [DATA] Array
(
    [acf_fc_layout] => anwser
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [anwser_text] => Okej, załapałem jak się poruszać
    [type_anwser] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => mission
                    [acfe_flexible_toggle] => 
                    [mission_id] => 339
                    [mission_status] => in_progress
                    [mission_task_id] => jak-poruszac-sie-po-grze_0
                    [mission_task_status] => completed
                )

        )

    [go_to_id] => jak-sie-w-to-gra
)

[2025-05-18 17:59:18] [INFO] Odpowiedź zawiera akcje do wykonania:
[2025-05-18 17:59:18] [DATA] Array
(
    [0] => Array
        (
            [acf_fc_layout] => mission
            [acfe_flexible_toggle] => 
            [mission_id] => 339
            [mission_status] => in_progress
            [mission_task_id] => jak-poruszac-sie-po-grze_0
            [mission_task_status] => completed
        )

)

[2025-05-18 17:59:18] [INFO] Weryfikacja akcji:
[2025-05-18 17:59:18] [DATA] Array
(
    [acf_fc_layout] => mission
    [acfe_flexible_toggle] => 
    [mission_id] => 339
    [mission_status] => in_progress
    [mission_task_id] => jak-poruszac-sie-po-grze_0
    [mission_task_status] => completed
)

[2025-05-18 17:59:18] [DEBUG] WSZYSTKIE AKCJE SĄ WYKONALNE, PRZYSTĘPUJĘ DO ICH REALIZACJI
[2025-05-18 17:59:18] [INFO] Przetwarzanie akcji:
[2025-05-18 17:59:18] [DATA] Array
(
    [acf_fc_layout] => mission
    [acfe_flexible_toggle] => 
    [mission_id] => 339
    [mission_status] => in_progress
    [mission_task_id] => jak-poruszac-sie-po-grze_0
    [mission_task_status] => completed
)

[2025-05-18 17:59:18] [DEBUG] Typ akcji: mission
[2025-05-18 17:59:18] [DEBUG] Wykonuję akcję misji: mission_id=339, status=in_progress, task_id=jak-poruszac-sie-po-grze_0, task_status=completed, npc_id=449
[2025-05-18 17:59:18] [INFO] Aktualny stan misji użytkownika:
[2025-05-18 17:59:18] [DATA] Array
(
    [status] => in_progress
    [assigned_date] => 2025-04-29 18:04:25
    [completion_date] => 2025-05-15 18:20:13
    [tasks] => Array
        (
            [jak-poruszac-sie-po-grze_0] => completed
            [jak-sie-tu-poruszac_1] => not_started
        )

)

[2025-05-18 17:59:18] [DEBUG] Zaktualizowano status misji 'Przejdź samouczek' z 'in_progress' na 'in_progress'
[2025-05-18 17:59:18] [DEBUG] Zaktualizowano status standardowego zadania 'jak-poruszac-sie-po-grze_0' z 'completed' na 'completed'
[2025-05-18 17:59:18] [DEBUG] Misja nie wymaga aktualizacji - dane nie uległy zmianie
[2025-05-18 17:59:18] [INFO] Utworzono powiadomienie dla misji:
[2025-05-18 17:59:18] [DATA] Array
(
    [message] => Ukończono zadanie: jak-poruszac-sie-po-grze
    [status] => success
)

[2025-05-18 17:59:18] [INFO] DialogManager: Rozpoczynam filtrowanie odpowiedzi.
[2025-05-18 17:59:18] [DATA] Array
(
    [count_answers_before] => 7
    [context] => Array
        (
            [type_page] => 
            [location] => 
            [user_id] => 1
            [npc_id] => 449
        )

)

[2025-05-18 17:59:18] [INFO] DialogManager: Sprawdzanie odpowiedzi: acf_fc_layout
[2025-05-18 17:59:18] [DATA] Array
(
    [answer_data] => question
)

[2025-05-18 17:59:18] [DEBUG] DialogManager: Odpowiedź (acf_fc_layout) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:59:18] [INFO] DialogManager: Sprawdzanie odpowiedzi: layout_settings
[2025-05-18 17:59:18] [DATA] Array
(
    [answer_data] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

)

[2025-05-18 17:59:18] [DEBUG] DialogManager: Odpowiedź (layout_settings) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:59:18] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_toggle
[2025-05-18 17:59:18] [DATA] Array
(
    [answer_data] => 
)

[2025-05-18 17:59:18] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_toggle) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:59:18] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_layout_title
[2025-05-18 17:59:18] [DATA] Array
(
    [answer_data] => Dialog
)

[2025-05-18 17:59:18] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_layout_title) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:59:18] [INFO] DialogManager: Sprawdzanie odpowiedzi: id_pola
[2025-05-18 17:59:18] [DATA] Array
(
    [answer_data] => jak-sie-w-to-gra
)

[2025-05-18 17:59:18] [DEBUG] DialogManager: Odpowiedź (id_pola) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:59:18] [INFO] DialogManager: Sprawdzanie odpowiedzi: question
[2025-05-18 17:59:18] [DATA] Array
(
    [answer_data] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

)

[2025-05-18 17:59:18] [DEBUG] DialogManager: Odpowiedź (question) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:59:18] [INFO] DialogManager: Sprawdzanie odpowiedzi: anwsers
[2025-05-18 17:59:18] [DATA] Array
(
    [answer_data] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_task
                                            [condition] => is_not
                                            [mission_id] => 339
                                            [task_id] => jak-poruszac-sie-po-grze_0
                                            [status] => completed
                                        )

                                )

                        )

                    [anwser_text] => Jak poruszać się po grze?
                    [type_anwser] => 
                    [go_to_id] => jak-poruszac-sie-po-grze
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => test
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-18 17:59:18] [DEBUG] DialogManager: Odpowiedź (anwsers) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:59:18] [INFO] DialogManager: Zakończono filtrowanie odpowiedzi.
[2025-05-18 17:59:18] [DATA] Array
(
    [count_answers_after] => 7
)

[2025-05-18 17:59:18] [INFO] Dialog po filtrowaniu:
[2025-05-18 17:59:18] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-sie-w-to-gra
    [question] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_task
                                            [condition] => is_not
                                            [mission_id] => 339
                                            [task_id] => jak-poruszac-sie-po-grze_0
                                            [status] => completed
                                        )

                                )

                        )

                    [anwser_text] => Jak poruszać się po grze?
                    [type_anwser] => 
                    [go_to_id] => jak-poruszac-sie-po-grze
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => test
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-18 17:59:18] [INFO] Dodano powiadomienie do odpowiedzi:
[2025-05-18 17:59:18] [DATA] Array
(
    [message] => Ukończono zadanie: jak-poruszac-sie-po-grze
    [status] => success
)

[2025-05-18 17:59:18] [INFO] Dane odpowiedzi:
[2025-05-18 17:59:18] [DATA] Array
(
    [success] => 1
    [dialog] => Array
        (
            [id] => jak-sie-w-to-gra
            [text] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

            [answers] => Array
                (
                    [0] => Array
                        (
                            [id] => 
                            [text] => Jak poruszać się po grze?
                            [next_dialog] => jak-poruszac-sie-po-grze
                        )

                    [1] => Array
                        (
                            [id] => 
                            [text] => test
                            [next_dialog] => 0
                        )

                )

        )

    [npc] => Array
        (
            [id] => 449
            [name] => Papuga
            [image] => http://seb.soeasy.it/wp-content/uploads/2025/05/papuga_new.png
        )

    [notification] => Array
        (
            [message] => Ukończono zadanie: jak-poruszac-sie-po-grze
            [status] => success
        )

)

[2025-05-18 17:59:18] [DEBUG] ===== ZAKOŃCZENIE PRZETWARZANIA ŻĄDANIA DIALOGU =====
[2025-05-18 17:59:18] [DEBUG] Obsługa żądania danych użytkownika ID: 1
[2025-05-18 17:59:18] [INFO] Pobrano dane plecaka użytkownika:
[2025-05-18 17:59:18] [DATA] Array
(
    [gold] => 100
    [cigarettes] => 31
)

[2025-05-18 17:59:18] [INFO] Pobrano dane witalności użytkownika:
[2025-05-18 17:59:18] [DATA] Array
(
    [life] => 80
    [max_life] => 100
    [energy] => 70
    [max_energy] => 100
)

[2025-05-18 17:59:18] [INFO] Zwracam dane użytkownika:
[2025-05-18 17:59:18] [DATA] Array
(
    [success] => 1
    [message] => Dane użytkownika pobrane pomyślnie
    [data] => Array
        (
            [backpack] => Array
                (
                    [gold] => 100
                    [cigarettes] => 31
                )

            [vitality] => Array
                (
                    [life] => 80
                    [max_life] => 100
                    [energy] => 70
                    [max_energy] => 100
                )

        )

)

[2025-05-18 17:59:38] [INFO] get_first_matching_dialog: Found matching dialog
[2025-05-18 17:59:38] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => condition_task
                            [condition] => is
                            [mission_id] => 339
                            [task_id] => jak-poruszac-sie-po-grze_0
                            [status] => completed
                        )

                )

        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => przy-wiezieniu
    [question] => <p>– No to jesteśmy &#8211; z celi wyszedłeś, <strong>ale do świata Sebastianowa dopiero wchodzisz.</strong><br />
Może Ci się wydaje, że jesteś kimś, że Twoja historia się liczy, że coś ci się należy &#8211; bo miałeś ciężko. To posłuchaj uważnie, zanim się zgubisz między trzepakiem a meliną: <strong>Jesteś jednym z wielu</strong>, co myślą, że jak przetrwali jedną noc na dołku, to teraz świat ich powita z otwartymi ramionami.</p>
<p>Jestem Papuga. To ja otworzyłem ci drzwi. Nie z litości, nie z sympatii. Chcę po prostu zobaczyć, co zrobisz, kiedy w końcu przestanie być łatwo.</p>
<p>Bo w Sebastianowie nic nie jest za darmo. Respekt buduje się decyzjami. A każda z nich zostawia ślad – na tobie albo na kimś innym. <strong>Masz pytania? Pytaj – zanim przestanie to być możliwe.</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_npc_relation
                                            [condition] => is_not_known
                                            [npc_id] => 449
                                            [relation_value] => 50
                                        )

                                )

                        )

                    [anwser_text] => Jak się w to w ogóle gra?
                    [type_anwser] => 
                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-18 17:59:38] [INFO] Filtered dialog
[2025-05-18 17:59:38] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => condition_task
                            [condition] => is
                            [mission_id] => 339
                            [task_id] => jak-poruszac-sie-po-grze_0
                            [status] => completed
                        )

                )

        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => przy-wiezieniu
    [question] => <p>– No to jesteśmy &#8211; z celi wyszedłeś, <strong>ale do świata Sebastianowa dopiero wchodzisz.</strong><br />
Może Ci się wydaje, że jesteś kimś, że Twoja historia się liczy, że coś ci się należy &#8211; bo miałeś ciężko. To posłuchaj uważnie, zanim się zgubisz między trzepakiem a meliną: <strong>Jesteś jednym z wielu</strong>, co myślą, że jak przetrwali jedną noc na dołku, to teraz świat ich powita z otwartymi ramionami.</p>
<p>Jestem Papuga. To ja otworzyłem ci drzwi. Nie z litości, nie z sympatii. Chcę po prostu zobaczyć, co zrobisz, kiedy w końcu przestanie być łatwo.</p>
<p>Bo w Sebastianowie nic nie jest za darmo. Respekt buduje się decyzjami. A każda z nich zostawia ślad – na tobie albo na kimś innym. <strong>Masz pytania? Pytaj – zanim przestanie to być możliwe.</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_npc_relation
                                            [condition] => is_not_known
                                            [npc_id] => 449
                                            [relation_value] => 50
                                        )

                                )

                        )

                    [anwser_text] => Jak się w to w ogóle gra?
                    [type_anwser] => 
                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-18 17:59:38] [INFO] WSZYSTKIE DANE ŻĄDANIA:
[2025-05-18 17:59:38] [DATA] Array
(
    [page_data] => Array
        (
        )

    [npc_id] => 449
    [dialog_id] => jak-sie-w-to-gra
    [current_url] => http://seb.soeasy.it/tereny/park/
    [user_id] => 1
    [answer_id] => answer-0
    [answer_index] => 0
    [current_dialog_id] => przy-wiezieniu
)

[2025-05-18 17:59:38] [INFO] Wyodrębnione dane lokalizacji:
[2025-05-18 17:59:38] [DATA] Array
(
    [location] => Array
        (
            [area_slug] => park
            [area_name] => Park
            [area_id] => 207
        )

    [type_page] => 
    [location_value] => 
)

[2025-05-18 17:59:38] [DEBUG] ROZPOCZYNAM PRZETWARZANIE PRZYCISKÓW ODPOWIEDZI
[2025-05-18 17:59:38] [DEBUG] Znaleziono dialog o ID: przy-wiezieniu
[2025-05-18 17:59:38] [DEBUG] Znaleziono poprzedni dialog ID: przy-wiezieniu
[2025-05-18 17:59:38] [INFO] Pełne dane dialogu:
[2025-05-18 17:59:38] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => condition_task
                            [condition] => is
                            [mission_id] => 339
                            [task_id] => jak-poruszac-sie-po-grze_0
                            [status] => completed
                        )

                )

        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => przy-wiezieniu
    [question] => <p>– No to jesteśmy &#8211; z celi wyszedłeś, <strong>ale do świata Sebastianowa dopiero wchodzisz.</strong><br />
Może Ci się wydaje, że jesteś kimś, że Twoja historia się liczy, że coś ci się należy &#8211; bo miałeś ciężko. To posłuchaj uważnie, zanim się zgubisz między trzepakiem a meliną: <strong>Jesteś jednym z wielu</strong>, co myślą, że jak przetrwali jedną noc na dołku, to teraz świat ich powita z otwartymi ramionami.</p>
<p>Jestem Papuga. To ja otworzyłem ci drzwi. Nie z litości, nie z sympatii. Chcę po prostu zobaczyć, co zrobisz, kiedy w końcu przestanie być łatwo.</p>
<p>Bo w Sebastianowie nic nie jest za darmo. Respekt buduje się decyzjami. A każda z nich zostawia ślad – na tobie albo na kimś innym. <strong>Masz pytania? Pytaj – zanim przestanie to być możliwe.</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_npc_relation
                                            [condition] => is_not_known
                                            [npc_id] => 449
                                            [relation_value] => 50
                                        )

                                )

                        )

                    [anwser_text] => Jak się w to w ogóle gra?
                    [type_anwser] => 
                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-18 17:59:38] [INFO] Odpowiedzi w dialogu:
[2025-05-18 17:59:38] [DATA] Array
(
    [0] => Array
        (
            [acf_fc_layout] => anwser
            [layout_settings] => Array
                (
                    [visibility_tab] => 
                    [logic_operator] => and
                    [visibility_settings] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => condition_npc_relation
                                    [condition] => is_not_known
                                    [npc_id] => 449
                                    [relation_value] => 50
                                )

                        )

                )

            [anwser_text] => Jak się w to w ogóle gra?
            [type_anwser] => 
            [go_to_id] => jak-sie-w-to-gra
        )

)

[2025-05-18 17:59:38] [DEBUG] Znaleziono odpowiedź o indeksie: 0
[2025-05-18 17:59:38] [INFO] Dane odpowiedzi:
[2025-05-18 17:59:38] [DATA] Array
(
    [acf_fc_layout] => anwser
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => condition_npc_relation
                            [condition] => is_not_known
                            [npc_id] => 449
                            [relation_value] => 50
                        )

                )

        )

    [anwser_text] => Jak się w to w ogóle gra?
    [type_anwser] => 
    [go_to_id] => jak-sie-w-to-gra
)

[2025-05-18 17:59:38] [DEBUG] Odpowiedź NIE zawiera akcji type_anwser lub jest pusta
[2025-05-18 17:59:38] [INFO] DialogManager: Rozpoczynam filtrowanie odpowiedzi.
[2025-05-18 17:59:38] [DATA] Array
(
    [count_answers_before] => 7
    [context] => Array
        (
            [type_page] => 
            [location] => 
            [user_id] => 1
            [npc_id] => 449
        )

)

[2025-05-18 17:59:38] [INFO] DialogManager: Sprawdzanie odpowiedzi: acf_fc_layout
[2025-05-18 17:59:38] [DATA] Array
(
    [answer_data] => question
)

[2025-05-18 17:59:38] [DEBUG] DialogManager: Odpowiedź (acf_fc_layout) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:59:38] [INFO] DialogManager: Sprawdzanie odpowiedzi: layout_settings
[2025-05-18 17:59:38] [DATA] Array
(
    [answer_data] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

)

[2025-05-18 17:59:38] [DEBUG] DialogManager: Odpowiedź (layout_settings) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:59:38] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_toggle
[2025-05-18 17:59:38] [DATA] Array
(
    [answer_data] => 
)

[2025-05-18 17:59:38] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_toggle) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:59:38] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_layout_title
[2025-05-18 17:59:38] [DATA] Array
(
    [answer_data] => Dialog
)

[2025-05-18 17:59:38] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_layout_title) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:59:38] [INFO] DialogManager: Sprawdzanie odpowiedzi: id_pola
[2025-05-18 17:59:38] [DATA] Array
(
    [answer_data] => jak-sie-w-to-gra
)

[2025-05-18 17:59:38] [DEBUG] DialogManager: Odpowiedź (id_pola) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:59:38] [INFO] DialogManager: Sprawdzanie odpowiedzi: question
[2025-05-18 17:59:38] [DATA] Array
(
    [answer_data] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

)

[2025-05-18 17:59:38] [DEBUG] DialogManager: Odpowiedź (question) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:59:38] [INFO] DialogManager: Sprawdzanie odpowiedzi: anwsers
[2025-05-18 17:59:38] [DATA] Array
(
    [answer_data] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_task
                                            [condition] => is_not
                                            [mission_id] => 339
                                            [task_id] => jak-poruszac-sie-po-grze_0
                                            [status] => completed
                                        )

                                )

                        )

                    [anwser_text] => Jak poruszać się po grze?
                    [type_anwser] => 
                    [go_to_id] => jak-poruszac-sie-po-grze
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => test
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-18 17:59:38] [DEBUG] DialogManager: Odpowiedź (anwsers) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:59:38] [INFO] DialogManager: Zakończono filtrowanie odpowiedzi.
[2025-05-18 17:59:38] [DATA] Array
(
    [count_answers_after] => 7
)

[2025-05-18 17:59:38] [INFO] Dialog po filtrowaniu:
[2025-05-18 17:59:38] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-sie-w-to-gra
    [question] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_task
                                            [condition] => is_not
                                            [mission_id] => 339
                                            [task_id] => jak-poruszac-sie-po-grze_0
                                            [status] => completed
                                        )

                                )

                        )

                    [anwser_text] => Jak poruszać się po grze?
                    [type_anwser] => 
                    [go_to_id] => jak-poruszac-sie-po-grze
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => test
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-18 17:59:38] [INFO] Dane odpowiedzi:
[2025-05-18 17:59:38] [DATA] Array
(
    [success] => 1
    [dialog] => Array
        (
            [id] => jak-sie-w-to-gra
            [text] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

            [answers] => Array
                (
                    [0] => Array
                        (
                            [id] => 
                            [text] => Jak poruszać się po grze?
                            [next_dialog] => jak-poruszac-sie-po-grze
                        )

                    [1] => Array
                        (
                            [id] => 
                            [text] => test
                            [next_dialog] => 0
                        )

                )

        )

    [npc] => Array
        (
            [id] => 449
            [name] => Papuga
            [image] => http://seb.soeasy.it/wp-content/uploads/2025/05/papuga_new.png
        )

)

[2025-05-18 17:59:38] [DEBUG] ===== ZAKOŃCZENIE PRZETWARZANIA ŻĄDANIA DIALOGU =====
[2025-05-18 17:59:39] [INFO] WSZYSTKIE DANE ŻĄDANIA:
[2025-05-18 17:59:39] [DATA] Array
(
    [page_data] => Array
        (
        )

    [npc_id] => 449
    [dialog_id] => jak-poruszac-sie-po-grze
    [current_url] => http://seb.soeasy.it/tereny/park/
    [user_id] => 1
    [answer_id] => answer-0
    [answer_index] => 0
    [current_dialog_id] => jak-sie-w-to-gra
)

[2025-05-18 17:59:39] [INFO] Wyodrębnione dane lokalizacji:
[2025-05-18 17:59:39] [DATA] Array
(
    [location] => Array
        (
            [area_slug] => park
            [area_name] => Park
            [area_id] => 207
        )

    [type_page] => 
    [location_value] => 
)

[2025-05-18 17:59:39] [DEBUG] ROZPOCZYNAM PRZETWARZANIE PRZYCISKÓW ODPOWIEDZI
[2025-05-18 17:59:39] [DEBUG] Znaleziono dialog o ID: jak-sie-w-to-gra
[2025-05-18 17:59:39] [DEBUG] Znaleziono poprzedni dialog ID: jak-sie-w-to-gra
[2025-05-18 17:59:39] [INFO] Pełne dane dialogu:
[2025-05-18 17:59:39] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-sie-w-to-gra
    [question] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_task
                                            [condition] => is_not
                                            [mission_id] => 339
                                            [task_id] => jak-poruszac-sie-po-grze_0
                                            [status] => completed
                                        )

                                )

                        )

                    [anwser_text] => Jak poruszać się po grze?
                    [type_anwser] => 
                    [go_to_id] => jak-poruszac-sie-po-grze
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => test
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-18 17:59:39] [INFO] Odpowiedzi w dialogu:
[2025-05-18 17:59:39] [DATA] Array
(
    [0] => Array
        (
            [acf_fc_layout] => anwser
            [layout_settings] => Array
                (
                    [visibility_tab] => 
                    [logic_operator] => and
                    [visibility_settings] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => condition_task
                                    [condition] => is_not
                                    [mission_id] => 339
                                    [task_id] => jak-poruszac-sie-po-grze_0
                                    [status] => completed
                                )

                        )

                )

            [anwser_text] => Jak poruszać się po grze?
            [type_anwser] => 
            [go_to_id] => jak-poruszac-sie-po-grze
        )

    [1] => Array
        (
            [acf_fc_layout] => anwser
            [layout_settings] => Array
                (
                    [visibility_tab] => 
                    [logic_operator] => and
                    [visibility_settings] => 
                )

            [anwser_text] => test
            [type_anwser] => 
            [go_to_id] => 0
        )

)

[2025-05-18 17:59:39] [DEBUG] Znaleziono odpowiedź o indeksie: 0
[2025-05-18 17:59:39] [INFO] Dane odpowiedzi:
[2025-05-18 17:59:39] [DATA] Array
(
    [acf_fc_layout] => anwser
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => condition_task
                            [condition] => is_not
                            [mission_id] => 339
                            [task_id] => jak-poruszac-sie-po-grze_0
                            [status] => completed
                        )

                )

        )

    [anwser_text] => Jak poruszać się po grze?
    [type_anwser] => 
    [go_to_id] => jak-poruszac-sie-po-grze
)

[2025-05-18 17:59:39] [DEBUG] Odpowiedź NIE zawiera akcji type_anwser lub jest pusta
[2025-05-18 17:59:39] [INFO] DialogManager: Rozpoczynam filtrowanie odpowiedzi.
[2025-05-18 17:59:39] [DATA] Array
(
    [count_answers_before] => 7
    [context] => Array
        (
            [type_page] => 
            [location] => 
            [user_id] => 1
            [npc_id] => 449
        )

)

[2025-05-18 17:59:39] [INFO] DialogManager: Sprawdzanie odpowiedzi: acf_fc_layout
[2025-05-18 17:59:39] [DATA] Array
(
    [answer_data] => question
)

[2025-05-18 17:59:39] [DEBUG] DialogManager: Odpowiedź (acf_fc_layout) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:59:39] [INFO] DialogManager: Sprawdzanie odpowiedzi: layout_settings
[2025-05-18 17:59:39] [DATA] Array
(
    [answer_data] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

)

[2025-05-18 17:59:39] [DEBUG] DialogManager: Odpowiedź (layout_settings) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:59:39] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_toggle
[2025-05-18 17:59:39] [DATA] Array
(
    [answer_data] => 
)

[2025-05-18 17:59:39] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_toggle) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:59:39] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_layout_title
[2025-05-18 17:59:39] [DATA] Array
(
    [answer_data] => Dialog
)

[2025-05-18 17:59:39] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_layout_title) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:59:39] [INFO] DialogManager: Sprawdzanie odpowiedzi: id_pola
[2025-05-18 17:59:39] [DATA] Array
(
    [answer_data] => jak-poruszac-sie-po-grze
)

[2025-05-18 17:59:39] [DEBUG] DialogManager: Odpowiedź (id_pola) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:59:39] [INFO] DialogManager: Sprawdzanie odpowiedzi: question
[2025-05-18 17:59:39] [DATA] Array
(
    [answer_data] => <p><strong>Każda scena to jeden widok – jak kadr z życia</strong>. Na nim są miejsca, osoby i przedmioty, z którymi możesz wejść w interakcję. Biały kolor oznacza przejście do innej sceny. Możesz przejść z bramy na klatkę, z meliny do sklepu, z podwórka do innej dzielnicy. Te przejścia nie kosztują Cię nic energii.</p>
<p><strong>Niebieski kolor to akcje z otoczeniem. </strong>Grzebanie w śmietniku, kontenerze na ubrania, zaglądanie do kiosku, przeszukiwanie bagażnika, otwieranie skrytki – tutaj każda akcja kosztuje pewną ilość energii. <strong>Postacie mają kolorowe obwódki. Klikasz – zaczyna się rozmowa.</strong></p>
<ul>
<li>Zielony – lubią cię.</li>
<li>Czerwony – nie cierpią.</li>
<li>Pomarańczowy – neutralni, jeszcze nie wiedzą, co o tobie sądzić.</li>
</ul>
<p>Każda rozmowa może Ci coś dać – albo zabrać. Zależy, jak się zachowasz.</p>
<p>Czasem znajdziesz coś cennego. Czasem coś obrzydliwego. A czasem kogoś obudzisz. <strong>Pamiętaj – nie każde poruszanie się między widokami zużywa energę. </strong>Dopiero konkretne działania albo spacery po dzielnicach zabierają energię</p>

)

[2025-05-18 17:59:39] [DEBUG] DialogManager: Odpowiedź (question) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:59:39] [INFO] DialogManager: Sprawdzanie odpowiedzi: anwsers
[2025-05-18 17:59:39] [DATA] Array
(
    [answer_data] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => Okej, załapałem jak się poruszać
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => mission
                                    [acfe_flexible_toggle] => 
                                    [mission_id] => 339
                                    [mission_status] => in_progress
                                    [mission_task_id] => jak-poruszac-sie-po-grze_0
                                    [mission_task_status] => completed
                                )

                        )

                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-18 17:59:39] [DEBUG] DialogManager: Odpowiedź (anwsers) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:59:39] [INFO] DialogManager: Zakończono filtrowanie odpowiedzi.
[2025-05-18 17:59:39] [DATA] Array
(
    [count_answers_after] => 7
)

[2025-05-18 17:59:39] [INFO] Dialog po filtrowaniu:
[2025-05-18 17:59:39] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-poruszac-sie-po-grze
    [question] => <p><strong>Każda scena to jeden widok – jak kadr z życia</strong>. Na nim są miejsca, osoby i przedmioty, z którymi możesz wejść w interakcję. Biały kolor oznacza przejście do innej sceny. Możesz przejść z bramy na klatkę, z meliny do sklepu, z podwórka do innej dzielnicy. Te przejścia nie kosztują Cię nic energii.</p>
<p><strong>Niebieski kolor to akcje z otoczeniem. </strong>Grzebanie w śmietniku, kontenerze na ubrania, zaglądanie do kiosku, przeszukiwanie bagażnika, otwieranie skrytki – tutaj każda akcja kosztuje pewną ilość energii. <strong>Postacie mają kolorowe obwódki. Klikasz – zaczyna się rozmowa.</strong></p>
<ul>
<li>Zielony – lubią cię.</li>
<li>Czerwony – nie cierpią.</li>
<li>Pomarańczowy – neutralni, jeszcze nie wiedzą, co o tobie sądzić.</li>
</ul>
<p>Każda rozmowa może Ci coś dać – albo zabrać. Zależy, jak się zachowasz.</p>
<p>Czasem znajdziesz coś cennego. Czasem coś obrzydliwego. A czasem kogoś obudzisz. <strong>Pamiętaj – nie każde poruszanie się między widokami zużywa energę. </strong>Dopiero konkretne działania albo spacery po dzielnicach zabierają energię</p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => Okej, załapałem jak się poruszać
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => mission
                                    [acfe_flexible_toggle] => 
                                    [mission_id] => 339
                                    [mission_status] => in_progress
                                    [mission_task_id] => jak-poruszac-sie-po-grze_0
                                    [mission_task_status] => completed
                                )

                        )

                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-18 17:59:39] [INFO] Dane odpowiedzi:
[2025-05-18 17:59:39] [DATA] Array
(
    [success] => 1
    [dialog] => Array
        (
            [id] => jak-poruszac-sie-po-grze
            [text] => <p><strong>Każda scena to jeden widok – jak kadr z życia</strong>. Na nim są miejsca, osoby i przedmioty, z którymi możesz wejść w interakcję. Biały kolor oznacza przejście do innej sceny. Możesz przejść z bramy na klatkę, z meliny do sklepu, z podwórka do innej dzielnicy. Te przejścia nie kosztują Cię nic energii.</p>
<p><strong>Niebieski kolor to akcje z otoczeniem. </strong>Grzebanie w śmietniku, kontenerze na ubrania, zaglądanie do kiosku, przeszukiwanie bagażnika, otwieranie skrytki – tutaj każda akcja kosztuje pewną ilość energii. <strong>Postacie mają kolorowe obwódki. Klikasz – zaczyna się rozmowa.</strong></p>
<ul>
<li>Zielony – lubią cię.</li>
<li>Czerwony – nie cierpią.</li>
<li>Pomarańczowy – neutralni, jeszcze nie wiedzą, co o tobie sądzić.</li>
</ul>
<p>Każda rozmowa może Ci coś dać – albo zabrać. Zależy, jak się zachowasz.</p>
<p>Czasem znajdziesz coś cennego. Czasem coś obrzydliwego. A czasem kogoś obudzisz. <strong>Pamiętaj – nie każde poruszanie się między widokami zużywa energę. </strong>Dopiero konkretne działania albo spacery po dzielnicach zabierają energię</p>

            [answers] => Array
                (
                    [0] => Array
                        (
                            [id] => 
                            [text] => Okej, załapałem jak się poruszać
                            [next_dialog] => jak-sie-w-to-gra
                        )

                )

        )

    [npc] => Array
        (
            [id] => 449
            [name] => Papuga
            [image] => http://seb.soeasy.it/wp-content/uploads/2025/05/papuga_new.png
        )

)

[2025-05-18 17:59:39] [DEBUG] ===== ZAKOŃCZENIE PRZETWARZANIA ŻĄDANIA DIALOGU =====
[2025-05-18 17:59:41] [INFO] WSZYSTKIE DANE ŻĄDANIA:
[2025-05-18 17:59:41] [DATA] Array
(
    [page_data] => Array
        (
        )

    [npc_id] => 449
    [dialog_id] => jak-sie-w-to-gra
    [current_url] => http://seb.soeasy.it/tereny/park/
    [user_id] => 1
    [answer_id] => answer-0
    [answer_index] => 0
    [current_dialog_id] => jak-poruszac-sie-po-grze
)

[2025-05-18 17:59:41] [INFO] Wyodrębnione dane lokalizacji:
[2025-05-18 17:59:41] [DATA] Array
(
    [location] => Array
        (
            [area_slug] => park
            [area_name] => Park
            [area_id] => 207
        )

    [type_page] => 
    [location_value] => 
)

[2025-05-18 17:59:41] [DEBUG] ROZPOCZYNAM PRZETWARZANIE PRZYCISKÓW ODPOWIEDZI
[2025-05-18 17:59:41] [DEBUG] Znaleziono dialog o ID: jak-poruszac-sie-po-grze
[2025-05-18 17:59:41] [DEBUG] Znaleziono poprzedni dialog ID: jak-poruszac-sie-po-grze
[2025-05-18 17:59:41] [INFO] Pełne dane dialogu:
[2025-05-18 17:59:41] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-poruszac-sie-po-grze
    [question] => <p><strong>Każda scena to jeden widok – jak kadr z życia</strong>. Na nim są miejsca, osoby i przedmioty, z którymi możesz wejść w interakcję. Biały kolor oznacza przejście do innej sceny. Możesz przejść z bramy na klatkę, z meliny do sklepu, z podwórka do innej dzielnicy. Te przejścia nie kosztują Cię nic energii.</p>
<p><strong>Niebieski kolor to akcje z otoczeniem. </strong>Grzebanie w śmietniku, kontenerze na ubrania, zaglądanie do kiosku, przeszukiwanie bagażnika, otwieranie skrytki – tutaj każda akcja kosztuje pewną ilość energii. <strong>Postacie mają kolorowe obwódki. Klikasz – zaczyna się rozmowa.</strong></p>
<ul>
<li>Zielony – lubią cię.</li>
<li>Czerwony – nie cierpią.</li>
<li>Pomarańczowy – neutralni, jeszcze nie wiedzą, co o tobie sądzić.</li>
</ul>
<p>Każda rozmowa może Ci coś dać – albo zabrać. Zależy, jak się zachowasz.</p>
<p>Czasem znajdziesz coś cennego. Czasem coś obrzydliwego. A czasem kogoś obudzisz. <strong>Pamiętaj – nie każde poruszanie się między widokami zużywa energę. </strong>Dopiero konkretne działania albo spacery po dzielnicach zabierają energię</p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => Okej, załapałem jak się poruszać
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => mission
                                    [acfe_flexible_toggle] => 
                                    [mission_id] => 339
                                    [mission_status] => in_progress
                                    [mission_task_id] => jak-poruszac-sie-po-grze_0
                                    [mission_task_status] => completed
                                )

                        )

                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-18 17:59:41] [INFO] Odpowiedzi w dialogu:
[2025-05-18 17:59:41] [DATA] Array
(
    [0] => Array
        (
            [acf_fc_layout] => anwser
            [layout_settings] => Array
                (
                    [visibility_tab] => 
                    [logic_operator] => and
                    [visibility_settings] => 
                )

            [anwser_text] => Okej, załapałem jak się poruszać
            [type_anwser] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => mission
                            [acfe_flexible_toggle] => 
                            [mission_id] => 339
                            [mission_status] => in_progress
                            [mission_task_id] => jak-poruszac-sie-po-grze_0
                            [mission_task_status] => completed
                        )

                )

            [go_to_id] => jak-sie-w-to-gra
        )

)

[2025-05-18 17:59:41] [DEBUG] Znaleziono odpowiedź o indeksie: 0
[2025-05-18 17:59:41] [INFO] Dane odpowiedzi:
[2025-05-18 17:59:41] [DATA] Array
(
    [acf_fc_layout] => anwser
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [anwser_text] => Okej, załapałem jak się poruszać
    [type_anwser] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => mission
                    [acfe_flexible_toggle] => 
                    [mission_id] => 339
                    [mission_status] => in_progress
                    [mission_task_id] => jak-poruszac-sie-po-grze_0
                    [mission_task_status] => completed
                )

        )

    [go_to_id] => jak-sie-w-to-gra
)

[2025-05-18 17:59:41] [INFO] Odpowiedź zawiera akcje do wykonania:
[2025-05-18 17:59:41] [DATA] Array
(
    [0] => Array
        (
            [acf_fc_layout] => mission
            [acfe_flexible_toggle] => 
            [mission_id] => 339
            [mission_status] => in_progress
            [mission_task_id] => jak-poruszac-sie-po-grze_0
            [mission_task_status] => completed
        )

)

[2025-05-18 17:59:41] [INFO] Weryfikacja akcji:
[2025-05-18 17:59:41] [DATA] Array
(
    [acf_fc_layout] => mission
    [acfe_flexible_toggle] => 
    [mission_id] => 339
    [mission_status] => in_progress
    [mission_task_id] => jak-poruszac-sie-po-grze_0
    [mission_task_status] => completed
)

[2025-05-18 17:59:41] [DEBUG] WSZYSTKIE AKCJE SĄ WYKONALNE, PRZYSTĘPUJĘ DO ICH REALIZACJI
[2025-05-18 17:59:41] [INFO] Przetwarzanie akcji:
[2025-05-18 17:59:41] [DATA] Array
(
    [acf_fc_layout] => mission
    [acfe_flexible_toggle] => 
    [mission_id] => 339
    [mission_status] => in_progress
    [mission_task_id] => jak-poruszac-sie-po-grze_0
    [mission_task_status] => completed
)

[2025-05-18 17:59:41] [DEBUG] Typ akcji: mission
[2025-05-18 17:59:41] [DEBUG] Wykonuję akcję misji: mission_id=339, status=in_progress, task_id=jak-poruszac-sie-po-grze_0, task_status=completed, npc_id=449
[2025-05-18 17:59:41] [INFO] Aktualny stan misji użytkownika:
[2025-05-18 17:59:41] [DATA] Array
(
    [status] => in_progress
    [assigned_date] => 2025-04-29 18:04:25
    [completion_date] => 2025-05-15 18:20:13
    [tasks] => Array
        (
            [jak-poruszac-sie-po-grze_0] => completed
            [jak-sie-tu-poruszac_1] => not_started
        )

)

[2025-05-18 17:59:41] [DEBUG] Zaktualizowano status misji 'Przejdź samouczek' z 'in_progress' na 'in_progress'
[2025-05-18 17:59:41] [DEBUG] Zaktualizowano status standardowego zadania 'jak-poruszac-sie-po-grze_0' z 'completed' na 'completed'
[2025-05-18 17:59:41] [DEBUG] Misja nie wymaga aktualizacji - dane nie uległy zmianie
[2025-05-18 17:59:41] [INFO] Utworzono powiadomienie dla misji:
[2025-05-18 17:59:41] [DATA] Array
(
    [message] => Ukończono zadanie: jak-poruszac-sie-po-grze
    [status] => success
)

[2025-05-18 17:59:41] [INFO] DialogManager: Rozpoczynam filtrowanie odpowiedzi.
[2025-05-18 17:59:41] [DATA] Array
(
    [count_answers_before] => 7
    [context] => Array
        (
            [type_page] => 
            [location] => 
            [user_id] => 1
            [npc_id] => 449
        )

)

[2025-05-18 17:59:41] [INFO] DialogManager: Sprawdzanie odpowiedzi: acf_fc_layout
[2025-05-18 17:59:41] [DATA] Array
(
    [answer_data] => question
)

[2025-05-18 17:59:41] [DEBUG] DialogManager: Odpowiedź (acf_fc_layout) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:59:41] [INFO] DialogManager: Sprawdzanie odpowiedzi: layout_settings
[2025-05-18 17:59:41] [DATA] Array
(
    [answer_data] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

)

[2025-05-18 17:59:41] [DEBUG] DialogManager: Odpowiedź (layout_settings) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:59:41] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_toggle
[2025-05-18 17:59:41] [DATA] Array
(
    [answer_data] => 
)

[2025-05-18 17:59:41] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_toggle) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:59:41] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_layout_title
[2025-05-18 17:59:41] [DATA] Array
(
    [answer_data] => Dialog
)

[2025-05-18 17:59:41] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_layout_title) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:59:41] [INFO] DialogManager: Sprawdzanie odpowiedzi: id_pola
[2025-05-18 17:59:41] [DATA] Array
(
    [answer_data] => jak-sie-w-to-gra
)

[2025-05-18 17:59:41] [DEBUG] DialogManager: Odpowiedź (id_pola) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:59:41] [INFO] DialogManager: Sprawdzanie odpowiedzi: question
[2025-05-18 17:59:41] [DATA] Array
(
    [answer_data] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

)

[2025-05-18 17:59:41] [DEBUG] DialogManager: Odpowiedź (question) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:59:41] [INFO] DialogManager: Sprawdzanie odpowiedzi: anwsers
[2025-05-18 17:59:41] [DATA] Array
(
    [answer_data] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_task
                                            [condition] => is_not
                                            [mission_id] => 339
                                            [task_id] => jak-poruszac-sie-po-grze_0
                                            [status] => completed
                                        )

                                )

                        )

                    [anwser_text] => Jak poruszać się po grze?
                    [type_anwser] => 
                    [go_to_id] => jak-poruszac-sie-po-grze
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => test
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-18 17:59:41] [DEBUG] DialogManager: Odpowiedź (anwsers) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:59:41] [INFO] DialogManager: Zakończono filtrowanie odpowiedzi.
[2025-05-18 17:59:41] [DATA] Array
(
    [count_answers_after] => 7
)

[2025-05-18 17:59:41] [INFO] Dialog po filtrowaniu:
[2025-05-18 17:59:41] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-sie-w-to-gra
    [question] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_task
                                            [condition] => is_not
                                            [mission_id] => 339
                                            [task_id] => jak-poruszac-sie-po-grze_0
                                            [status] => completed
                                        )

                                )

                        )

                    [anwser_text] => Jak poruszać się po grze?
                    [type_anwser] => 
                    [go_to_id] => jak-poruszac-sie-po-grze
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => test
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-18 17:59:41] [INFO] Dodano powiadomienie do odpowiedzi:
[2025-05-18 17:59:41] [DATA] Array
(
    [message] => Ukończono zadanie: jak-poruszac-sie-po-grze
    [status] => success
)

[2025-05-18 17:59:41] [INFO] Dane odpowiedzi:
[2025-05-18 17:59:41] [DATA] Array
(
    [success] => 1
    [dialog] => Array
        (
            [id] => jak-sie-w-to-gra
            [text] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

            [answers] => Array
                (
                    [0] => Array
                        (
                            [id] => 
                            [text] => Jak poruszać się po grze?
                            [next_dialog] => jak-poruszac-sie-po-grze
                        )

                    [1] => Array
                        (
                            [id] => 
                            [text] => test
                            [next_dialog] => 0
                        )

                )

        )

    [npc] => Array
        (
            [id] => 449
            [name] => Papuga
            [image] => http://seb.soeasy.it/wp-content/uploads/2025/05/papuga_new.png
        )

    [notification] => Array
        (
            [message] => Ukończono zadanie: jak-poruszac-sie-po-grze
            [status] => success
        )

)

[2025-05-18 17:59:41] [DEBUG] ===== ZAKOŃCZENIE PRZETWARZANIA ŻĄDANIA DIALOGU =====
[2025-05-18 17:59:41] [DEBUG] Obsługa żądania danych użytkownika ID: 1
[2025-05-18 17:59:41] [INFO] Pobrano dane plecaka użytkownika:
[2025-05-18 17:59:41] [DATA] Array
(
    [gold] => 100
    [cigarettes] => 31
)

[2025-05-18 17:59:41] [INFO] Pobrano dane witalności użytkownika:
[2025-05-18 17:59:41] [DATA] Array
(
    [life] => 80
    [max_life] => 100
    [energy] => 70
    [max_energy] => 100
)

[2025-05-18 17:59:41] [INFO] Zwracam dane użytkownika:
[2025-05-18 17:59:41] [DATA] Array
(
    [success] => 1
    [message] => Dane użytkownika pobrane pomyślnie
    [data] => Array
        (
            [backpack] => Array
                (
                    [gold] => 100
                    [cigarettes] => 31
                )

            [vitality] => Array
                (
                    [life] => 80
                    [max_life] => 100
                    [energy] => 70
                    [max_energy] => 100
                )

        )

)

[2025-05-18 17:59:50] [INFO] get_first_matching_dialog: Found matching dialog
[2025-05-18 17:59:50] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => condition_task
                            [condition] => is
                            [mission_id] => 339
                            [task_id] => jak-poruszac-sie-po-grze_0
                            [status] => completed
                        )

                )

        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => przy-wiezieniu
    [question] => <p>– No to jesteśmy &#8211; z celi wyszedłeś, <strong>ale do świata Sebastianowa dopiero wchodzisz.</strong><br />
Może Ci się wydaje, że jesteś kimś, że Twoja historia się liczy, że coś ci się należy &#8211; bo miałeś ciężko. To posłuchaj uważnie, zanim się zgubisz między trzepakiem a meliną: <strong>Jesteś jednym z wielu</strong>, co myślą, że jak przetrwali jedną noc na dołku, to teraz świat ich powita z otwartymi ramionami.</p>
<p>Jestem Papuga. To ja otworzyłem ci drzwi. Nie z litości, nie z sympatii. Chcę po prostu zobaczyć, co zrobisz, kiedy w końcu przestanie być łatwo.</p>
<p>Bo w Sebastianowie nic nie jest za darmo. Respekt buduje się decyzjami. A każda z nich zostawia ślad – na tobie albo na kimś innym. <strong>Masz pytania? Pytaj – zanim przestanie to być możliwe.</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_npc_relation
                                            [condition] => is_not_known
                                            [npc_id] => 449
                                            [relation_value] => 50
                                        )

                                )

                        )

                    [anwser_text] => Jak się w to w ogóle gra?
                    [type_anwser] => 
                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-18 17:59:50] [INFO] Filtered dialog
[2025-05-18 17:59:50] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => condition_task
                            [condition] => is
                            [mission_id] => 339
                            [task_id] => jak-poruszac-sie-po-grze_0
                            [status] => completed
                        )

                )

        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => przy-wiezieniu
    [question] => <p>– No to jesteśmy &#8211; z celi wyszedłeś, <strong>ale do świata Sebastianowa dopiero wchodzisz.</strong><br />
Może Ci się wydaje, że jesteś kimś, że Twoja historia się liczy, że coś ci się należy &#8211; bo miałeś ciężko. To posłuchaj uważnie, zanim się zgubisz między trzepakiem a meliną: <strong>Jesteś jednym z wielu</strong>, co myślą, że jak przetrwali jedną noc na dołku, to teraz świat ich powita z otwartymi ramionami.</p>
<p>Jestem Papuga. To ja otworzyłem ci drzwi. Nie z litości, nie z sympatii. Chcę po prostu zobaczyć, co zrobisz, kiedy w końcu przestanie być łatwo.</p>
<p>Bo w Sebastianowie nic nie jest za darmo. Respekt buduje się decyzjami. A każda z nich zostawia ślad – na tobie albo na kimś innym. <strong>Masz pytania? Pytaj – zanim przestanie to być możliwe.</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_npc_relation
                                            [condition] => is_not_known
                                            [npc_id] => 449
                                            [relation_value] => 50
                                        )

                                )

                        )

                    [anwser_text] => Jak się w to w ogóle gra?
                    [type_anwser] => 
                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-18 17:59:51] [INFO] WSZYSTKIE DANE ŻĄDANIA:
[2025-05-18 17:59:51] [DATA] Array
(
    [page_data] => Array
        (
        )

    [npc_id] => 449
    [dialog_id] => jak-sie-w-to-gra
    [current_url] => http://seb.soeasy.it/tereny/park/
    [user_id] => 1
    [answer_id] => answer-0
    [answer_index] => 0
    [current_dialog_id] => przy-wiezieniu
)

[2025-05-18 17:59:51] [INFO] Wyodrębnione dane lokalizacji:
[2025-05-18 17:59:51] [DATA] Array
(
    [location] => Array
        (
            [area_slug] => park
            [area_name] => Park
            [area_id] => 207
        )

    [type_page] => 
    [location_value] => 
)

[2025-05-18 17:59:51] [DEBUG] ROZPOCZYNAM PRZETWARZANIE PRZYCISKÓW ODPOWIEDZI
[2025-05-18 17:59:51] [DEBUG] Znaleziono dialog o ID: przy-wiezieniu
[2025-05-18 17:59:51] [DEBUG] Znaleziono poprzedni dialog ID: przy-wiezieniu
[2025-05-18 17:59:51] [INFO] Pełne dane dialogu:
[2025-05-18 17:59:51] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => condition_task
                            [condition] => is
                            [mission_id] => 339
                            [task_id] => jak-poruszac-sie-po-grze_0
                            [status] => completed
                        )

                )

        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => przy-wiezieniu
    [question] => <p>– No to jesteśmy &#8211; z celi wyszedłeś, <strong>ale do świata Sebastianowa dopiero wchodzisz.</strong><br />
Może Ci się wydaje, że jesteś kimś, że Twoja historia się liczy, że coś ci się należy &#8211; bo miałeś ciężko. To posłuchaj uważnie, zanim się zgubisz między trzepakiem a meliną: <strong>Jesteś jednym z wielu</strong>, co myślą, że jak przetrwali jedną noc na dołku, to teraz świat ich powita z otwartymi ramionami.</p>
<p>Jestem Papuga. To ja otworzyłem ci drzwi. Nie z litości, nie z sympatii. Chcę po prostu zobaczyć, co zrobisz, kiedy w końcu przestanie być łatwo.</p>
<p>Bo w Sebastianowie nic nie jest za darmo. Respekt buduje się decyzjami. A każda z nich zostawia ślad – na tobie albo na kimś innym. <strong>Masz pytania? Pytaj – zanim przestanie to być możliwe.</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_npc_relation
                                            [condition] => is_not_known
                                            [npc_id] => 449
                                            [relation_value] => 50
                                        )

                                )

                        )

                    [anwser_text] => Jak się w to w ogóle gra?
                    [type_anwser] => 
                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-18 17:59:51] [INFO] Odpowiedzi w dialogu:
[2025-05-18 17:59:51] [DATA] Array
(
    [0] => Array
        (
            [acf_fc_layout] => anwser
            [layout_settings] => Array
                (
                    [visibility_tab] => 
                    [logic_operator] => and
                    [visibility_settings] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => condition_npc_relation
                                    [condition] => is_not_known
                                    [npc_id] => 449
                                    [relation_value] => 50
                                )

                        )

                )

            [anwser_text] => Jak się w to w ogóle gra?
            [type_anwser] => 
            [go_to_id] => jak-sie-w-to-gra
        )

)

[2025-05-18 17:59:51] [DEBUG] Znaleziono odpowiedź o indeksie: 0
[2025-05-18 17:59:51] [INFO] Dane odpowiedzi:
[2025-05-18 17:59:51] [DATA] Array
(
    [acf_fc_layout] => anwser
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => condition_npc_relation
                            [condition] => is_not_known
                            [npc_id] => 449
                            [relation_value] => 50
                        )

                )

        )

    [anwser_text] => Jak się w to w ogóle gra?
    [type_anwser] => 
    [go_to_id] => jak-sie-w-to-gra
)

[2025-05-18 17:59:51] [DEBUG] Odpowiedź NIE zawiera akcji type_anwser lub jest pusta
[2025-05-18 17:59:51] [INFO] DialogManager: Rozpoczynam filtrowanie odpowiedzi.
[2025-05-18 17:59:51] [DATA] Array
(
    [count_answers_before] => 7
    [context] => Array
        (
            [type_page] => 
            [location] => 
            [user_id] => 1
            [npc_id] => 449
        )

)

[2025-05-18 17:59:51] [INFO] DialogManager: Sprawdzanie odpowiedzi: acf_fc_layout
[2025-05-18 17:59:51] [DATA] Array
(
    [answer_data] => question
)

[2025-05-18 17:59:51] [DEBUG] DialogManager: Odpowiedź (acf_fc_layout) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:59:51] [INFO] DialogManager: Sprawdzanie odpowiedzi: layout_settings
[2025-05-18 17:59:51] [DATA] Array
(
    [answer_data] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

)

[2025-05-18 17:59:51] [DEBUG] DialogManager: Odpowiedź (layout_settings) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:59:51] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_toggle
[2025-05-18 17:59:51] [DATA] Array
(
    [answer_data] => 
)

[2025-05-18 17:59:51] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_toggle) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:59:51] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_layout_title
[2025-05-18 17:59:51] [DATA] Array
(
    [answer_data] => Dialog
)

[2025-05-18 17:59:51] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_layout_title) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:59:51] [INFO] DialogManager: Sprawdzanie odpowiedzi: id_pola
[2025-05-18 17:59:51] [DATA] Array
(
    [answer_data] => jak-sie-w-to-gra
)

[2025-05-18 17:59:51] [DEBUG] DialogManager: Odpowiedź (id_pola) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:59:51] [INFO] DialogManager: Sprawdzanie odpowiedzi: question
[2025-05-18 17:59:51] [DATA] Array
(
    [answer_data] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

)

[2025-05-18 17:59:51] [DEBUG] DialogManager: Odpowiedź (question) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:59:51] [INFO] DialogManager: Sprawdzanie odpowiedzi: anwsers
[2025-05-18 17:59:51] [DATA] Array
(
    [answer_data] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_task
                                            [condition] => is_not
                                            [mission_id] => 339
                                            [task_id] => jak-poruszac-sie-po-grze_0
                                            [status] => completed
                                        )

                                )

                        )

                    [anwser_text] => Jak poruszać się po grze?
                    [type_anwser] => 
                    [go_to_id] => jak-poruszac-sie-po-grze
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => test
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-18 17:59:51] [DEBUG] DialogManager: Odpowiedź (anwsers) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:59:51] [INFO] DialogManager: Zakończono filtrowanie odpowiedzi.
[2025-05-18 17:59:51] [DATA] Array
(
    [count_answers_after] => 7
)

[2025-05-18 17:59:51] [INFO] Dialog po filtrowaniu:
[2025-05-18 17:59:51] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-sie-w-to-gra
    [question] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_task
                                            [condition] => is_not
                                            [mission_id] => 339
                                            [task_id] => jak-poruszac-sie-po-grze_0
                                            [status] => completed
                                        )

                                )

                        )

                    [anwser_text] => Jak poruszać się po grze?
                    [type_anwser] => 
                    [go_to_id] => jak-poruszac-sie-po-grze
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => test
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-18 17:59:51] [INFO] Dane odpowiedzi:
[2025-05-18 17:59:51] [DATA] Array
(
    [success] => 1
    [dialog] => Array
        (
            [id] => jak-sie-w-to-gra
            [text] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

            [answers] => Array
                (
                    [0] => Array
                        (
                            [id] => 
                            [text] => Jak poruszać się po grze?
                            [next_dialog] => jak-poruszac-sie-po-grze
                        )

                    [1] => Array
                        (
                            [id] => 
                            [text] => test
                            [next_dialog] => 0
                        )

                )

        )

    [npc] => Array
        (
            [id] => 449
            [name] => Papuga
            [image] => http://seb.soeasy.it/wp-content/uploads/2025/05/papuga_new.png
        )

)

[2025-05-18 17:59:51] [DEBUG] ===== ZAKOŃCZENIE PRZETWARZANIA ŻĄDANIA DIALOGU =====
[2025-05-18 17:59:52] [INFO] WSZYSTKIE DANE ŻĄDANIA:
[2025-05-18 17:59:52] [DATA] Array
(
    [page_data] => Array
        (
        )

    [npc_id] => 449
    [dialog_id] => jak-poruszac-sie-po-grze
    [current_url] => http://seb.soeasy.it/tereny/park/
    [user_id] => 1
    [answer_id] => answer-0
    [answer_index] => 0
    [current_dialog_id] => jak-sie-w-to-gra
)

[2025-05-18 17:59:52] [INFO] Wyodrębnione dane lokalizacji:
[2025-05-18 17:59:52] [DATA] Array
(
    [location] => Array
        (
            [area_slug] => park
            [area_name] => Park
            [area_id] => 207
        )

    [type_page] => 
    [location_value] => 
)

[2025-05-18 17:59:52] [DEBUG] ROZPOCZYNAM PRZETWARZANIE PRZYCISKÓW ODPOWIEDZI
[2025-05-18 17:59:52] [DEBUG] Znaleziono dialog o ID: jak-sie-w-to-gra
[2025-05-18 17:59:52] [DEBUG] Znaleziono poprzedni dialog ID: jak-sie-w-to-gra
[2025-05-18 17:59:52] [INFO] Pełne dane dialogu:
[2025-05-18 17:59:52] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-sie-w-to-gra
    [question] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_task
                                            [condition] => is_not
                                            [mission_id] => 339
                                            [task_id] => jak-poruszac-sie-po-grze_0
                                            [status] => completed
                                        )

                                )

                        )

                    [anwser_text] => Jak poruszać się po grze?
                    [type_anwser] => 
                    [go_to_id] => jak-poruszac-sie-po-grze
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => test
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-18 17:59:52] [INFO] Odpowiedzi w dialogu:
[2025-05-18 17:59:52] [DATA] Array
(
    [0] => Array
        (
            [acf_fc_layout] => anwser
            [layout_settings] => Array
                (
                    [visibility_tab] => 
                    [logic_operator] => and
                    [visibility_settings] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => condition_task
                                    [condition] => is_not
                                    [mission_id] => 339
                                    [task_id] => jak-poruszac-sie-po-grze_0
                                    [status] => completed
                                )

                        )

                )

            [anwser_text] => Jak poruszać się po grze?
            [type_anwser] => 
            [go_to_id] => jak-poruszac-sie-po-grze
        )

    [1] => Array
        (
            [acf_fc_layout] => anwser
            [layout_settings] => Array
                (
                    [visibility_tab] => 
                    [logic_operator] => and
                    [visibility_settings] => 
                )

            [anwser_text] => test
            [type_anwser] => 
            [go_to_id] => 0
        )

)

[2025-05-18 17:59:52] [DEBUG] Znaleziono odpowiedź o indeksie: 0
[2025-05-18 17:59:52] [INFO] Dane odpowiedzi:
[2025-05-18 17:59:52] [DATA] Array
(
    [acf_fc_layout] => anwser
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => condition_task
                            [condition] => is_not
                            [mission_id] => 339
                            [task_id] => jak-poruszac-sie-po-grze_0
                            [status] => completed
                        )

                )

        )

    [anwser_text] => Jak poruszać się po grze?
    [type_anwser] => 
    [go_to_id] => jak-poruszac-sie-po-grze
)

[2025-05-18 17:59:52] [DEBUG] Odpowiedź NIE zawiera akcji type_anwser lub jest pusta
[2025-05-18 17:59:52] [INFO] DialogManager: Rozpoczynam filtrowanie odpowiedzi.
[2025-05-18 17:59:52] [DATA] Array
(
    [count_answers_before] => 7
    [context] => Array
        (
            [type_page] => 
            [location] => 
            [user_id] => 1
            [npc_id] => 449
        )

)

[2025-05-18 17:59:52] [INFO] DialogManager: Sprawdzanie odpowiedzi: acf_fc_layout
[2025-05-18 17:59:52] [DATA] Array
(
    [answer_data] => question
)

[2025-05-18 17:59:52] [DEBUG] DialogManager: Odpowiedź (acf_fc_layout) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:59:52] [INFO] DialogManager: Sprawdzanie odpowiedzi: layout_settings
[2025-05-18 17:59:52] [DATA] Array
(
    [answer_data] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

)

[2025-05-18 17:59:52] [DEBUG] DialogManager: Odpowiedź (layout_settings) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:59:52] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_toggle
[2025-05-18 17:59:52] [DATA] Array
(
    [answer_data] => 
)

[2025-05-18 17:59:52] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_toggle) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:59:52] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_layout_title
[2025-05-18 17:59:52] [DATA] Array
(
    [answer_data] => Dialog
)

[2025-05-18 17:59:52] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_layout_title) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:59:52] [INFO] DialogManager: Sprawdzanie odpowiedzi: id_pola
[2025-05-18 17:59:52] [DATA] Array
(
    [answer_data] => jak-poruszac-sie-po-grze
)

[2025-05-18 17:59:52] [DEBUG] DialogManager: Odpowiedź (id_pola) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:59:52] [INFO] DialogManager: Sprawdzanie odpowiedzi: question
[2025-05-18 17:59:52] [DATA] Array
(
    [answer_data] => <p><strong>Każda scena to jeden widok – jak kadr z życia</strong>. Na nim są miejsca, osoby i przedmioty, z którymi możesz wejść w interakcję. Biały kolor oznacza przejście do innej sceny. Możesz przejść z bramy na klatkę, z meliny do sklepu, z podwórka do innej dzielnicy. Te przejścia nie kosztują Cię nic energii.</p>
<p><strong>Niebieski kolor to akcje z otoczeniem. </strong>Grzebanie w śmietniku, kontenerze na ubrania, zaglądanie do kiosku, przeszukiwanie bagażnika, otwieranie skrytki – tutaj każda akcja kosztuje pewną ilość energii. <strong>Postacie mają kolorowe obwódki. Klikasz – zaczyna się rozmowa.</strong></p>
<ul>
<li>Zielony – lubią cię.</li>
<li>Czerwony – nie cierpią.</li>
<li>Pomarańczowy – neutralni, jeszcze nie wiedzą, co o tobie sądzić.</li>
</ul>
<p>Każda rozmowa może Ci coś dać – albo zabrać. Zależy, jak się zachowasz.</p>
<p>Czasem znajdziesz coś cennego. Czasem coś obrzydliwego. A czasem kogoś obudzisz. <strong>Pamiętaj – nie każde poruszanie się między widokami zużywa energę. </strong>Dopiero konkretne działania albo spacery po dzielnicach zabierają energię</p>

)

[2025-05-18 17:59:52] [DEBUG] DialogManager: Odpowiedź (question) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:59:52] [INFO] DialogManager: Sprawdzanie odpowiedzi: anwsers
[2025-05-18 17:59:52] [DATA] Array
(
    [answer_data] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => Okej, załapałem jak się poruszać
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => mission
                                    [acfe_flexible_toggle] => 
                                    [mission_id] => 339
                                    [mission_status] => in_progress
                                    [mission_task_id] => jak-poruszac-sie-po-grze_0
                                    [mission_task_status] => completed
                                )

                        )

                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-18 17:59:52] [DEBUG] DialogManager: Odpowiedź (anwsers) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:59:52] [INFO] DialogManager: Zakończono filtrowanie odpowiedzi.
[2025-05-18 17:59:52] [DATA] Array
(
    [count_answers_after] => 7
)

[2025-05-18 17:59:52] [INFO] Dialog po filtrowaniu:
[2025-05-18 17:59:52] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-poruszac-sie-po-grze
    [question] => <p><strong>Każda scena to jeden widok – jak kadr z życia</strong>. Na nim są miejsca, osoby i przedmioty, z którymi możesz wejść w interakcję. Biały kolor oznacza przejście do innej sceny. Możesz przejść z bramy na klatkę, z meliny do sklepu, z podwórka do innej dzielnicy. Te przejścia nie kosztują Cię nic energii.</p>
<p><strong>Niebieski kolor to akcje z otoczeniem. </strong>Grzebanie w śmietniku, kontenerze na ubrania, zaglądanie do kiosku, przeszukiwanie bagażnika, otwieranie skrytki – tutaj każda akcja kosztuje pewną ilość energii. <strong>Postacie mają kolorowe obwódki. Klikasz – zaczyna się rozmowa.</strong></p>
<ul>
<li>Zielony – lubią cię.</li>
<li>Czerwony – nie cierpią.</li>
<li>Pomarańczowy – neutralni, jeszcze nie wiedzą, co o tobie sądzić.</li>
</ul>
<p>Każda rozmowa może Ci coś dać – albo zabrać. Zależy, jak się zachowasz.</p>
<p>Czasem znajdziesz coś cennego. Czasem coś obrzydliwego. A czasem kogoś obudzisz. <strong>Pamiętaj – nie każde poruszanie się między widokami zużywa energę. </strong>Dopiero konkretne działania albo spacery po dzielnicach zabierają energię</p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => Okej, załapałem jak się poruszać
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => mission
                                    [acfe_flexible_toggle] => 
                                    [mission_id] => 339
                                    [mission_status] => in_progress
                                    [mission_task_id] => jak-poruszac-sie-po-grze_0
                                    [mission_task_status] => completed
                                )

                        )

                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-18 17:59:52] [INFO] Dane odpowiedzi:
[2025-05-18 17:59:52] [DATA] Array
(
    [success] => 1
    [dialog] => Array
        (
            [id] => jak-poruszac-sie-po-grze
            [text] => <p><strong>Każda scena to jeden widok – jak kadr z życia</strong>. Na nim są miejsca, osoby i przedmioty, z którymi możesz wejść w interakcję. Biały kolor oznacza przejście do innej sceny. Możesz przejść z bramy na klatkę, z meliny do sklepu, z podwórka do innej dzielnicy. Te przejścia nie kosztują Cię nic energii.</p>
<p><strong>Niebieski kolor to akcje z otoczeniem. </strong>Grzebanie w śmietniku, kontenerze na ubrania, zaglądanie do kiosku, przeszukiwanie bagażnika, otwieranie skrytki – tutaj każda akcja kosztuje pewną ilość energii. <strong>Postacie mają kolorowe obwódki. Klikasz – zaczyna się rozmowa.</strong></p>
<ul>
<li>Zielony – lubią cię.</li>
<li>Czerwony – nie cierpią.</li>
<li>Pomarańczowy – neutralni, jeszcze nie wiedzą, co o tobie sądzić.</li>
</ul>
<p>Każda rozmowa może Ci coś dać – albo zabrać. Zależy, jak się zachowasz.</p>
<p>Czasem znajdziesz coś cennego. Czasem coś obrzydliwego. A czasem kogoś obudzisz. <strong>Pamiętaj – nie każde poruszanie się między widokami zużywa energę. </strong>Dopiero konkretne działania albo spacery po dzielnicach zabierają energię</p>

            [answers] => Array
                (
                    [0] => Array
                        (
                            [id] => 
                            [text] => Okej, załapałem jak się poruszać
                            [next_dialog] => jak-sie-w-to-gra
                        )

                )

        )

    [npc] => Array
        (
            [id] => 449
            [name] => Papuga
            [image] => http://seb.soeasy.it/wp-content/uploads/2025/05/papuga_new.png
        )

)

[2025-05-18 17:59:52] [DEBUG] ===== ZAKOŃCZENIE PRZETWARZANIA ŻĄDANIA DIALOGU =====
[2025-05-18 17:59:54] [INFO] WSZYSTKIE DANE ŻĄDANIA:
[2025-05-18 17:59:54] [DATA] Array
(
    [page_data] => Array
        (
        )

    [npc_id] => 449
    [dialog_id] => jak-sie-w-to-gra
    [current_url] => http://seb.soeasy.it/tereny/park/
    [user_id] => 1
    [answer_id] => answer-0
    [answer_index] => 0
    [current_dialog_id] => jak-poruszac-sie-po-grze
)

[2025-05-18 17:59:54] [INFO] Wyodrębnione dane lokalizacji:
[2025-05-18 17:59:54] [DATA] Array
(
    [location] => Array
        (
            [area_slug] => park
            [area_name] => Park
            [area_id] => 207
        )

    [type_page] => 
    [location_value] => 
)

[2025-05-18 17:59:54] [DEBUG] ROZPOCZYNAM PRZETWARZANIE PRZYCISKÓW ODPOWIEDZI
[2025-05-18 17:59:54] [DEBUG] Znaleziono dialog o ID: jak-poruszac-sie-po-grze
[2025-05-18 17:59:54] [DEBUG] Znaleziono poprzedni dialog ID: jak-poruszac-sie-po-grze
[2025-05-18 17:59:54] [INFO] Pełne dane dialogu:
[2025-05-18 17:59:54] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-poruszac-sie-po-grze
    [question] => <p><strong>Każda scena to jeden widok – jak kadr z życia</strong>. Na nim są miejsca, osoby i przedmioty, z którymi możesz wejść w interakcję. Biały kolor oznacza przejście do innej sceny. Możesz przejść z bramy na klatkę, z meliny do sklepu, z podwórka do innej dzielnicy. Te przejścia nie kosztują Cię nic energii.</p>
<p><strong>Niebieski kolor to akcje z otoczeniem. </strong>Grzebanie w śmietniku, kontenerze na ubrania, zaglądanie do kiosku, przeszukiwanie bagażnika, otwieranie skrytki – tutaj każda akcja kosztuje pewną ilość energii. <strong>Postacie mają kolorowe obwódki. Klikasz – zaczyna się rozmowa.</strong></p>
<ul>
<li>Zielony – lubią cię.</li>
<li>Czerwony – nie cierpią.</li>
<li>Pomarańczowy – neutralni, jeszcze nie wiedzą, co o tobie sądzić.</li>
</ul>
<p>Każda rozmowa może Ci coś dać – albo zabrać. Zależy, jak się zachowasz.</p>
<p>Czasem znajdziesz coś cennego. Czasem coś obrzydliwego. A czasem kogoś obudzisz. <strong>Pamiętaj – nie każde poruszanie się między widokami zużywa energę. </strong>Dopiero konkretne działania albo spacery po dzielnicach zabierają energię</p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => Okej, załapałem jak się poruszać
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => mission
                                    [acfe_flexible_toggle] => 
                                    [mission_id] => 339
                                    [mission_status] => in_progress
                                    [mission_task_id] => jak-poruszac-sie-po-grze_0
                                    [mission_task_status] => completed
                                )

                        )

                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-18 17:59:54] [INFO] Odpowiedzi w dialogu:
[2025-05-18 17:59:54] [DATA] Array
(
    [0] => Array
        (
            [acf_fc_layout] => anwser
            [layout_settings] => Array
                (
                    [visibility_tab] => 
                    [logic_operator] => and
                    [visibility_settings] => 
                )

            [anwser_text] => Okej, załapałem jak się poruszać
            [type_anwser] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => mission
                            [acfe_flexible_toggle] => 
                            [mission_id] => 339
                            [mission_status] => in_progress
                            [mission_task_id] => jak-poruszac-sie-po-grze_0
                            [mission_task_status] => completed
                        )

                )

            [go_to_id] => jak-sie-w-to-gra
        )

)

[2025-05-18 17:59:54] [DEBUG] Znaleziono odpowiedź o indeksie: 0
[2025-05-18 17:59:54] [INFO] Dane odpowiedzi:
[2025-05-18 17:59:54] [DATA] Array
(
    [acf_fc_layout] => anwser
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [anwser_text] => Okej, załapałem jak się poruszać
    [type_anwser] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => mission
                    [acfe_flexible_toggle] => 
                    [mission_id] => 339
                    [mission_status] => in_progress
                    [mission_task_id] => jak-poruszac-sie-po-grze_0
                    [mission_task_status] => completed
                )

        )

    [go_to_id] => jak-sie-w-to-gra
)

[2025-05-18 17:59:54] [INFO] Odpowiedź zawiera akcje do wykonania:
[2025-05-18 17:59:54] [DATA] Array
(
    [0] => Array
        (
            [acf_fc_layout] => mission
            [acfe_flexible_toggle] => 
            [mission_id] => 339
            [mission_status] => in_progress
            [mission_task_id] => jak-poruszac-sie-po-grze_0
            [mission_task_status] => completed
        )

)

[2025-05-18 17:59:54] [INFO] Weryfikacja akcji:
[2025-05-18 17:59:54] [DATA] Array
(
    [acf_fc_layout] => mission
    [acfe_flexible_toggle] => 
    [mission_id] => 339
    [mission_status] => in_progress
    [mission_task_id] => jak-poruszac-sie-po-grze_0
    [mission_task_status] => completed
)

[2025-05-18 17:59:54] [DEBUG] WSZYSTKIE AKCJE SĄ WYKONALNE, PRZYSTĘPUJĘ DO ICH REALIZACJI
[2025-05-18 17:59:54] [INFO] Przetwarzanie akcji:
[2025-05-18 17:59:54] [DATA] Array
(
    [acf_fc_layout] => mission
    [acfe_flexible_toggle] => 
    [mission_id] => 339
    [mission_status] => in_progress
    [mission_task_id] => jak-poruszac-sie-po-grze_0
    [mission_task_status] => completed
)

[2025-05-18 17:59:54] [DEBUG] Typ akcji: mission
[2025-05-18 17:59:54] [DEBUG] Wykonuję akcję misji: mission_id=339, status=in_progress, task_id=jak-poruszac-sie-po-grze_0, task_status=completed, npc_id=449
[2025-05-18 17:59:54] [INFO] Aktualny stan misji użytkownika:
[2025-05-18 17:59:54] [DATA] Array
(
    [status] => in_progress
    [assigned_date] => 2025-04-29 18:04:25
    [completion_date] => 2025-05-15 18:20:13
    [tasks] => Array
        (
            [jak-poruszac-sie-po-grze_0] => completed
            [jak-sie-tu-poruszac_1] => not_started
        )

)

[2025-05-18 17:59:54] [DEBUG] Zaktualizowano status misji 'Przejdź samouczek' z 'in_progress' na 'in_progress'
[2025-05-18 17:59:54] [DEBUG] Zaktualizowano status standardowego zadania 'jak-poruszac-sie-po-grze_0' z 'completed' na 'completed'
[2025-05-18 17:59:54] [DEBUG] Misja nie wymaga aktualizacji - dane nie uległy zmianie
[2025-05-18 17:59:54] [INFO] Utworzono powiadomienie dla misji:
[2025-05-18 17:59:54] [DATA] Array
(
    [message] => Ukończono zadanie: Jak poruszać się po grze?
    [status] => success
)

[2025-05-18 17:59:54] [INFO] DialogManager: Rozpoczynam filtrowanie odpowiedzi.
[2025-05-18 17:59:54] [DATA] Array
(
    [count_answers_before] => 7
    [context] => Array
        (
            [type_page] => 
            [location] => 
            [user_id] => 1
            [npc_id] => 449
        )

)

[2025-05-18 17:59:54] [INFO] DialogManager: Sprawdzanie odpowiedzi: acf_fc_layout
[2025-05-18 17:59:54] [DATA] Array
(
    [answer_data] => question
)

[2025-05-18 17:59:54] [DEBUG] DialogManager: Odpowiedź (acf_fc_layout) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:59:54] [INFO] DialogManager: Sprawdzanie odpowiedzi: layout_settings
[2025-05-18 17:59:54] [DATA] Array
(
    [answer_data] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

)

[2025-05-18 17:59:54] [DEBUG] DialogManager: Odpowiedź (layout_settings) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:59:54] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_toggle
[2025-05-18 17:59:54] [DATA] Array
(
    [answer_data] => 
)

[2025-05-18 17:59:54] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_toggle) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:59:54] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_layout_title
[2025-05-18 17:59:54] [DATA] Array
(
    [answer_data] => Dialog
)

[2025-05-18 17:59:54] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_layout_title) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:59:54] [INFO] DialogManager: Sprawdzanie odpowiedzi: id_pola
[2025-05-18 17:59:54] [DATA] Array
(
    [answer_data] => jak-sie-w-to-gra
)

[2025-05-18 17:59:54] [DEBUG] DialogManager: Odpowiedź (id_pola) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:59:54] [INFO] DialogManager: Sprawdzanie odpowiedzi: question
[2025-05-18 17:59:54] [DATA] Array
(
    [answer_data] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

)

[2025-05-18 17:59:54] [DEBUG] DialogManager: Odpowiedź (question) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:59:54] [INFO] DialogManager: Sprawdzanie odpowiedzi: anwsers
[2025-05-18 17:59:54] [DATA] Array
(
    [answer_data] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_task
                                            [condition] => is_not
                                            [mission_id] => 339
                                            [task_id] => jak-poruszac-sie-po-grze_0
                                            [status] => completed
                                        )

                                )

                        )

                    [anwser_text] => Jak poruszać się po grze?
                    [type_anwser] => 
                    [go_to_id] => jak-poruszac-sie-po-grze
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => test
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-18 17:59:54] [DEBUG] DialogManager: Odpowiedź (anwsers) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 17:59:54] [INFO] DialogManager: Zakończono filtrowanie odpowiedzi.
[2025-05-18 17:59:54] [DATA] Array
(
    [count_answers_after] => 7
)

[2025-05-18 17:59:54] [INFO] Dialog po filtrowaniu:
[2025-05-18 17:59:54] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-sie-w-to-gra
    [question] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_task
                                            [condition] => is_not
                                            [mission_id] => 339
                                            [task_id] => jak-poruszac-sie-po-grze_0
                                            [status] => completed
                                        )

                                )

                        )

                    [anwser_text] => Jak poruszać się po grze?
                    [type_anwser] => 
                    [go_to_id] => jak-poruszac-sie-po-grze
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => test
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-18 17:59:54] [INFO] Dodano powiadomienie do odpowiedzi:
[2025-05-18 17:59:54] [DATA] Array
(
    [message] => Ukończono zadanie: Jak poruszać się po grze?
    [status] => success
)

[2025-05-18 17:59:54] [INFO] Dane odpowiedzi:
[2025-05-18 17:59:54] [DATA] Array
(
    [success] => 1
    [dialog] => Array
        (
            [id] => jak-sie-w-to-gra
            [text] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

            [answers] => Array
                (
                    [0] => Array
                        (
                            [id] => 
                            [text] => Jak poruszać się po grze?
                            [next_dialog] => jak-poruszac-sie-po-grze
                        )

                    [1] => Array
                        (
                            [id] => 
                            [text] => test
                            [next_dialog] => 0
                        )

                )

        )

    [npc] => Array
        (
            [id] => 449
            [name] => Papuga
            [image] => http://seb.soeasy.it/wp-content/uploads/2025/05/papuga_new.png
        )

    [notification] => Array
        (
            [message] => Ukończono zadanie: Jak poruszać się po grze?
            [status] => success
        )

)

[2025-05-18 17:59:54] [DEBUG] ===== ZAKOŃCZENIE PRZETWARZANIA ŻĄDANIA DIALOGU =====
[2025-05-18 17:59:54] [DEBUG] Obsługa żądania danych użytkownika ID: 1
[2025-05-18 17:59:54] [INFO] Pobrano dane plecaka użytkownika:
[2025-05-18 17:59:54] [DATA] Array
(
    [gold] => 100
    [cigarettes] => 31
)

[2025-05-18 17:59:54] [INFO] Pobrano dane witalności użytkownika:
[2025-05-18 17:59:54] [DATA] Array
(
    [life] => 80
    [max_life] => 100
    [energy] => 70
    [max_energy] => 100
)

[2025-05-18 17:59:54] [INFO] Zwracam dane użytkownika:
[2025-05-18 17:59:54] [DATA] Array
(
    [success] => 1
    [message] => Dane użytkownika pobrane pomyślnie
    [data] => Array
        (
            [backpack] => Array
                (
                    [gold] => 100
                    [cigarettes] => 31
                )

            [vitality] => Array
                (
                    [life] => 80
                    [max_life] => 100
                    [energy] => 70
                    [max_energy] => 100
                )

        )

)

[2025-05-18 18:00:15] [INFO] WSZYSTKIE DANE ŻĄDANIA:
[2025-05-18 18:00:15] [DATA] Array
(
    [page_data] => Array
        (
        )

    [npc_id] => 449
    [dialog_id] => jak-poruszac-sie-po-grze
    [current_url] => http://seb.soeasy.it/tereny/park/
    [user_id] => 1
    [answer_id] => answer-0
    [answer_index] => 0
    [current_dialog_id] => jak-sie-w-to-gra
)

[2025-05-18 18:00:15] [INFO] Wyodrębnione dane lokalizacji:
[2025-05-18 18:00:15] [DATA] Array
(
    [location] => Array
        (
            [area_slug] => park
            [area_name] => Park
            [area_id] => 207
        )

    [type_page] => 
    [location_value] => 
)

[2025-05-18 18:00:15] [DEBUG] ROZPOCZYNAM PRZETWARZANIE PRZYCISKÓW ODPOWIEDZI
[2025-05-18 18:00:15] [DEBUG] Znaleziono dialog o ID: jak-sie-w-to-gra
[2025-05-18 18:00:15] [DEBUG] Znaleziono poprzedni dialog ID: jak-sie-w-to-gra
[2025-05-18 18:00:15] [INFO] Pełne dane dialogu:
[2025-05-18 18:00:15] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-sie-w-to-gra
    [question] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_task
                                            [condition] => is_not
                                            [mission_id] => 339
                                            [task_id] => jak-poruszac-sie-po-grze_0
                                            [status] => completed
                                        )

                                )

                        )

                    [anwser_text] => Jak poruszać się po grze?
                    [type_anwser] => 
                    [go_to_id] => jak-poruszac-sie-po-grze
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => test
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-18 18:00:15] [INFO] Odpowiedzi w dialogu:
[2025-05-18 18:00:15] [DATA] Array
(
    [0] => Array
        (
            [acf_fc_layout] => anwser
            [layout_settings] => Array
                (
                    [visibility_tab] => 
                    [logic_operator] => and
                    [visibility_settings] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => condition_task
                                    [condition] => is_not
                                    [mission_id] => 339
                                    [task_id] => jak-poruszac-sie-po-grze_0
                                    [status] => completed
                                )

                        )

                )

            [anwser_text] => Jak poruszać się po grze?
            [type_anwser] => 
            [go_to_id] => jak-poruszac-sie-po-grze
        )

    [1] => Array
        (
            [acf_fc_layout] => anwser
            [layout_settings] => Array
                (
                    [visibility_tab] => 
                    [logic_operator] => and
                    [visibility_settings] => 
                )

            [anwser_text] => test
            [type_anwser] => 
            [go_to_id] => 0
        )

)

[2025-05-18 18:00:15] [DEBUG] Znaleziono odpowiedź o indeksie: 0
[2025-05-18 18:00:15] [INFO] Dane odpowiedzi:
[2025-05-18 18:00:15] [DATA] Array
(
    [acf_fc_layout] => anwser
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => condition_task
                            [condition] => is_not
                            [mission_id] => 339
                            [task_id] => jak-poruszac-sie-po-grze_0
                            [status] => completed
                        )

                )

        )

    [anwser_text] => Jak poruszać się po grze?
    [type_anwser] => 
    [go_to_id] => jak-poruszac-sie-po-grze
)

[2025-05-18 18:00:15] [DEBUG] Odpowiedź NIE zawiera akcji type_anwser lub jest pusta
[2025-05-18 18:00:15] [INFO] DialogManager: Rozpoczynam filtrowanie odpowiedzi.
[2025-05-18 18:00:15] [DATA] Array
(
    [count_answers_before] => 7
    [context] => Array
        (
            [type_page] => 
            [location] => 
            [user_id] => 1
            [npc_id] => 449
        )

)

[2025-05-18 18:00:15] [INFO] DialogManager: Sprawdzanie odpowiedzi: acf_fc_layout
[2025-05-18 18:00:15] [DATA] Array
(
    [answer_data] => question
)

[2025-05-18 18:00:15] [DEBUG] DialogManager: Odpowiedź (acf_fc_layout) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 18:00:15] [INFO] DialogManager: Sprawdzanie odpowiedzi: layout_settings
[2025-05-18 18:00:15] [DATA] Array
(
    [answer_data] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

)

[2025-05-18 18:00:15] [DEBUG] DialogManager: Odpowiedź (layout_settings) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 18:00:15] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_toggle
[2025-05-18 18:00:15] [DATA] Array
(
    [answer_data] => 
)

[2025-05-18 18:00:15] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_toggle) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 18:00:15] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_layout_title
[2025-05-18 18:00:15] [DATA] Array
(
    [answer_data] => Dialog
)

[2025-05-18 18:00:15] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_layout_title) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 18:00:15] [INFO] DialogManager: Sprawdzanie odpowiedzi: id_pola
[2025-05-18 18:00:15] [DATA] Array
(
    [answer_data] => jak-poruszac-sie-po-grze
)

[2025-05-18 18:00:15] [DEBUG] DialogManager: Odpowiedź (id_pola) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 18:00:15] [INFO] DialogManager: Sprawdzanie odpowiedzi: question
[2025-05-18 18:00:15] [DATA] Array
(
    [answer_data] => <p><strong>Każda scena to jeden widok – jak kadr z życia</strong>. Na nim są miejsca, osoby i przedmioty, z którymi możesz wejść w interakcję. Biały kolor oznacza przejście do innej sceny. Możesz przejść z bramy na klatkę, z meliny do sklepu, z podwórka do innej dzielnicy. Te przejścia nie kosztują Cię nic energii.</p>
<p><strong>Niebieski kolor to akcje z otoczeniem. </strong>Grzebanie w śmietniku, kontenerze na ubrania, zaglądanie do kiosku, przeszukiwanie bagażnika, otwieranie skrytki – tutaj każda akcja kosztuje pewną ilość energii. <strong>Postacie mają kolorowe obwódki. Klikasz – zaczyna się rozmowa.</strong></p>
<ul>
<li>Zielony – lubią cię.</li>
<li>Czerwony – nie cierpią.</li>
<li>Pomarańczowy – neutralni, jeszcze nie wiedzą, co o tobie sądzić.</li>
</ul>
<p>Każda rozmowa może Ci coś dać – albo zabrać. Zależy, jak się zachowasz.</p>
<p>Czasem znajdziesz coś cennego. Czasem coś obrzydliwego. A czasem kogoś obudzisz. <strong>Pamiętaj – nie każde poruszanie się między widokami zużywa energę. </strong>Dopiero konkretne działania albo spacery po dzielnicach zabierają energię</p>

)

[2025-05-18 18:00:15] [DEBUG] DialogManager: Odpowiedź (question) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 18:00:15] [INFO] DialogManager: Sprawdzanie odpowiedzi: anwsers
[2025-05-18 18:00:15] [DATA] Array
(
    [answer_data] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => Okej, załapałem jak się poruszać
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => mission
                                    [acfe_flexible_toggle] => 
                                    [mission_id] => 339
                                    [mission_status] => in_progress
                                    [mission_task_id] => jak-poruszac-sie-po-grze_0
                                    [mission_task_status] => completed
                                )

                        )

                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-18 18:00:15] [DEBUG] DialogManager: Odpowiedź (anwsers) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 18:00:15] [INFO] DialogManager: Zakończono filtrowanie odpowiedzi.
[2025-05-18 18:00:15] [DATA] Array
(
    [count_answers_after] => 7
)

[2025-05-18 18:00:15] [INFO] Dialog po filtrowaniu:
[2025-05-18 18:00:15] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-poruszac-sie-po-grze
    [question] => <p><strong>Każda scena to jeden widok – jak kadr z życia</strong>. Na nim są miejsca, osoby i przedmioty, z którymi możesz wejść w interakcję. Biały kolor oznacza przejście do innej sceny. Możesz przejść z bramy na klatkę, z meliny do sklepu, z podwórka do innej dzielnicy. Te przejścia nie kosztują Cię nic energii.</p>
<p><strong>Niebieski kolor to akcje z otoczeniem. </strong>Grzebanie w śmietniku, kontenerze na ubrania, zaglądanie do kiosku, przeszukiwanie bagażnika, otwieranie skrytki – tutaj każda akcja kosztuje pewną ilość energii. <strong>Postacie mają kolorowe obwódki. Klikasz – zaczyna się rozmowa.</strong></p>
<ul>
<li>Zielony – lubią cię.</li>
<li>Czerwony – nie cierpią.</li>
<li>Pomarańczowy – neutralni, jeszcze nie wiedzą, co o tobie sądzić.</li>
</ul>
<p>Każda rozmowa może Ci coś dać – albo zabrać. Zależy, jak się zachowasz.</p>
<p>Czasem znajdziesz coś cennego. Czasem coś obrzydliwego. A czasem kogoś obudzisz. <strong>Pamiętaj – nie każde poruszanie się między widokami zużywa energę. </strong>Dopiero konkretne działania albo spacery po dzielnicach zabierają energię</p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => Okej, załapałem jak się poruszać
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => mission
                                    [acfe_flexible_toggle] => 
                                    [mission_id] => 339
                                    [mission_status] => in_progress
                                    [mission_task_id] => jak-poruszac-sie-po-grze_0
                                    [mission_task_status] => completed
                                )

                        )

                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-18 18:00:15] [INFO] Dane odpowiedzi:
[2025-05-18 18:00:15] [DATA] Array
(
    [success] => 1
    [dialog] => Array
        (
            [id] => jak-poruszac-sie-po-grze
            [text] => <p><strong>Każda scena to jeden widok – jak kadr z życia</strong>. Na nim są miejsca, osoby i przedmioty, z którymi możesz wejść w interakcję. Biały kolor oznacza przejście do innej sceny. Możesz przejść z bramy na klatkę, z meliny do sklepu, z podwórka do innej dzielnicy. Te przejścia nie kosztują Cię nic energii.</p>
<p><strong>Niebieski kolor to akcje z otoczeniem. </strong>Grzebanie w śmietniku, kontenerze na ubrania, zaglądanie do kiosku, przeszukiwanie bagażnika, otwieranie skrytki – tutaj każda akcja kosztuje pewną ilość energii. <strong>Postacie mają kolorowe obwódki. Klikasz – zaczyna się rozmowa.</strong></p>
<ul>
<li>Zielony – lubią cię.</li>
<li>Czerwony – nie cierpią.</li>
<li>Pomarańczowy – neutralni, jeszcze nie wiedzą, co o tobie sądzić.</li>
</ul>
<p>Każda rozmowa może Ci coś dać – albo zabrać. Zależy, jak się zachowasz.</p>
<p>Czasem znajdziesz coś cennego. Czasem coś obrzydliwego. A czasem kogoś obudzisz. <strong>Pamiętaj – nie każde poruszanie się między widokami zużywa energę. </strong>Dopiero konkretne działania albo spacery po dzielnicach zabierają energię</p>

            [answers] => Array
                (
                    [0] => Array
                        (
                            [id] => 
                            [text] => Okej, załapałem jak się poruszać
                            [next_dialog] => jak-sie-w-to-gra
                        )

                )

        )

    [npc] => Array
        (
            [id] => 449
            [name] => Papuga
            [image] => http://seb.soeasy.it/wp-content/uploads/2025/05/papuga_new.png
        )

)

[2025-05-18 18:00:15] [DEBUG] ===== ZAKOŃCZENIE PRZETWARZANIA ŻĄDANIA DIALOGU =====
[2025-05-18 18:00:16] [INFO] WSZYSTKIE DANE ŻĄDANIA:
[2025-05-18 18:00:16] [DATA] Array
(
    [page_data] => Array
        (
        )

    [npc_id] => 449
    [dialog_id] => jak-sie-w-to-gra
    [current_url] => http://seb.soeasy.it/tereny/park/
    [user_id] => 1
    [answer_id] => answer-0
    [answer_index] => 0
    [current_dialog_id] => jak-poruszac-sie-po-grze
)

[2025-05-18 18:00:16] [INFO] Wyodrębnione dane lokalizacji:
[2025-05-18 18:00:16] [DATA] Array
(
    [location] => Array
        (
            [area_slug] => park
            [area_name] => Park
            [area_id] => 207
        )

    [type_page] => 
    [location_value] => 
)

[2025-05-18 18:00:16] [DEBUG] ROZPOCZYNAM PRZETWARZANIE PRZYCISKÓW ODPOWIEDZI
[2025-05-18 18:00:16] [DEBUG] Znaleziono dialog o ID: jak-poruszac-sie-po-grze
[2025-05-18 18:00:16] [DEBUG] Znaleziono poprzedni dialog ID: jak-poruszac-sie-po-grze
[2025-05-18 18:00:16] [INFO] Pełne dane dialogu:
[2025-05-18 18:00:16] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-poruszac-sie-po-grze
    [question] => <p><strong>Każda scena to jeden widok – jak kadr z życia</strong>. Na nim są miejsca, osoby i przedmioty, z którymi możesz wejść w interakcję. Biały kolor oznacza przejście do innej sceny. Możesz przejść z bramy na klatkę, z meliny do sklepu, z podwórka do innej dzielnicy. Te przejścia nie kosztują Cię nic energii.</p>
<p><strong>Niebieski kolor to akcje z otoczeniem. </strong>Grzebanie w śmietniku, kontenerze na ubrania, zaglądanie do kiosku, przeszukiwanie bagażnika, otwieranie skrytki – tutaj każda akcja kosztuje pewną ilość energii. <strong>Postacie mają kolorowe obwódki. Klikasz – zaczyna się rozmowa.</strong></p>
<ul>
<li>Zielony – lubią cię.</li>
<li>Czerwony – nie cierpią.</li>
<li>Pomarańczowy – neutralni, jeszcze nie wiedzą, co o tobie sądzić.</li>
</ul>
<p>Każda rozmowa może Ci coś dać – albo zabrać. Zależy, jak się zachowasz.</p>
<p>Czasem znajdziesz coś cennego. Czasem coś obrzydliwego. A czasem kogoś obudzisz. <strong>Pamiętaj – nie każde poruszanie się między widokami zużywa energę. </strong>Dopiero konkretne działania albo spacery po dzielnicach zabierają energię</p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => Okej, załapałem jak się poruszać
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => mission
                                    [acfe_flexible_toggle] => 
                                    [mission_id] => 339
                                    [mission_status] => in_progress
                                    [mission_task_id] => jak-poruszac-sie-po-grze_0
                                    [mission_task_status] => completed
                                )

                        )

                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-18 18:00:16] [INFO] Odpowiedzi w dialogu:
[2025-05-18 18:00:16] [DATA] Array
(
    [0] => Array
        (
            [acf_fc_layout] => anwser
            [layout_settings] => Array
                (
                    [visibility_tab] => 
                    [logic_operator] => and
                    [visibility_settings] => 
                )

            [anwser_text] => Okej, załapałem jak się poruszać
            [type_anwser] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => mission
                            [acfe_flexible_toggle] => 
                            [mission_id] => 339
                            [mission_status] => in_progress
                            [mission_task_id] => jak-poruszac-sie-po-grze_0
                            [mission_task_status] => completed
                        )

                )

            [go_to_id] => jak-sie-w-to-gra
        )

)

[2025-05-18 18:00:16] [DEBUG] Znaleziono odpowiedź o indeksie: 0
[2025-05-18 18:00:16] [INFO] Dane odpowiedzi:
[2025-05-18 18:00:16] [DATA] Array
(
    [acf_fc_layout] => anwser
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [anwser_text] => Okej, załapałem jak się poruszać
    [type_anwser] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => mission
                    [acfe_flexible_toggle] => 
                    [mission_id] => 339
                    [mission_status] => in_progress
                    [mission_task_id] => jak-poruszac-sie-po-grze_0
                    [mission_task_status] => completed
                )

        )

    [go_to_id] => jak-sie-w-to-gra
)

[2025-05-18 18:00:16] [INFO] Odpowiedź zawiera akcje do wykonania:
[2025-05-18 18:00:16] [DATA] Array
(
    [0] => Array
        (
            [acf_fc_layout] => mission
            [acfe_flexible_toggle] => 
            [mission_id] => 339
            [mission_status] => in_progress
            [mission_task_id] => jak-poruszac-sie-po-grze_0
            [mission_task_status] => completed
        )

)

[2025-05-18 18:00:16] [INFO] Weryfikacja akcji:
[2025-05-18 18:00:16] [DATA] Array
(
    [acf_fc_layout] => mission
    [acfe_flexible_toggle] => 
    [mission_id] => 339
    [mission_status] => in_progress
    [mission_task_id] => jak-poruszac-sie-po-grze_0
    [mission_task_status] => completed
)

[2025-05-18 18:00:16] [DEBUG] WSZYSTKIE AKCJE SĄ WYKONALNE, PRZYSTĘPUJĘ DO ICH REALIZACJI
[2025-05-18 18:00:16] [INFO] Przetwarzanie akcji:
[2025-05-18 18:00:16] [DATA] Array
(
    [acf_fc_layout] => mission
    [acfe_flexible_toggle] => 
    [mission_id] => 339
    [mission_status] => in_progress
    [mission_task_id] => jak-poruszac-sie-po-grze_0
    [mission_task_status] => completed
)

[2025-05-18 18:00:16] [DEBUG] Typ akcji: mission
[2025-05-18 18:00:16] [DEBUG] Wykonuję akcję misji: mission_id=339, status=in_progress, task_id=jak-poruszac-sie-po-grze_0, task_status=completed, npc_id=449
[2025-05-18 18:00:16] [INFO] Aktualny stan misji użytkownika:
[2025-05-18 18:00:16] [DATA] Array
(
    [status] => in_progress
    [assigned_date] => 2025-04-29 18:04:25
    [completion_date] => 2025-05-15 18:20:13
    [tasks] => Array
        (
            [jak-poruszac-sie-po-grze_0] => completed
            [jak-sie-tu-poruszac_1] => not_started
        )

)

[2025-05-18 18:00:16] [DEBUG] Zaktualizowano status misji 'Przejdź samouczek' z 'in_progress' na 'in_progress'
[2025-05-18 18:00:16] [DEBUG] Zaktualizowano status standardowego zadania 'jak-poruszac-sie-po-grze_0' z 'completed' na 'completed'
[2025-05-18 18:00:16] [DEBUG] Misja nie wymaga aktualizacji - dane nie uległy zmianie
[2025-05-18 18:00:16] [INFO] Utworzono powiadomienie dla misji:
[2025-05-18 18:00:16] [DATA] Array
(
    [message] => Ukończono zadanie: "Jak poruszać się po grze?"
    [status] => success
)

[2025-05-18 18:00:16] [INFO] DialogManager: Rozpoczynam filtrowanie odpowiedzi.
[2025-05-18 18:00:16] [DATA] Array
(
    [count_answers_before] => 7
    [context] => Array
        (
            [type_page] => 
            [location] => 
            [user_id] => 1
            [npc_id] => 449
        )

)

[2025-05-18 18:00:16] [INFO] DialogManager: Sprawdzanie odpowiedzi: acf_fc_layout
[2025-05-18 18:00:16] [DATA] Array
(
    [answer_data] => question
)

[2025-05-18 18:00:16] [DEBUG] DialogManager: Odpowiedź (acf_fc_layout) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 18:00:16] [INFO] DialogManager: Sprawdzanie odpowiedzi: layout_settings
[2025-05-18 18:00:16] [DATA] Array
(
    [answer_data] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

)

[2025-05-18 18:00:16] [DEBUG] DialogManager: Odpowiedź (layout_settings) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 18:00:16] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_toggle
[2025-05-18 18:00:16] [DATA] Array
(
    [answer_data] => 
)

[2025-05-18 18:00:16] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_toggle) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 18:00:16] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_layout_title
[2025-05-18 18:00:16] [DATA] Array
(
    [answer_data] => Dialog
)

[2025-05-18 18:00:16] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_layout_title) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 18:00:16] [INFO] DialogManager: Sprawdzanie odpowiedzi: id_pola
[2025-05-18 18:00:16] [DATA] Array
(
    [answer_data] => jak-sie-w-to-gra
)

[2025-05-18 18:00:16] [DEBUG] DialogManager: Odpowiedź (id_pola) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 18:00:16] [INFO] DialogManager: Sprawdzanie odpowiedzi: question
[2025-05-18 18:00:16] [DATA] Array
(
    [answer_data] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

)

[2025-05-18 18:00:16] [DEBUG] DialogManager: Odpowiedź (question) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 18:00:16] [INFO] DialogManager: Sprawdzanie odpowiedzi: anwsers
[2025-05-18 18:00:16] [DATA] Array
(
    [answer_data] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_task
                                            [condition] => is_not
                                            [mission_id] => 339
                                            [task_id] => jak-poruszac-sie-po-grze_0
                                            [status] => completed
                                        )

                                )

                        )

                    [anwser_text] => Jak poruszać się po grze?
                    [type_anwser] => 
                    [go_to_id] => jak-poruszac-sie-po-grze
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => test
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-18 18:00:16] [DEBUG] DialogManager: Odpowiedź (anwsers) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 18:00:16] [INFO] DialogManager: Zakończono filtrowanie odpowiedzi.
[2025-05-18 18:00:16] [DATA] Array
(
    [count_answers_after] => 7
)

[2025-05-18 18:00:16] [INFO] Dialog po filtrowaniu:
[2025-05-18 18:00:16] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-sie-w-to-gra
    [question] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_task
                                            [condition] => is_not
                                            [mission_id] => 339
                                            [task_id] => jak-poruszac-sie-po-grze_0
                                            [status] => completed
                                        )

                                )

                        )

                    [anwser_text] => Jak poruszać się po grze?
                    [type_anwser] => 
                    [go_to_id] => jak-poruszac-sie-po-grze
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => test
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-18 18:00:16] [INFO] Dodano powiadomienie do odpowiedzi:
[2025-05-18 18:00:16] [DATA] Array
(
    [message] => Ukończono zadanie: "Jak poruszać się po grze?"
    [status] => success
)

[2025-05-18 18:00:16] [INFO] Dane odpowiedzi:
[2025-05-18 18:00:16] [DATA] Array
(
    [success] => 1
    [dialog] => Array
        (
            [id] => jak-sie-w-to-gra
            [text] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

            [answers] => Array
                (
                    [0] => Array
                        (
                            [id] => 
                            [text] => Jak poruszać się po grze?
                            [next_dialog] => jak-poruszac-sie-po-grze
                        )

                    [1] => Array
                        (
                            [id] => 
                            [text] => test
                            [next_dialog] => 0
                        )

                )

        )

    [npc] => Array
        (
            [id] => 449
            [name] => Papuga
            [image] => http://seb.soeasy.it/wp-content/uploads/2025/05/papuga_new.png
        )

    [notification] => Array
        (
            [message] => Ukończono zadanie: "Jak poruszać się po grze?"
            [status] => success
        )

)

[2025-05-18 18:00:16] [DEBUG] ===== ZAKOŃCZENIE PRZETWARZANIA ŻĄDANIA DIALOGU =====
[2025-05-18 18:00:16] [DEBUG] Obsługa żądania danych użytkownika ID: 1
[2025-05-18 18:00:16] [INFO] Pobrano dane plecaka użytkownika:
[2025-05-18 18:00:16] [DATA] Array
(
    [gold] => 100
    [cigarettes] => 31
)

[2025-05-18 18:00:16] [INFO] Pobrano dane witalności użytkownika:
[2025-05-18 18:00:16] [DATA] Array
(
    [life] => 80
    [max_life] => 100
    [energy] => 70
    [max_energy] => 100
)

[2025-05-18 18:00:16] [INFO] Zwracam dane użytkownika:
[2025-05-18 18:00:16] [DATA] Array
(
    [success] => 1
    [message] => Dane użytkownika pobrane pomyślnie
    [data] => Array
        (
            [backpack] => Array
                (
                    [gold] => 100
                    [cigarettes] => 31
                )

            [vitality] => Array
                (
                    [life] => 80
                    [max_life] => 100
                    [energy] => 70
                    [max_energy] => 100
                )

        )

)

[2025-05-18 18:00:38] [INFO] get_first_matching_dialog: Found matching dialog
[2025-05-18 18:00:38] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => condition_task
                            [condition] => is
                            [mission_id] => 339
                            [task_id] => jak-poruszac-sie-po-grze_0
                            [status] => completed
                        )

                )

        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => przy-wiezieniu
    [question] => <p>– No to jesteśmy &#8211; z celi wyszedłeś, <strong>ale do świata Sebastianowa dopiero wchodzisz.</strong><br />
Może Ci się wydaje, że jesteś kimś, że Twoja historia się liczy, że coś ci się należy &#8211; bo miałeś ciężko. To posłuchaj uważnie, zanim się zgubisz między trzepakiem a meliną: <strong>Jesteś jednym z wielu</strong>, co myślą, że jak przetrwali jedną noc na dołku, to teraz świat ich powita z otwartymi ramionami.</p>
<p>Jestem Papuga. To ja otworzyłem ci drzwi. Nie z litości, nie z sympatii. Chcę po prostu zobaczyć, co zrobisz, kiedy w końcu przestanie być łatwo.</p>
<p>Bo w Sebastianowie nic nie jest za darmo. Respekt buduje się decyzjami. A każda z nich zostawia ślad – na tobie albo na kimś innym. <strong>Masz pytania? Pytaj – zanim przestanie to być możliwe.</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_npc_relation
                                            [condition] => is_not_known
                                            [npc_id] => 449
                                            [relation_value] => 50
                                        )

                                )

                        )

                    [anwser_text] => Jak się w to w ogóle gra?
                    [type_anwser] => 
                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-18 18:00:38] [INFO] Filtered dialog
[2025-05-18 18:00:38] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => condition_task
                            [condition] => is
                            [mission_id] => 339
                            [task_id] => jak-poruszac-sie-po-grze_0
                            [status] => completed
                        )

                )

        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => przy-wiezieniu
    [question] => <p>– No to jesteśmy &#8211; z celi wyszedłeś, <strong>ale do świata Sebastianowa dopiero wchodzisz.</strong><br />
Może Ci się wydaje, że jesteś kimś, że Twoja historia się liczy, że coś ci się należy &#8211; bo miałeś ciężko. To posłuchaj uważnie, zanim się zgubisz między trzepakiem a meliną: <strong>Jesteś jednym z wielu</strong>, co myślą, że jak przetrwali jedną noc na dołku, to teraz świat ich powita z otwartymi ramionami.</p>
<p>Jestem Papuga. To ja otworzyłem ci drzwi. Nie z litości, nie z sympatii. Chcę po prostu zobaczyć, co zrobisz, kiedy w końcu przestanie być łatwo.</p>
<p>Bo w Sebastianowie nic nie jest za darmo. Respekt buduje się decyzjami. A każda z nich zostawia ślad – na tobie albo na kimś innym. <strong>Masz pytania? Pytaj – zanim przestanie to być możliwe.</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_npc_relation
                                            [condition] => is_not_known
                                            [npc_id] => 449
                                            [relation_value] => 50
                                        )

                                )

                        )

                    [anwser_text] => Jak się w to w ogóle gra?
                    [type_anwser] => 
                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-18 18:00:39] [INFO] WSZYSTKIE DANE ŻĄDANIA:
[2025-05-18 18:00:39] [DATA] Array
(
    [page_data] => Array
        (
        )

    [npc_id] => 449
    [dialog_id] => jak-sie-w-to-gra
    [current_url] => http://seb.soeasy.it/tereny/park/
    [user_id] => 1
    [answer_id] => answer-0
    [answer_index] => 0
    [current_dialog_id] => przy-wiezieniu
)

[2025-05-18 18:00:39] [INFO] Wyodrębnione dane lokalizacji:
[2025-05-18 18:00:39] [DATA] Array
(
    [location] => Array
        (
            [area_slug] => park
            [area_name] => Park
            [area_id] => 207
        )

    [type_page] => 
    [location_value] => 
)

[2025-05-18 18:00:39] [DEBUG] ROZPOCZYNAM PRZETWARZANIE PRZYCISKÓW ODPOWIEDZI
[2025-05-18 18:00:39] [DEBUG] Znaleziono dialog o ID: przy-wiezieniu
[2025-05-18 18:00:39] [DEBUG] Znaleziono poprzedni dialog ID: przy-wiezieniu
[2025-05-18 18:00:39] [INFO] Pełne dane dialogu:
[2025-05-18 18:00:39] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => condition_task
                            [condition] => is
                            [mission_id] => 339
                            [task_id] => jak-poruszac-sie-po-grze_0
                            [status] => completed
                        )

                )

        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => przy-wiezieniu
    [question] => <p>– No to jesteśmy &#8211; z celi wyszedłeś, <strong>ale do świata Sebastianowa dopiero wchodzisz.</strong><br />
Może Ci się wydaje, że jesteś kimś, że Twoja historia się liczy, że coś ci się należy &#8211; bo miałeś ciężko. To posłuchaj uważnie, zanim się zgubisz między trzepakiem a meliną: <strong>Jesteś jednym z wielu</strong>, co myślą, że jak przetrwali jedną noc na dołku, to teraz świat ich powita z otwartymi ramionami.</p>
<p>Jestem Papuga. To ja otworzyłem ci drzwi. Nie z litości, nie z sympatii. Chcę po prostu zobaczyć, co zrobisz, kiedy w końcu przestanie być łatwo.</p>
<p>Bo w Sebastianowie nic nie jest za darmo. Respekt buduje się decyzjami. A każda z nich zostawia ślad – na tobie albo na kimś innym. <strong>Masz pytania? Pytaj – zanim przestanie to być możliwe.</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_npc_relation
                                            [condition] => is_not_known
                                            [npc_id] => 449
                                            [relation_value] => 50
                                        )

                                )

                        )

                    [anwser_text] => Jak się w to w ogóle gra?
                    [type_anwser] => 
                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-18 18:00:39] [INFO] Odpowiedzi w dialogu:
[2025-05-18 18:00:39] [DATA] Array
(
    [0] => Array
        (
            [acf_fc_layout] => anwser
            [layout_settings] => Array
                (
                    [visibility_tab] => 
                    [logic_operator] => and
                    [visibility_settings] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => condition_npc_relation
                                    [condition] => is_not_known
                                    [npc_id] => 449
                                    [relation_value] => 50
                                )

                        )

                )

            [anwser_text] => Jak się w to w ogóle gra?
            [type_anwser] => 
            [go_to_id] => jak-sie-w-to-gra
        )

)

[2025-05-18 18:00:39] [DEBUG] Znaleziono odpowiedź o indeksie: 0
[2025-05-18 18:00:39] [INFO] Dane odpowiedzi:
[2025-05-18 18:00:39] [DATA] Array
(
    [acf_fc_layout] => anwser
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => condition_npc_relation
                            [condition] => is_not_known
                            [npc_id] => 449
                            [relation_value] => 50
                        )

                )

        )

    [anwser_text] => Jak się w to w ogóle gra?
    [type_anwser] => 
    [go_to_id] => jak-sie-w-to-gra
)

[2025-05-18 18:00:39] [DEBUG] Odpowiedź NIE zawiera akcji type_anwser lub jest pusta
[2025-05-18 18:00:39] [INFO] DialogManager: Rozpoczynam filtrowanie odpowiedzi.
[2025-05-18 18:00:39] [DATA] Array
(
    [count_answers_before] => 7
    [context] => Array
        (
            [type_page] => 
            [location] => 
            [user_id] => 1
            [npc_id] => 449
        )

)

[2025-05-18 18:00:39] [INFO] DialogManager: Sprawdzanie odpowiedzi: acf_fc_layout
[2025-05-18 18:00:39] [DATA] Array
(
    [answer_data] => question
)

[2025-05-18 18:00:39] [DEBUG] DialogManager: Odpowiedź (acf_fc_layout) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 18:00:39] [INFO] DialogManager: Sprawdzanie odpowiedzi: layout_settings
[2025-05-18 18:00:39] [DATA] Array
(
    [answer_data] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

)

[2025-05-18 18:00:39] [DEBUG] DialogManager: Odpowiedź (layout_settings) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 18:00:39] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_toggle
[2025-05-18 18:00:39] [DATA] Array
(
    [answer_data] => 
)

[2025-05-18 18:00:39] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_toggle) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 18:00:39] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_layout_title
[2025-05-18 18:00:39] [DATA] Array
(
    [answer_data] => Dialog
)

[2025-05-18 18:00:39] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_layout_title) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 18:00:39] [INFO] DialogManager: Sprawdzanie odpowiedzi: id_pola
[2025-05-18 18:00:39] [DATA] Array
(
    [answer_data] => jak-sie-w-to-gra
)

[2025-05-18 18:00:39] [DEBUG] DialogManager: Odpowiedź (id_pola) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 18:00:39] [INFO] DialogManager: Sprawdzanie odpowiedzi: question
[2025-05-18 18:00:39] [DATA] Array
(
    [answer_data] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

)

[2025-05-18 18:00:39] [DEBUG] DialogManager: Odpowiedź (question) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 18:00:39] [INFO] DialogManager: Sprawdzanie odpowiedzi: anwsers
[2025-05-18 18:00:39] [DATA] Array
(
    [answer_data] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_task
                                            [condition] => is_not
                                            [mission_id] => 339
                                            [task_id] => jak-poruszac-sie-po-grze_0
                                            [status] => completed
                                        )

                                )

                        )

                    [anwser_text] => Jak poruszać się po grze?
                    [type_anwser] => 
                    [go_to_id] => jak-poruszac-sie-po-grze
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => test
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-18 18:00:39] [DEBUG] DialogManager: Odpowiedź (anwsers) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 18:00:39] [INFO] DialogManager: Zakończono filtrowanie odpowiedzi.
[2025-05-18 18:00:39] [DATA] Array
(
    [count_answers_after] => 7
)

[2025-05-18 18:00:39] [INFO] Dialog po filtrowaniu:
[2025-05-18 18:00:39] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-sie-w-to-gra
    [question] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_task
                                            [condition] => is_not
                                            [mission_id] => 339
                                            [task_id] => jak-poruszac-sie-po-grze_0
                                            [status] => completed
                                        )

                                )

                        )

                    [anwser_text] => Jak poruszać się po grze?
                    [type_anwser] => 
                    [go_to_id] => jak-poruszac-sie-po-grze
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => test
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-18 18:00:39] [INFO] Dane odpowiedzi:
[2025-05-18 18:00:39] [DATA] Array
(
    [success] => 1
    [dialog] => Array
        (
            [id] => jak-sie-w-to-gra
            [text] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

            [answers] => Array
                (
                    [0] => Array
                        (
                            [id] => 
                            [text] => Jak poruszać się po grze?
                            [next_dialog] => jak-poruszac-sie-po-grze
                        )

                    [1] => Array
                        (
                            [id] => 
                            [text] => test
                            [next_dialog] => 0
                        )

                )

        )

    [npc] => Array
        (
            [id] => 449
            [name] => Papuga
            [image] => http://seb.soeasy.it/wp-content/uploads/2025/05/papuga_new.png
        )

)

[2025-05-18 18:00:39] [DEBUG] ===== ZAKOŃCZENIE PRZETWARZANIA ŻĄDANIA DIALOGU =====
[2025-05-18 18:00:49] [INFO] WSZYSTKIE DANE ŻĄDANIA:
[2025-05-18 18:00:49] [DATA] Array
(
    [page_data] => Array
        (
        )

    [npc_id] => 449
    [dialog_id] => jak-poruszac-sie-po-grze
    [current_url] => http://seb.soeasy.it/tereny/park/
    [user_id] => 1
    [answer_id] => answer-0
    [answer_index] => 0
    [current_dialog_id] => jak-sie-w-to-gra
)

[2025-05-18 18:00:49] [INFO] Wyodrębnione dane lokalizacji:
[2025-05-18 18:00:49] [DATA] Array
(
    [location] => Array
        (
            [area_slug] => park
            [area_name] => Park
            [area_id] => 207
        )

    [type_page] => 
    [location_value] => 
)

[2025-05-18 18:00:49] [DEBUG] ROZPOCZYNAM PRZETWARZANIE PRZYCISKÓW ODPOWIEDZI
[2025-05-18 18:00:49] [DEBUG] Znaleziono dialog o ID: jak-sie-w-to-gra
[2025-05-18 18:00:49] [DEBUG] Znaleziono poprzedni dialog ID: jak-sie-w-to-gra
[2025-05-18 18:00:49] [INFO] Pełne dane dialogu:
[2025-05-18 18:00:49] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-sie-w-to-gra
    [question] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_task
                                            [condition] => is_not
                                            [mission_id] => 339
                                            [task_id] => jak-poruszac-sie-po-grze_0
                                            [status] => completed
                                        )

                                )

                        )

                    [anwser_text] => Jak poruszać się po grze?
                    [type_anwser] => 
                    [go_to_id] => jak-poruszac-sie-po-grze
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => test
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-18 18:00:49] [INFO] Odpowiedzi w dialogu:
[2025-05-18 18:00:49] [DATA] Array
(
    [0] => Array
        (
            [acf_fc_layout] => anwser
            [layout_settings] => Array
                (
                    [visibility_tab] => 
                    [logic_operator] => and
                    [visibility_settings] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => condition_task
                                    [condition] => is_not
                                    [mission_id] => 339
                                    [task_id] => jak-poruszac-sie-po-grze_0
                                    [status] => completed
                                )

                        )

                )

            [anwser_text] => Jak poruszać się po grze?
            [type_anwser] => 
            [go_to_id] => jak-poruszac-sie-po-grze
        )

    [1] => Array
        (
            [acf_fc_layout] => anwser
            [layout_settings] => Array
                (
                    [visibility_tab] => 
                    [logic_operator] => and
                    [visibility_settings] => 
                )

            [anwser_text] => test
            [type_anwser] => 
            [go_to_id] => 0
        )

)

[2025-05-18 18:00:49] [DEBUG] Znaleziono odpowiedź o indeksie: 0
[2025-05-18 18:00:49] [INFO] Dane odpowiedzi:
[2025-05-18 18:00:49] [DATA] Array
(
    [acf_fc_layout] => anwser
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => condition_task
                            [condition] => is_not
                            [mission_id] => 339
                            [task_id] => jak-poruszac-sie-po-grze_0
                            [status] => completed
                        )

                )

        )

    [anwser_text] => Jak poruszać się po grze?
    [type_anwser] => 
    [go_to_id] => jak-poruszac-sie-po-grze
)

[2025-05-18 18:00:49] [DEBUG] Odpowiedź NIE zawiera akcji type_anwser lub jest pusta
[2025-05-18 18:00:49] [INFO] DialogManager: Rozpoczynam filtrowanie odpowiedzi.
[2025-05-18 18:00:49] [DATA] Array
(
    [count_answers_before] => 7
    [context] => Array
        (
            [type_page] => 
            [location] => 
            [user_id] => 1
            [npc_id] => 449
        )

)

[2025-05-18 18:00:49] [INFO] DialogManager: Sprawdzanie odpowiedzi: acf_fc_layout
[2025-05-18 18:00:49] [DATA] Array
(
    [answer_data] => question
)

[2025-05-18 18:00:49] [DEBUG] DialogManager: Odpowiedź (acf_fc_layout) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 18:00:49] [INFO] DialogManager: Sprawdzanie odpowiedzi: layout_settings
[2025-05-18 18:00:49] [DATA] Array
(
    [answer_data] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

)

[2025-05-18 18:00:49] [DEBUG] DialogManager: Odpowiedź (layout_settings) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 18:00:49] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_toggle
[2025-05-18 18:00:49] [DATA] Array
(
    [answer_data] => 
)

[2025-05-18 18:00:49] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_toggle) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 18:00:49] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_layout_title
[2025-05-18 18:00:49] [DATA] Array
(
    [answer_data] => Dialog
)

[2025-05-18 18:00:49] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_layout_title) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 18:00:49] [INFO] DialogManager: Sprawdzanie odpowiedzi: id_pola
[2025-05-18 18:00:49] [DATA] Array
(
    [answer_data] => jak-poruszac-sie-po-grze
)

[2025-05-18 18:00:49] [DEBUG] DialogManager: Odpowiedź (id_pola) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 18:00:49] [INFO] DialogManager: Sprawdzanie odpowiedzi: question
[2025-05-18 18:00:49] [DATA] Array
(
    [answer_data] => <p><strong>Każda scena to jeden widok – jak kadr z życia</strong>. Na nim są miejsca, osoby i przedmioty, z którymi możesz wejść w interakcję. Biały kolor oznacza przejście do innej sceny. Możesz przejść z bramy na klatkę, z meliny do sklepu, z podwórka do innej dzielnicy. Te przejścia nie kosztują Cię nic energii.</p>
<p><strong>Niebieski kolor to akcje z otoczeniem. </strong>Grzebanie w śmietniku, kontenerze na ubrania, zaglądanie do kiosku, przeszukiwanie bagażnika, otwieranie skrytki – tutaj każda akcja kosztuje pewną ilość energii. <strong>Postacie mają kolorowe obwódki. Klikasz – zaczyna się rozmowa.</strong></p>
<ul>
<li>Zielony – lubią cię.</li>
<li>Czerwony – nie cierpią.</li>
<li>Pomarańczowy – neutralni, jeszcze nie wiedzą, co o tobie sądzić.</li>
</ul>
<p>Każda rozmowa może Ci coś dać – albo zabrać. Zależy, jak się zachowasz.</p>
<p>Czasem znajdziesz coś cennego. Czasem coś obrzydliwego. A czasem kogoś obudzisz. <strong>Pamiętaj – nie każde poruszanie się między widokami zużywa energę. </strong>Dopiero konkretne działania albo spacery po dzielnicach zabierają energię</p>

)

[2025-05-18 18:00:49] [DEBUG] DialogManager: Odpowiedź (question) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 18:00:49] [INFO] DialogManager: Sprawdzanie odpowiedzi: anwsers
[2025-05-18 18:00:49] [DATA] Array
(
    [answer_data] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => Okej, załapałem jak się poruszać
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => mission
                                    [acfe_flexible_toggle] => 
                                    [mission_id] => 339
                                    [mission_status] => in_progress
                                    [mission_task_id] => jak-poruszac-sie-po-grze_0
                                    [mission_task_status] => completed
                                )

                        )

                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-18 18:00:49] [DEBUG] DialogManager: Odpowiedź (anwsers) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 18:00:49] [INFO] DialogManager: Zakończono filtrowanie odpowiedzi.
[2025-05-18 18:00:49] [DATA] Array
(
    [count_answers_after] => 7
)

[2025-05-18 18:00:49] [INFO] Dialog po filtrowaniu:
[2025-05-18 18:00:49] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-poruszac-sie-po-grze
    [question] => <p><strong>Każda scena to jeden widok – jak kadr z życia</strong>. Na nim są miejsca, osoby i przedmioty, z którymi możesz wejść w interakcję. Biały kolor oznacza przejście do innej sceny. Możesz przejść z bramy na klatkę, z meliny do sklepu, z podwórka do innej dzielnicy. Te przejścia nie kosztują Cię nic energii.</p>
<p><strong>Niebieski kolor to akcje z otoczeniem. </strong>Grzebanie w śmietniku, kontenerze na ubrania, zaglądanie do kiosku, przeszukiwanie bagażnika, otwieranie skrytki – tutaj każda akcja kosztuje pewną ilość energii. <strong>Postacie mają kolorowe obwódki. Klikasz – zaczyna się rozmowa.</strong></p>
<ul>
<li>Zielony – lubią cię.</li>
<li>Czerwony – nie cierpią.</li>
<li>Pomarańczowy – neutralni, jeszcze nie wiedzą, co o tobie sądzić.</li>
</ul>
<p>Każda rozmowa może Ci coś dać – albo zabrać. Zależy, jak się zachowasz.</p>
<p>Czasem znajdziesz coś cennego. Czasem coś obrzydliwego. A czasem kogoś obudzisz. <strong>Pamiętaj – nie każde poruszanie się między widokami zużywa energę. </strong>Dopiero konkretne działania albo spacery po dzielnicach zabierają energię</p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => Okej, załapałem jak się poruszać
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => mission
                                    [acfe_flexible_toggle] => 
                                    [mission_id] => 339
                                    [mission_status] => in_progress
                                    [mission_task_id] => jak-poruszac-sie-po-grze_0
                                    [mission_task_status] => completed
                                )

                        )

                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-18 18:00:49] [INFO] Dane odpowiedzi:
[2025-05-18 18:00:49] [DATA] Array
(
    [success] => 1
    [dialog] => Array
        (
            [id] => jak-poruszac-sie-po-grze
            [text] => <p><strong>Każda scena to jeden widok – jak kadr z życia</strong>. Na nim są miejsca, osoby i przedmioty, z którymi możesz wejść w interakcję. Biały kolor oznacza przejście do innej sceny. Możesz przejść z bramy na klatkę, z meliny do sklepu, z podwórka do innej dzielnicy. Te przejścia nie kosztują Cię nic energii.</p>
<p><strong>Niebieski kolor to akcje z otoczeniem. </strong>Grzebanie w śmietniku, kontenerze na ubrania, zaglądanie do kiosku, przeszukiwanie bagażnika, otwieranie skrytki – tutaj każda akcja kosztuje pewną ilość energii. <strong>Postacie mają kolorowe obwódki. Klikasz – zaczyna się rozmowa.</strong></p>
<ul>
<li>Zielony – lubią cię.</li>
<li>Czerwony – nie cierpią.</li>
<li>Pomarańczowy – neutralni, jeszcze nie wiedzą, co o tobie sądzić.</li>
</ul>
<p>Każda rozmowa może Ci coś dać – albo zabrać. Zależy, jak się zachowasz.</p>
<p>Czasem znajdziesz coś cennego. Czasem coś obrzydliwego. A czasem kogoś obudzisz. <strong>Pamiętaj – nie każde poruszanie się między widokami zużywa energę. </strong>Dopiero konkretne działania albo spacery po dzielnicach zabierają energię</p>

            [answers] => Array
                (
                    [0] => Array
                        (
                            [id] => 
                            [text] => Okej, załapałem jak się poruszać
                            [next_dialog] => jak-sie-w-to-gra
                        )

                )

        )

    [npc] => Array
        (
            [id] => 449
            [name] => Papuga
            [image] => http://seb.soeasy.it/wp-content/uploads/2025/05/papuga_new.png
        )

)

[2025-05-18 18:00:49] [DEBUG] ===== ZAKOŃCZENIE PRZETWARZANIA ŻĄDANIA DIALOGU =====
[2025-05-18 18:00:54] [INFO] WSZYSTKIE DANE ŻĄDANIA:
[2025-05-18 18:00:54] [DATA] Array
(
    [page_data] => Array
        (
        )

    [npc_id] => 449
    [dialog_id] => jak-sie-w-to-gra
    [current_url] => http://seb.soeasy.it/tereny/park/
    [user_id] => 1
    [answer_id] => answer-0
    [answer_index] => 0
    [current_dialog_id] => jak-poruszac-sie-po-grze
)

[2025-05-18 18:00:54] [INFO] Wyodrębnione dane lokalizacji:
[2025-05-18 18:00:54] [DATA] Array
(
    [location] => Array
        (
            [area_slug] => park
            [area_name] => Park
            [area_id] => 207
        )

    [type_page] => 
    [location_value] => 
)

[2025-05-18 18:00:54] [DEBUG] ROZPOCZYNAM PRZETWARZANIE PRZYCISKÓW ODPOWIEDZI
[2025-05-18 18:00:54] [DEBUG] Znaleziono dialog o ID: jak-poruszac-sie-po-grze
[2025-05-18 18:00:54] [DEBUG] Znaleziono poprzedni dialog ID: jak-poruszac-sie-po-grze
[2025-05-18 18:00:54] [INFO] Pełne dane dialogu:
[2025-05-18 18:00:54] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-poruszac-sie-po-grze
    [question] => <p><strong>Każda scena to jeden widok – jak kadr z życia</strong>. Na nim są miejsca, osoby i przedmioty, z którymi możesz wejść w interakcję. Biały kolor oznacza przejście do innej sceny. Możesz przejść z bramy na klatkę, z meliny do sklepu, z podwórka do innej dzielnicy. Te przejścia nie kosztują Cię nic energii.</p>
<p><strong>Niebieski kolor to akcje z otoczeniem. </strong>Grzebanie w śmietniku, kontenerze na ubrania, zaglądanie do kiosku, przeszukiwanie bagażnika, otwieranie skrytki – tutaj każda akcja kosztuje pewną ilość energii. <strong>Postacie mają kolorowe obwódki. Klikasz – zaczyna się rozmowa.</strong></p>
<ul>
<li>Zielony – lubią cię.</li>
<li>Czerwony – nie cierpią.</li>
<li>Pomarańczowy – neutralni, jeszcze nie wiedzą, co o tobie sądzić.</li>
</ul>
<p>Każda rozmowa może Ci coś dać – albo zabrać. Zależy, jak się zachowasz.</p>
<p>Czasem znajdziesz coś cennego. Czasem coś obrzydliwego. A czasem kogoś obudzisz. <strong>Pamiętaj – nie każde poruszanie się między widokami zużywa energę. </strong>Dopiero konkretne działania albo spacery po dzielnicach zabierają energię</p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => Okej, załapałem jak się poruszać
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => mission
                                    [acfe_flexible_toggle] => 
                                    [mission_id] => 339
                                    [mission_status] => in_progress
                                    [mission_task_id] => jak-poruszac-sie-po-grze_0
                                    [mission_task_status] => completed
                                )

                        )

                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-18 18:00:54] [INFO] Odpowiedzi w dialogu:
[2025-05-18 18:00:54] [DATA] Array
(
    [0] => Array
        (
            [acf_fc_layout] => anwser
            [layout_settings] => Array
                (
                    [visibility_tab] => 
                    [logic_operator] => and
                    [visibility_settings] => 
                )

            [anwser_text] => Okej, załapałem jak się poruszać
            [type_anwser] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => mission
                            [acfe_flexible_toggle] => 
                            [mission_id] => 339
                            [mission_status] => in_progress
                            [mission_task_id] => jak-poruszac-sie-po-grze_0
                            [mission_task_status] => completed
                        )

                )

            [go_to_id] => jak-sie-w-to-gra
        )

)

[2025-05-18 18:00:54] [DEBUG] Znaleziono odpowiedź o indeksie: 0
[2025-05-18 18:00:54] [INFO] Dane odpowiedzi:
[2025-05-18 18:00:54] [DATA] Array
(
    [acf_fc_layout] => anwser
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [anwser_text] => Okej, załapałem jak się poruszać
    [type_anwser] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => mission
                    [acfe_flexible_toggle] => 
                    [mission_id] => 339
                    [mission_status] => in_progress
                    [mission_task_id] => jak-poruszac-sie-po-grze_0
                    [mission_task_status] => completed
                )

        )

    [go_to_id] => jak-sie-w-to-gra
)

[2025-05-18 18:00:54] [INFO] Odpowiedź zawiera akcje do wykonania:
[2025-05-18 18:00:54] [DATA] Array
(
    [0] => Array
        (
            [acf_fc_layout] => mission
            [acfe_flexible_toggle] => 
            [mission_id] => 339
            [mission_status] => in_progress
            [mission_task_id] => jak-poruszac-sie-po-grze_0
            [mission_task_status] => completed
        )

)

[2025-05-18 18:00:54] [INFO] Weryfikacja akcji:
[2025-05-18 18:00:54] [DATA] Array
(
    [acf_fc_layout] => mission
    [acfe_flexible_toggle] => 
    [mission_id] => 339
    [mission_status] => in_progress
    [mission_task_id] => jak-poruszac-sie-po-grze_0
    [mission_task_status] => completed
)

[2025-05-18 18:00:54] [DEBUG] WSZYSTKIE AKCJE SĄ WYKONALNE, PRZYSTĘPUJĘ DO ICH REALIZACJI
[2025-05-18 18:00:54] [INFO] Przetwarzanie akcji:
[2025-05-18 18:00:54] [DATA] Array
(
    [acf_fc_layout] => mission
    [acfe_flexible_toggle] => 
    [mission_id] => 339
    [mission_status] => in_progress
    [mission_task_id] => jak-poruszac-sie-po-grze_0
    [mission_task_status] => completed
)

[2025-05-18 18:00:54] [DEBUG] Typ akcji: mission
[2025-05-18 18:00:54] [DEBUG] Wykonuję akcję misji: mission_id=339, status=in_progress, task_id=jak-poruszac-sie-po-grze_0, task_status=completed, npc_id=449
[2025-05-18 18:00:54] [INFO] Aktualny stan misji użytkownika:
[2025-05-18 18:00:54] [DATA] Array
(
    [status] => in_progress
    [assigned_date] => 2025-04-29 18:04:25
    [completion_date] => 2025-05-15 18:20:13
    [tasks] => Array
        (
            [jak-poruszac-sie-po-grze_0] => completed
            [jak-sie-tu-poruszac_1] => not_started
        )

)

[2025-05-18 18:00:54] [DEBUG] Zaktualizowano status misji 'Przejdź samouczek' z 'in_progress' na 'in_progress'
[2025-05-18 18:00:54] [DEBUG] Zaktualizowano status standardowego zadania 'jak-poruszac-sie-po-grze_0' z 'completed' na 'completed'
[2025-05-18 18:00:54] [DEBUG] Misja nie wymaga aktualizacji - dane nie uległy zmianie
[2025-05-18 18:00:54] [INFO] Utworzono powiadomienie dla misji:
[2025-05-18 18:00:54] [DATA] Array
(
    [message] => Ukończono zadanie: "Jak poruszać się po grze?"
    [status] => success
)

[2025-05-18 18:00:54] [INFO] DialogManager: Rozpoczynam filtrowanie odpowiedzi.
[2025-05-18 18:00:54] [DATA] Array
(
    [count_answers_before] => 7
    [context] => Array
        (
            [type_page] => 
            [location] => 
            [user_id] => 1
            [npc_id] => 449
        )

)

[2025-05-18 18:00:54] [INFO] DialogManager: Sprawdzanie odpowiedzi: acf_fc_layout
[2025-05-18 18:00:54] [DATA] Array
(
    [answer_data] => question
)

[2025-05-18 18:00:54] [DEBUG] DialogManager: Odpowiedź (acf_fc_layout) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 18:00:54] [INFO] DialogManager: Sprawdzanie odpowiedzi: layout_settings
[2025-05-18 18:00:54] [DATA] Array
(
    [answer_data] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

)

[2025-05-18 18:00:54] [DEBUG] DialogManager: Odpowiedź (layout_settings) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 18:00:54] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_toggle
[2025-05-18 18:00:54] [DATA] Array
(
    [answer_data] => 
)

[2025-05-18 18:00:54] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_toggle) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 18:00:54] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_layout_title
[2025-05-18 18:00:54] [DATA] Array
(
    [answer_data] => Dialog
)

[2025-05-18 18:00:54] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_layout_title) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 18:00:54] [INFO] DialogManager: Sprawdzanie odpowiedzi: id_pola
[2025-05-18 18:00:54] [DATA] Array
(
    [answer_data] => jak-sie-w-to-gra
)

[2025-05-18 18:00:54] [DEBUG] DialogManager: Odpowiedź (id_pola) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 18:00:54] [INFO] DialogManager: Sprawdzanie odpowiedzi: question
[2025-05-18 18:00:54] [DATA] Array
(
    [answer_data] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

)

[2025-05-18 18:00:54] [DEBUG] DialogManager: Odpowiedź (question) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 18:00:54] [INFO] DialogManager: Sprawdzanie odpowiedzi: anwsers
[2025-05-18 18:00:54] [DATA] Array
(
    [answer_data] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_task
                                            [condition] => is_not
                                            [mission_id] => 339
                                            [task_id] => jak-poruszac-sie-po-grze_0
                                            [status] => completed
                                        )

                                )

                        )

                    [anwser_text] => Jak poruszać się po grze?
                    [type_anwser] => 
                    [go_to_id] => jak-poruszac-sie-po-grze
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => test
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-18 18:00:54] [DEBUG] DialogManager: Odpowiedź (anwsers) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 18:00:54] [INFO] DialogManager: Zakończono filtrowanie odpowiedzi.
[2025-05-18 18:00:54] [DATA] Array
(
    [count_answers_after] => 7
)

[2025-05-18 18:00:54] [INFO] Dialog po filtrowaniu:
[2025-05-18 18:00:54] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-sie-w-to-gra
    [question] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_task
                                            [condition] => is_not
                                            [mission_id] => 339
                                            [task_id] => jak-poruszac-sie-po-grze_0
                                            [status] => completed
                                        )

                                )

                        )

                    [anwser_text] => Jak poruszać się po grze?
                    [type_anwser] => 
                    [go_to_id] => jak-poruszac-sie-po-grze
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => test
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-18 18:00:54] [INFO] Dodano powiadomienie do odpowiedzi:
[2025-05-18 18:00:54] [DATA] Array
(
    [message] => Ukończono zadanie: "Jak poruszać się po grze?"
    [status] => success
)

[2025-05-18 18:00:54] [INFO] Dane odpowiedzi:
[2025-05-18 18:00:54] [DATA] Array
(
    [success] => 1
    [dialog] => Array
        (
            [id] => jak-sie-w-to-gra
            [text] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

            [answers] => Array
                (
                    [0] => Array
                        (
                            [id] => 
                            [text] => Jak poruszać się po grze?
                            [next_dialog] => jak-poruszac-sie-po-grze
                        )

                    [1] => Array
                        (
                            [id] => 
                            [text] => test
                            [next_dialog] => 0
                        )

                )

        )

    [npc] => Array
        (
            [id] => 449
            [name] => Papuga
            [image] => http://seb.soeasy.it/wp-content/uploads/2025/05/papuga_new.png
        )

    [notification] => Array
        (
            [message] => Ukończono zadanie: "Jak poruszać się po grze?"
            [status] => success
        )

)

[2025-05-18 18:00:54] [DEBUG] ===== ZAKOŃCZENIE PRZETWARZANIA ŻĄDANIA DIALOGU =====
[2025-05-18 18:00:54] [DEBUG] Obsługa żądania danych użytkownika ID: 1
[2025-05-18 18:00:54] [INFO] Pobrano dane plecaka użytkownika:
[2025-05-18 18:00:54] [DATA] Array
(
    [gold] => 100
    [cigarettes] => 31
)

[2025-05-18 18:00:54] [INFO] Pobrano dane witalności użytkownika:
[2025-05-18 18:00:54] [DATA] Array
(
    [life] => 80
    [max_life] => 100
    [energy] => 70
    [max_energy] => 100
)

[2025-05-18 18:00:54] [INFO] Zwracam dane użytkownika:
[2025-05-18 18:00:54] [DATA] Array
(
    [success] => 1
    [message] => Dane użytkownika pobrane pomyślnie
    [data] => Array
        (
            [backpack] => Array
                (
                    [gold] => 100
                    [cigarettes] => 31
                )

            [vitality] => Array
                (
                    [life] => 80
                    [max_life] => 100
                    [energy] => 70
                    [max_energy] => 100
                )

        )

)

[2025-05-18 18:00:58] [INFO] WSZYSTKIE DANE ŻĄDANIA:
[2025-05-18 18:00:58] [DATA] Array
(
    [page_data] => Array
        (
        )

    [npc_id] => 449
    [dialog_id] => jak-poruszac-sie-po-grze
    [current_url] => http://seb.soeasy.it/tereny/park/
    [user_id] => 1
    [answer_id] => answer-0
    [answer_index] => 0
    [current_dialog_id] => jak-sie-w-to-gra
)

[2025-05-18 18:00:58] [INFO] Wyodrębnione dane lokalizacji:
[2025-05-18 18:00:58] [DATA] Array
(
    [location] => Array
        (
            [area_slug] => park
            [area_name] => Park
            [area_id] => 207
        )

    [type_page] => 
    [location_value] => 
)

[2025-05-18 18:00:58] [DEBUG] ROZPOCZYNAM PRZETWARZANIE PRZYCISKÓW ODPOWIEDZI
[2025-05-18 18:00:58] [DEBUG] Znaleziono dialog o ID: jak-sie-w-to-gra
[2025-05-18 18:00:58] [DEBUG] Znaleziono poprzedni dialog ID: jak-sie-w-to-gra
[2025-05-18 18:00:58] [INFO] Pełne dane dialogu:
[2025-05-18 18:00:58] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-sie-w-to-gra
    [question] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_task
                                            [condition] => is_not
                                            [mission_id] => 339
                                            [task_id] => jak-poruszac-sie-po-grze_0
                                            [status] => completed
                                        )

                                )

                        )

                    [anwser_text] => Jak poruszać się po grze?
                    [type_anwser] => 
                    [go_to_id] => jak-poruszac-sie-po-grze
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => test
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-18 18:00:58] [INFO] Odpowiedzi w dialogu:
[2025-05-18 18:00:58] [DATA] Array
(
    [0] => Array
        (
            [acf_fc_layout] => anwser
            [layout_settings] => Array
                (
                    [visibility_tab] => 
                    [logic_operator] => and
                    [visibility_settings] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => condition_task
                                    [condition] => is_not
                                    [mission_id] => 339
                                    [task_id] => jak-poruszac-sie-po-grze_0
                                    [status] => completed
                                )

                        )

                )

            [anwser_text] => Jak poruszać się po grze?
            [type_anwser] => 
            [go_to_id] => jak-poruszac-sie-po-grze
        )

    [1] => Array
        (
            [acf_fc_layout] => anwser
            [layout_settings] => Array
                (
                    [visibility_tab] => 
                    [logic_operator] => and
                    [visibility_settings] => 
                )

            [anwser_text] => test
            [type_anwser] => 
            [go_to_id] => 0
        )

)

[2025-05-18 18:00:58] [DEBUG] Znaleziono odpowiedź o indeksie: 0
[2025-05-18 18:00:58] [INFO] Dane odpowiedzi:
[2025-05-18 18:00:58] [DATA] Array
(
    [acf_fc_layout] => anwser
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => condition_task
                            [condition] => is_not
                            [mission_id] => 339
                            [task_id] => jak-poruszac-sie-po-grze_0
                            [status] => completed
                        )

                )

        )

    [anwser_text] => Jak poruszać się po grze?
    [type_anwser] => 
    [go_to_id] => jak-poruszac-sie-po-grze
)

[2025-05-18 18:00:58] [DEBUG] Odpowiedź NIE zawiera akcji type_anwser lub jest pusta
[2025-05-18 18:00:58] [INFO] DialogManager: Rozpoczynam filtrowanie odpowiedzi.
[2025-05-18 18:00:58] [DATA] Array
(
    [count_answers_before] => 7
    [context] => Array
        (
            [type_page] => 
            [location] => 
            [user_id] => 1
            [npc_id] => 449
        )

)

[2025-05-18 18:00:58] [INFO] DialogManager: Sprawdzanie odpowiedzi: acf_fc_layout
[2025-05-18 18:00:58] [DATA] Array
(
    [answer_data] => question
)

[2025-05-18 18:00:58] [DEBUG] DialogManager: Odpowiedź (acf_fc_layout) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 18:00:58] [INFO] DialogManager: Sprawdzanie odpowiedzi: layout_settings
[2025-05-18 18:00:58] [DATA] Array
(
    [answer_data] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

)

[2025-05-18 18:00:58] [DEBUG] DialogManager: Odpowiedź (layout_settings) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 18:00:58] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_toggle
[2025-05-18 18:00:58] [DATA] Array
(
    [answer_data] => 
)

[2025-05-18 18:00:58] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_toggle) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 18:00:58] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_layout_title
[2025-05-18 18:00:58] [DATA] Array
(
    [answer_data] => Dialog
)

[2025-05-18 18:00:58] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_layout_title) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 18:00:58] [INFO] DialogManager: Sprawdzanie odpowiedzi: id_pola
[2025-05-18 18:00:58] [DATA] Array
(
    [answer_data] => jak-poruszac-sie-po-grze
)

[2025-05-18 18:00:58] [DEBUG] DialogManager: Odpowiedź (id_pola) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 18:00:58] [INFO] DialogManager: Sprawdzanie odpowiedzi: question
[2025-05-18 18:00:58] [DATA] Array
(
    [answer_data] => <p><strong>Każda scena to jeden widok – jak kadr z życia</strong>. Na nim są miejsca, osoby i przedmioty, z którymi możesz wejść w interakcję. Biały kolor oznacza przejście do innej sceny. Możesz przejść z bramy na klatkę, z meliny do sklepu, z podwórka do innej dzielnicy. Te przejścia nie kosztują Cię nic energii.</p>
<p><strong>Niebieski kolor to akcje z otoczeniem. </strong>Grzebanie w śmietniku, kontenerze na ubrania, zaglądanie do kiosku, przeszukiwanie bagażnika, otwieranie skrytki – tutaj każda akcja kosztuje pewną ilość energii. <strong>Postacie mają kolorowe obwódki. Klikasz – zaczyna się rozmowa.</strong></p>
<ul>
<li>Zielony – lubią cię.</li>
<li>Czerwony – nie cierpią.</li>
<li>Pomarańczowy – neutralni, jeszcze nie wiedzą, co o tobie sądzić.</li>
</ul>
<p>Każda rozmowa może Ci coś dać – albo zabrać. Zależy, jak się zachowasz.</p>
<p>Czasem znajdziesz coś cennego. Czasem coś obrzydliwego. A czasem kogoś obudzisz. <strong>Pamiętaj – nie każde poruszanie się między widokami zużywa energę. </strong>Dopiero konkretne działania albo spacery po dzielnicach zabierają energię</p>

)

[2025-05-18 18:00:58] [DEBUG] DialogManager: Odpowiedź (question) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 18:00:58] [INFO] DialogManager: Sprawdzanie odpowiedzi: anwsers
[2025-05-18 18:00:58] [DATA] Array
(
    [answer_data] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => Okej, załapałem jak się poruszać
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => mission
                                    [acfe_flexible_toggle] => 
                                    [mission_id] => 339
                                    [mission_status] => in_progress
                                    [mission_task_id] => jak-poruszac-sie-po-grze_0
                                    [mission_task_status] => completed
                                )

                        )

                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-18 18:00:58] [DEBUG] DialogManager: Odpowiedź (anwsers) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 18:00:58] [INFO] DialogManager: Zakończono filtrowanie odpowiedzi.
[2025-05-18 18:00:58] [DATA] Array
(
    [count_answers_after] => 7
)

[2025-05-18 18:00:58] [INFO] Dialog po filtrowaniu:
[2025-05-18 18:00:58] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-poruszac-sie-po-grze
    [question] => <p><strong>Każda scena to jeden widok – jak kadr z życia</strong>. Na nim są miejsca, osoby i przedmioty, z którymi możesz wejść w interakcję. Biały kolor oznacza przejście do innej sceny. Możesz przejść z bramy na klatkę, z meliny do sklepu, z podwórka do innej dzielnicy. Te przejścia nie kosztują Cię nic energii.</p>
<p><strong>Niebieski kolor to akcje z otoczeniem. </strong>Grzebanie w śmietniku, kontenerze na ubrania, zaglądanie do kiosku, przeszukiwanie bagażnika, otwieranie skrytki – tutaj każda akcja kosztuje pewną ilość energii. <strong>Postacie mają kolorowe obwódki. Klikasz – zaczyna się rozmowa.</strong></p>
<ul>
<li>Zielony – lubią cię.</li>
<li>Czerwony – nie cierpią.</li>
<li>Pomarańczowy – neutralni, jeszcze nie wiedzą, co o tobie sądzić.</li>
</ul>
<p>Każda rozmowa może Ci coś dać – albo zabrać. Zależy, jak się zachowasz.</p>
<p>Czasem znajdziesz coś cennego. Czasem coś obrzydliwego. A czasem kogoś obudzisz. <strong>Pamiętaj – nie każde poruszanie się między widokami zużywa energę. </strong>Dopiero konkretne działania albo spacery po dzielnicach zabierają energię</p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => Okej, załapałem jak się poruszać
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => mission
                                    [acfe_flexible_toggle] => 
                                    [mission_id] => 339
                                    [mission_status] => in_progress
                                    [mission_task_id] => jak-poruszac-sie-po-grze_0
                                    [mission_task_status] => completed
                                )

                        )

                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-18 18:00:58] [INFO] Dane odpowiedzi:
[2025-05-18 18:00:58] [DATA] Array
(
    [success] => 1
    [dialog] => Array
        (
            [id] => jak-poruszac-sie-po-grze
            [text] => <p><strong>Każda scena to jeden widok – jak kadr z życia</strong>. Na nim są miejsca, osoby i przedmioty, z którymi możesz wejść w interakcję. Biały kolor oznacza przejście do innej sceny. Możesz przejść z bramy na klatkę, z meliny do sklepu, z podwórka do innej dzielnicy. Te przejścia nie kosztują Cię nic energii.</p>
<p><strong>Niebieski kolor to akcje z otoczeniem. </strong>Grzebanie w śmietniku, kontenerze na ubrania, zaglądanie do kiosku, przeszukiwanie bagażnika, otwieranie skrytki – tutaj każda akcja kosztuje pewną ilość energii. <strong>Postacie mają kolorowe obwódki. Klikasz – zaczyna się rozmowa.</strong></p>
<ul>
<li>Zielony – lubią cię.</li>
<li>Czerwony – nie cierpią.</li>
<li>Pomarańczowy – neutralni, jeszcze nie wiedzą, co o tobie sądzić.</li>
</ul>
<p>Każda rozmowa może Ci coś dać – albo zabrać. Zależy, jak się zachowasz.</p>
<p>Czasem znajdziesz coś cennego. Czasem coś obrzydliwego. A czasem kogoś obudzisz. <strong>Pamiętaj – nie każde poruszanie się między widokami zużywa energę. </strong>Dopiero konkretne działania albo spacery po dzielnicach zabierają energię</p>

            [answers] => Array
                (
                    [0] => Array
                        (
                            [id] => 
                            [text] => Okej, załapałem jak się poruszać
                            [next_dialog] => jak-sie-w-to-gra
                        )

                )

        )

    [npc] => Array
        (
            [id] => 449
            [name] => Papuga
            [image] => http://seb.soeasy.it/wp-content/uploads/2025/05/papuga_new.png
        )

)

[2025-05-18 18:00:58] [DEBUG] ===== ZAKOŃCZENIE PRZETWARZANIA ŻĄDANIA DIALOGU =====
[2025-05-18 18:01:19] [INFO] WSZYSTKIE DANE ŻĄDANIA:
[2025-05-18 18:01:19] [DATA] Array
(
    [page_data] => Array
        (
        )

    [npc_id] => 449
    [dialog_id] => jak-sie-w-to-gra
    [current_url] => http://seb.soeasy.it/tereny/park/
    [user_id] => 1
    [answer_id] => answer-0
    [answer_index] => 0
    [current_dialog_id] => jak-poruszac-sie-po-grze
)

[2025-05-18 18:01:19] [INFO] Wyodrębnione dane lokalizacji:
[2025-05-18 18:01:19] [DATA] Array
(
    [location] => Array
        (
            [area_slug] => park
            [area_name] => Park
            [area_id] => 207
        )

    [type_page] => 
    [location_value] => 
)

[2025-05-18 18:01:19] [DEBUG] ROZPOCZYNAM PRZETWARZANIE PRZYCISKÓW ODPOWIEDZI
[2025-05-18 18:01:19] [DEBUG] Znaleziono dialog o ID: jak-poruszac-sie-po-grze
[2025-05-18 18:01:19] [DEBUG] Znaleziono poprzedni dialog ID: jak-poruszac-sie-po-grze
[2025-05-18 18:01:19] [INFO] Pełne dane dialogu:
[2025-05-18 18:01:19] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-poruszac-sie-po-grze
    [question] => <p><strong>Każda scena to jeden widok – jak kadr z życia</strong>. Na nim są miejsca, osoby i przedmioty, z którymi możesz wejść w interakcję. Biały kolor oznacza przejście do innej sceny. Możesz przejść z bramy na klatkę, z meliny do sklepu, z podwórka do innej dzielnicy. Te przejścia nie kosztują Cię nic energii.</p>
<p><strong>Niebieski kolor to akcje z otoczeniem. </strong>Grzebanie w śmietniku, kontenerze na ubrania, zaglądanie do kiosku, przeszukiwanie bagażnika, otwieranie skrytki – tutaj każda akcja kosztuje pewną ilość energii. <strong>Postacie mają kolorowe obwódki. Klikasz – zaczyna się rozmowa.</strong></p>
<ul>
<li>Zielony – lubią cię.</li>
<li>Czerwony – nie cierpią.</li>
<li>Pomarańczowy – neutralni, jeszcze nie wiedzą, co o tobie sądzić.</li>
</ul>
<p>Każda rozmowa może Ci coś dać – albo zabrać. Zależy, jak się zachowasz.</p>
<p>Czasem znajdziesz coś cennego. Czasem coś obrzydliwego. A czasem kogoś obudzisz. <strong>Pamiętaj – nie każde poruszanie się między widokami zużywa energę. </strong>Dopiero konkretne działania albo spacery po dzielnicach zabierają energię</p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => Okej, załapałem jak się poruszać
                    [type_anwser] => Array
                        (
                            [0] => Array
                                (
                                    [acf_fc_layout] => mission
                                    [acfe_flexible_toggle] => 
                                    [mission_id] => 339
                                    [mission_status] => in_progress
                                    [mission_task_id] => jak-poruszac-sie-po-grze_0
                                    [mission_task_status] => completed
                                )

                        )

                    [go_to_id] => jak-sie-w-to-gra
                )

        )

)

[2025-05-18 18:01:19] [INFO] Odpowiedzi w dialogu:
[2025-05-18 18:01:19] [DATA] Array
(
    [0] => Array
        (
            [acf_fc_layout] => anwser
            [layout_settings] => Array
                (
                    [visibility_tab] => 
                    [logic_operator] => and
                    [visibility_settings] => 
                )

            [anwser_text] => Okej, załapałem jak się poruszać
            [type_anwser] => Array
                (
                    [0] => Array
                        (
                            [acf_fc_layout] => mission
                            [acfe_flexible_toggle] => 
                            [mission_id] => 339
                            [mission_status] => in_progress
                            [mission_task_id] => jak-poruszac-sie-po-grze_0
                            [mission_task_status] => completed
                        )

                )

            [go_to_id] => jak-sie-w-to-gra
        )

)

[2025-05-18 18:01:19] [DEBUG] Znaleziono odpowiedź o indeksie: 0
[2025-05-18 18:01:19] [INFO] Dane odpowiedzi:
[2025-05-18 18:01:19] [DATA] Array
(
    [acf_fc_layout] => anwser
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [anwser_text] => Okej, załapałem jak się poruszać
    [type_anwser] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => mission
                    [acfe_flexible_toggle] => 
                    [mission_id] => 339
                    [mission_status] => in_progress
                    [mission_task_id] => jak-poruszac-sie-po-grze_0
                    [mission_task_status] => completed
                )

        )

    [go_to_id] => jak-sie-w-to-gra
)

[2025-05-18 18:01:19] [INFO] Odpowiedź zawiera akcje do wykonania:
[2025-05-18 18:01:19] [DATA] Array
(
    [0] => Array
        (
            [acf_fc_layout] => mission
            [acfe_flexible_toggle] => 
            [mission_id] => 339
            [mission_status] => in_progress
            [mission_task_id] => jak-poruszac-sie-po-grze_0
            [mission_task_status] => completed
        )

)

[2025-05-18 18:01:19] [INFO] Weryfikacja akcji:
[2025-05-18 18:01:19] [DATA] Array
(
    [acf_fc_layout] => mission
    [acfe_flexible_toggle] => 
    [mission_id] => 339
    [mission_status] => in_progress
    [mission_task_id] => jak-poruszac-sie-po-grze_0
    [mission_task_status] => completed
)

[2025-05-18 18:01:19] [DEBUG] WSZYSTKIE AKCJE SĄ WYKONALNE, PRZYSTĘPUJĘ DO ICH REALIZACJI
[2025-05-18 18:01:19] [INFO] Przetwarzanie akcji:
[2025-05-18 18:01:19] [DATA] Array
(
    [acf_fc_layout] => mission
    [acfe_flexible_toggle] => 
    [mission_id] => 339
    [mission_status] => in_progress
    [mission_task_id] => jak-poruszac-sie-po-grze_0
    [mission_task_status] => completed
)

[2025-05-18 18:01:19] [DEBUG] Typ akcji: mission
[2025-05-18 18:01:19] [DEBUG] Wykonuję akcję misji: mission_id=339, status=in_progress, task_id=jak-poruszac-sie-po-grze_0, task_status=completed, npc_id=449
[2025-05-18 18:01:19] [INFO] Aktualny stan misji użytkownika:
[2025-05-18 18:01:19] [DATA] Array
(
    [status] => in_progress
    [assigned_date] => 2025-04-29 18:04:25
    [completion_date] => 2025-05-15 18:20:13
    [tasks] => Array
        (
            [jak-poruszac-sie-po-grze_0] => not_started
            [jak-sie-tu-poruszac_1] => not_started
        )

)

[2025-05-18 18:01:19] [DEBUG] Zaktualizowano status misji 'Przejdź samouczek' z 'in_progress' na 'in_progress'
[2025-05-18 18:01:19] [DEBUG] Zaktualizowano status standardowego zadania 'jak-poruszac-sie-po-grze_0' z 'not_started' na 'completed'
[2025-05-18 18:01:19] [DEBUG] Rezultat update_field dla misji mission_339: BŁĄD
[2025-05-18 18:01:19] [INFO] Stan misji po aktualizacji:
[2025-05-18 18:01:19] [DATA] Array
(
    [status] => in_progress
    [assigned_date] => 2025-04-29 18:04:25
    [completion_date] => 2025-05-15 18:20:13
    [tasks] => Array
        (
            [jak-poruszac-sie-po-grze_0] => completed
            [jak-sie-tu-poruszac_1] => not_started
        )

)

[2025-05-18 18:01:19] [INFO] Utworzono powiadomienie dla misji:
[2025-05-18 18:01:19] [DATA] Array
(
    [message] => Ukończono zadanie: "Jak poruszać się po grze?"
    [status] => success
)

[2025-05-18 18:01:19] [INFO] DialogManager: Rozpoczynam filtrowanie odpowiedzi.
[2025-05-18 18:01:19] [DATA] Array
(
    [count_answers_before] => 7
    [context] => Array
        (
            [type_page] => 
            [location] => 
            [user_id] => 1
            [npc_id] => 449
        )

)

[2025-05-18 18:01:19] [INFO] DialogManager: Sprawdzanie odpowiedzi: acf_fc_layout
[2025-05-18 18:01:19] [DATA] Array
(
    [answer_data] => question
)

[2025-05-18 18:01:19] [DEBUG] DialogManager: Odpowiedź (acf_fc_layout) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 18:01:19] [INFO] DialogManager: Sprawdzanie odpowiedzi: layout_settings
[2025-05-18 18:01:19] [DATA] Array
(
    [answer_data] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

)

[2025-05-18 18:01:19] [DEBUG] DialogManager: Odpowiedź (layout_settings) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 18:01:19] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_toggle
[2025-05-18 18:01:19] [DATA] Array
(
    [answer_data] => 
)

[2025-05-18 18:01:19] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_toggle) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 18:01:19] [INFO] DialogManager: Sprawdzanie odpowiedzi: acfe_flexible_layout_title
[2025-05-18 18:01:19] [DATA] Array
(
    [answer_data] => Dialog
)

[2025-05-18 18:01:19] [DEBUG] DialogManager: Odpowiedź (acfe_flexible_layout_title) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 18:01:19] [INFO] DialogManager: Sprawdzanie odpowiedzi: id_pola
[2025-05-18 18:01:19] [DATA] Array
(
    [answer_data] => jak-sie-w-to-gra
)

[2025-05-18 18:01:19] [DEBUG] DialogManager: Odpowiedź (id_pola) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 18:01:19] [INFO] DialogManager: Sprawdzanie odpowiedzi: question
[2025-05-18 18:01:19] [DATA] Array
(
    [answer_data] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

)

[2025-05-18 18:01:19] [DEBUG] DialogManager: Odpowiedź (question) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 18:01:19] [INFO] DialogManager: Sprawdzanie odpowiedzi: anwsers
[2025-05-18 18:01:19] [DATA] Array
(
    [answer_data] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_task
                                            [condition] => is_not
                                            [mission_id] => 339
                                            [task_id] => jak-poruszac-sie-po-grze_0
                                            [status] => completed
                                        )

                                )

                        )

                    [anwser_text] => Jak poruszać się po grze?
                    [type_anwser] => 
                    [go_to_id] => jak-poruszac-sie-po-grze
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => test
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-18 18:01:19] [DEBUG] DialogManager: Odpowiedź (anwsers) nie ma zdefiniowanych warunków widoczności.
[2025-05-18 18:01:19] [INFO] DialogManager: Zakończono filtrowanie odpowiedzi.
[2025-05-18 18:01:19] [DATA] Array
(
    [count_answers_after] => 7
)

[2025-05-18 18:01:19] [INFO] Dialog po filtrowaniu:
[2025-05-18 18:01:19] [DATA] Array
(
    [acf_fc_layout] => question
    [layout_settings] => Array
        (
            [visibility_tab] => 
            [logic_operator] => and
            [visibility_settings] => 
        )

    [acfe_flexible_toggle] => 
    [acfe_flexible_layout_title] => Dialog
    [id_pola] => jak-sie-w-to-gra
    [question] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

    [anwsers] => Array
        (
            [0] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => Array
                                (
                                    [0] => Array
                                        (
                                            [acf_fc_layout] => condition_task
                                            [condition] => is_not
                                            [mission_id] => 339
                                            [task_id] => jak-poruszac-sie-po-grze_0
                                            [status] => completed
                                        )

                                )

                        )

                    [anwser_text] => Jak poruszać się po grze?
                    [type_anwser] => 
                    [go_to_id] => jak-poruszac-sie-po-grze
                )

            [1] => Array
                (
                    [acf_fc_layout] => anwser
                    [layout_settings] => Array
                        (
                            [visibility_tab] => 
                            [logic_operator] => and
                            [visibility_settings] => 
                        )

                    [anwser_text] => test
                    [type_anwser] => 
                    [go_to_id] => 0
                )

        )

)

[2025-05-18 18:01:19] [INFO] Dodano powiadomienie do odpowiedzi:
[2025-05-18 18:01:19] [DATA] Array
(
    [message] => Ukończono zadanie: "Jak poruszać się po grze?"
    [status] => success
)

[2025-05-18 18:01:19] [INFO] Dane odpowiedzi:
[2025-05-18 18:01:19] [DATA] Array
(
    [success] => 1
    [dialog] => Array
        (
            [id] => jak-sie-w-to-gra
            [text] => <p>Dobra, słuchaj uważnie. Sebastianowo to nie klasyczna gra. To interaktywny komiks. Nie biegasz po mapie, nie wciskasz strzałek. Każda scena to rysunek, a na nim rzeczy, które możesz kliknąć. <strong>Teraz powiedz mi kolory misiu, co chcesz wiedzieć na temat gry?</strong></p>

            [answers] => Array
                (
                    [0] => Array
                        (
                            [id] => 
                            [text] => Jak poruszać się po grze?
                            [next_dialog] => jak-poruszac-sie-po-grze
                        )

                    [1] => Array
                        (
                            [id] => 
                            [text] => test
                            [next_dialog] => 0
                        )

                )

        )

    [npc] => Array
        (
            [id] => 449
            [name] => Papuga
            [image] => http://seb.soeasy.it/wp-content/uploads/2025/05/papuga_new.png
        )

    [notification] => Array
        (
            [message] => Ukończono zadanie: "Jak poruszać się po grze?"
            [status] => success
        )

)

[2025-05-18 18:01:19] [DEBUG] ===== ZAKOŃCZENIE PRZETWARZANIA ŻĄDANIA DIALOGU =====
[2025-05-18 18:01:19] [DEBUG] Obsługa żądania danych użytkownika ID: 1
[2025-05-18 18:01:19] [INFO] Pobrano dane plecaka użytkownika:
[2025-05-18 18:01:19] [DATA] Array
(
    [gold] => 100
    [cigarettes] => 31
)

[2025-05-18 18:01:19] [INFO] Pobrano dane witalności użytkownika:
[2025-05-18 18:01:19] [DATA] Array
(
    [life] => 80
    [max_life] => 100
    [energy] => 70
    [max_energy] => 100
)

[2025-05-18 18:01:19] [INFO] Zwracam dane użytkownika:
[2025-05-18 18:01:19] [DATA] Array
(
    [success] => 1
    [message] => Dane użytkownika pobrane pomyślnie
    [data] => Array
        (
            [backpack] => Array
                (
                    [gold] => 100
                    [cigarettes] => 31
                )

            [vitality] => Array
                (
                    [life] => 80
                    [max_life] => 100
                    [energy] => 70
                    [max_energy] => 100
                )

        )

)

